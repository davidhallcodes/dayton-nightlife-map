function em(o,r){for(var s=0;s<r.length;s++){const u=r[s];if(typeof u!="string"&&!Array.isArray(u)){for(const h in u)if(h!=="default"&&!(h in o)){const p=Object.getOwnPropertyDescriptor(u,h);p&&Object.defineProperty(o,h,p.get?p:{enumerable:!0,get:()=>u[h]})}}}return Object.freeze(Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}))}(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const h of document.querySelectorAll('link[rel="modulepreload"]'))u(h);new MutationObserver(h=>{for(const p of h)if(p.type==="childList")for(const m of p.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&u(m)}).observe(document,{childList:!0,subtree:!0});function s(h){const p={};return h.integrity&&(p.integrity=h.integrity),h.referrerPolicy&&(p.referrerPolicy=h.referrerPolicy),h.crossOrigin==="use-credentials"?p.credentials="include":h.crossOrigin==="anonymous"?p.credentials="omit":p.credentials="same-origin",p}function u(h){if(h.ep)return;h.ep=!0;const p=s(h);fetch(h.href,p)}})();function ql(o){return o&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o}var Sc={exports:{}},Yo={},kc={exports:{}},Me={};var $d;function tm(){if($d)return Me;$d=1;var o=Symbol.for("react.element"),r=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),u=Symbol.for("react.strict_mode"),h=Symbol.for("react.profiler"),p=Symbol.for("react.provider"),m=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),S=Symbol.for("react.memo"),P=Symbol.for("react.lazy"),O=Symbol.iterator;function E(C){return C===null||typeof C!="object"?null:(C=O&&C[O]||C["@@iterator"],typeof C=="function"?C:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},U=Object.assign,j={};function D(C,Z,ce){this.props=C,this.context=Z,this.refs=j,this.updater=ce||R}D.prototype.isReactComponent={},D.prototype.setState=function(C,Z){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,Z,"setState")},D.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function X(){}X.prototype=D.prototype;function te(C,Z,ce){this.props=C,this.context=Z,this.refs=j,this.updater=ce||R}var J=te.prototype=new X;J.constructor=te,U(J,D.prototype),J.isPureReactComponent=!0;var se=Array.isArray,le=Object.prototype.hasOwnProperty,ue={current:null},fe={key:!0,ref:!0,__self:!0,__source:!0};function Ae(C,Z,ce){var oe,me={},he=null,je=null;if(Z!=null)for(oe in Z.ref!==void 0&&(je=Z.ref),Z.key!==void 0&&(he=""+Z.key),Z)le.call(Z,oe)&&!fe.hasOwnProperty(oe)&&(me[oe]=Z[oe]);var Re=arguments.length-2;if(Re===1)me.children=ce;else if(1<Re){for(var Ze=Array(Re),xt=0;xt<Re;xt++)Ze[xt]=arguments[xt+2];me.children=Ze}if(C&&C.defaultProps)for(oe in Re=C.defaultProps,Re)me[oe]===void 0&&(me[oe]=Re[oe]);return{$$typeof:o,type:C,key:he,ref:je,props:me,_owner:ue.current}}function xe(C,Z){return{$$typeof:o,type:C.type,key:Z,ref:C.ref,props:C.props,_owner:C._owner}}function Je(C){return typeof C=="object"&&C!==null&&C.$$typeof===o}function Fe(C){var Z={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(ce){return Z[ce]})}var He=/\/+/g;function dt(C,Z){return typeof C=="object"&&C!==null&&C.key!=null?Fe(""+C.key):Z.toString(36)}function K(C,Z,ce,oe,me){var he=typeof C;(he==="undefined"||he==="boolean")&&(C=null);var je=!1;if(C===null)je=!0;else switch(he){case"string":case"number":je=!0;break;case"object":switch(C.$$typeof){case o:case r:je=!0}}if(je)return je=C,me=me(je),C=oe===""?"."+dt(je,0):oe,se(me)?(ce="",C!=null&&(ce=C.replace(He,"$&/")+"/"),K(me,Z,ce,"",function(xt){return xt})):me!=null&&(Je(me)&&(me=xe(me,ce+(!me.key||je&&je.key===me.key?"":(""+me.key).replace(He,"$&/")+"/")+C)),Z.push(me)),1;if(je=0,oe=oe===""?".":oe+":",se(C))for(var Re=0;Re<C.length;Re++){he=C[Re];var Ze=oe+dt(he,Re);je+=K(he,Z,ce,Ze,me)}else if(Ze=E(C),typeof Ze=="function")for(C=Ze.call(C),Re=0;!(he=C.next()).done;)he=he.value,Ze=oe+dt(he,Re++),je+=K(he,Z,ce,Ze,me);else if(he==="object")throw Z=String(C),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.");return je}function W(C,Z,ce){if(C==null)return C;var oe=[],me=0;return K(C,oe,"","",function(he){return Z.call(ce,he,me++)}),oe}function M(C){if(C._status===-1){var Z=C._result;Z=Z(),Z.then(function(ce){(C._status===0||C._status===-1)&&(C._status=1,C._result=ce)},function(ce){(C._status===0||C._status===-1)&&(C._status=2,C._result=ce)}),C._status===-1&&(C._status=0,C._result=Z)}if(C._status===1)return C._result.default;throw C._result}var q={current:null},I={transition:null},Q={ReactCurrentDispatcher:q,ReactCurrentBatchConfig:I,ReactCurrentOwner:ue};function V(){throw Error("act(...) is not supported in production builds of React.")}return Me.Children={map:W,forEach:function(C,Z,ce){W(C,function(){Z.apply(this,arguments)},ce)},count:function(C){var Z=0;return W(C,function(){Z++}),Z},toArray:function(C){return W(C,function(Z){return Z})||[]},only:function(C){if(!Je(C))throw Error("React.Children.only expected to receive a single React element child.");return C}},Me.Component=D,Me.Fragment=s,Me.Profiler=h,Me.PureComponent=te,Me.StrictMode=u,Me.Suspense=y,Me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Q,Me.act=V,Me.cloneElement=function(C,Z,ce){if(C==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+C+".");var oe=U({},C.props),me=C.key,he=C.ref,je=C._owner;if(Z!=null){if(Z.ref!==void 0&&(he=Z.ref,je=ue.current),Z.key!==void 0&&(me=""+Z.key),C.type&&C.type.defaultProps)var Re=C.type.defaultProps;for(Ze in Z)le.call(Z,Ze)&&!fe.hasOwnProperty(Ze)&&(oe[Ze]=Z[Ze]===void 0&&Re!==void 0?Re[Ze]:Z[Ze])}var Ze=arguments.length-2;if(Ze===1)oe.children=ce;else if(1<Ze){Re=Array(Ze);for(var xt=0;xt<Ze;xt++)Re[xt]=arguments[xt+2];oe.children=Re}return{$$typeof:o,type:C.type,key:me,ref:he,props:oe,_owner:je}},Me.createContext=function(C){return C={$$typeof:m,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},C.Provider={$$typeof:p,_context:C},C.Consumer=C},Me.createElement=Ae,Me.createFactory=function(C){var Z=Ae.bind(null,C);return Z.type=C,Z},Me.createRef=function(){return{current:null}},Me.forwardRef=function(C){return{$$typeof:_,render:C}},Me.isValidElement=Je,Me.lazy=function(C){return{$$typeof:P,_payload:{_status:-1,_result:C},_init:M}},Me.memo=function(C,Z){return{$$typeof:S,type:C,compare:Z===void 0?null:Z}},Me.startTransition=function(C){var Z=I.transition;I.transition={};try{C()}finally{I.transition=Z}},Me.unstable_act=V,Me.useCallback=function(C,Z){return q.current.useCallback(C,Z)},Me.useContext=function(C){return q.current.useContext(C)},Me.useDebugValue=function(){},Me.useDeferredValue=function(C){return q.current.useDeferredValue(C)},Me.useEffect=function(C,Z){return q.current.useEffect(C,Z)},Me.useId=function(){return q.current.useId()},Me.useImperativeHandle=function(C,Z,ce){return q.current.useImperativeHandle(C,Z,ce)},Me.useInsertionEffect=function(C,Z){return q.current.useInsertionEffect(C,Z)},Me.useLayoutEffect=function(C,Z){return q.current.useLayoutEffect(C,Z)},Me.useMemo=function(C,Z){return q.current.useMemo(C,Z)},Me.useReducer=function(C,Z,ce){return q.current.useReducer(C,Z,ce)},Me.useRef=function(C){return q.current.useRef(C)},Me.useState=function(C){return q.current.useState(C)},Me.useSyncExternalStore=function(C,Z,ce){return q.current.useSyncExternalStore(C,Z,ce)},Me.useTransition=function(){return q.current.useTransition()},Me.version="18.3.1",Me}var Hd;function nh(){return Hd||(Hd=1,kc.exports=tm()),kc.exports}var Wd;function nm(){if(Wd)return Yo;Wd=1;var o=nh(),r=Symbol.for("react.element"),s=Symbol.for("react.fragment"),u=Object.prototype.hasOwnProperty,h=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p={key:!0,ref:!0,__self:!0,__source:!0};function m(_,y,S){var P,O={},E=null,R=null;S!==void 0&&(E=""+S),y.key!==void 0&&(E=""+y.key),y.ref!==void 0&&(R=y.ref);for(P in y)u.call(y,P)&&!p.hasOwnProperty(P)&&(O[P]=y[P]);if(_&&_.defaultProps)for(P in y=_.defaultProps,y)O[P]===void 0&&(O[P]=y[P]);return{$$typeof:r,type:_,key:E,ref:R,props:O,_owner:h.current}}return Yo.Fragment=s,Yo.jsx=m,Yo.jsxs=m,Yo}var Vd;function rm(){return Vd||(Vd=1,Sc.exports=nm()),Sc.exports}var x=rm(),G=nh();const yn=ql(G),im=em({__proto__:null,default:yn},[G]);var Il={},Pc={exports:{}},qt={},Ec={exports:{}},Tc={};var Zd;function sm(){return Zd||(Zd=1,(function(o){function r(I,Q){var V=I.length;I.push(Q);e:for(;0<V;){var C=V-1>>>1,Z=I[C];if(0<h(Z,Q))I[C]=Q,I[V]=Z,V=C;else break e}}function s(I){return I.length===0?null:I[0]}function u(I){if(I.length===0)return null;var Q=I[0],V=I.pop();if(V!==Q){I[0]=V;e:for(var C=0,Z=I.length,ce=Z>>>1;C<ce;){var oe=2*(C+1)-1,me=I[oe],he=oe+1,je=I[he];if(0>h(me,V))he<Z&&0>h(je,me)?(I[C]=je,I[he]=V,C=he):(I[C]=me,I[oe]=V,C=oe);else if(he<Z&&0>h(je,V))I[C]=je,I[he]=V,C=he;else break e}}return Q}function h(I,Q){var V=I.sortIndex-Q.sortIndex;return V!==0?V:I.id-Q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var p=performance;o.unstable_now=function(){return p.now()}}else{var m=Date,_=m.now();o.unstable_now=function(){return m.now()-_}}var y=[],S=[],P=1,O=null,E=3,R=!1,U=!1,j=!1,D=typeof setTimeout=="function"?setTimeout:null,X=typeof clearTimeout=="function"?clearTimeout:null,te=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function J(I){for(var Q=s(S);Q!==null;){if(Q.callback===null)u(S);else if(Q.startTime<=I)u(S),Q.sortIndex=Q.expirationTime,r(y,Q);else break;Q=s(S)}}function se(I){if(j=!1,J(I),!U)if(s(y)!==null)U=!0,M(le);else{var Q=s(S);Q!==null&&q(se,Q.startTime-I)}}function le(I,Q){U=!1,j&&(j=!1,X(Ae),Ae=-1),R=!0;var V=E;try{for(J(Q),O=s(y);O!==null&&(!(O.expirationTime>Q)||I&&!Fe());){var C=O.callback;if(typeof C=="function"){O.callback=null,E=O.priorityLevel;var Z=C(O.expirationTime<=Q);Q=o.unstable_now(),typeof Z=="function"?O.callback=Z:O===s(y)&&u(y),J(Q)}else u(y);O=s(y)}if(O!==null)var ce=!0;else{var oe=s(S);oe!==null&&q(se,oe.startTime-Q),ce=!1}return ce}finally{O=null,E=V,R=!1}}var ue=!1,fe=null,Ae=-1,xe=5,Je=-1;function Fe(){return!(o.unstable_now()-Je<xe)}function He(){if(fe!==null){var I=o.unstable_now();Je=I;var Q=!0;try{Q=fe(!0,I)}finally{Q?dt():(ue=!1,fe=null)}}else ue=!1}var dt;if(typeof te=="function")dt=function(){te(He)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,W=K.port2;K.port1.onmessage=He,dt=function(){W.postMessage(null)}}else dt=function(){D(He,0)};function M(I){fe=I,ue||(ue=!0,dt())}function q(I,Q){Ae=D(function(){I(o.unstable_now())},Q)}o.unstable_IdlePriority=5,o.unstable_ImmediatePriority=1,o.unstable_LowPriority=4,o.unstable_NormalPriority=3,o.unstable_Profiling=null,o.unstable_UserBlockingPriority=2,o.unstable_cancelCallback=function(I){I.callback=null},o.unstable_continueExecution=function(){U||R||(U=!0,M(le))},o.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):xe=0<I?Math.floor(1e3/I):5},o.unstable_getCurrentPriorityLevel=function(){return E},o.unstable_getFirstCallbackNode=function(){return s(y)},o.unstable_next=function(I){switch(E){case 1:case 2:case 3:var Q=3;break;default:Q=E}var V=E;E=Q;try{return I()}finally{E=V}},o.unstable_pauseExecution=function(){},o.unstable_requestPaint=function(){},o.unstable_runWithPriority=function(I,Q){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var V=E;E=I;try{return Q()}finally{E=V}},o.unstable_scheduleCallback=function(I,Q,V){var C=o.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?C+V:C):V=C,I){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=V+Z,I={id:P++,callback:Q,priorityLevel:I,startTime:V,expirationTime:Z,sortIndex:-1},V>C?(I.sortIndex=V,r(S,I),s(y)===null&&I===s(S)&&(j?(X(Ae),Ae=-1):j=!0,q(se,V-C))):(I.sortIndex=Z,r(y,I),U||R||(U=!0,M(le))),I},o.unstable_shouldYield=Fe,o.unstable_wrapCallback=function(I){var Q=E;return function(){var V=E;E=Q;try{return I.apply(this,arguments)}finally{E=V}}}})(Tc)),Tc}var qd;function om(){return qd||(qd=1,Ec.exports=sm()),Ec.exports}var Gd;function am(){if(Gd)return qt;Gd=1;var o=nh(),r=om();function s(e){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+e,a=1;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var u=new Set,h={};function p(e,n){m(e,n),m(e+"Capture",n)}function m(e,n){for(h[e]=n,e=0;e<n.length;e++)u.add(n[e])}var _=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),y=Object.prototype.hasOwnProperty,S=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,P={},O={};function E(e){return y.call(O,e)?!0:y.call(P,e)?!1:S.test(e)?O[e]=!0:(P[e]=!0,!1)}function R(e,n,a,c){if(a!==null&&a.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return c?!1:a!==null?!a.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function U(e,n,a,c){if(n===null||typeof n>"u"||R(e,n,a,c))return!0;if(c)return!1;if(a!==null)switch(a.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function j(e,n,a,c,f,g,w){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=c,this.attributeNamespace=f,this.mustUseProperty=a,this.propertyName=e,this.type=n,this.sanitizeURL=g,this.removeEmptyString=w}var D={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){D[e]=new j(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var n=e[0];D[n]=new j(n,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){D[e]=new j(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){D[e]=new j(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){D[e]=new j(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){D[e]=new j(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){D[e]=new j(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){D[e]=new j(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){D[e]=new j(e,5,!1,e.toLowerCase(),null,!1,!1)});var X=/[\-:]([a-z])/g;function te(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var n=e.replace(X,te);D[n]=new j(n,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var n=e.replace(X,te);D[n]=new j(n,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var n=e.replace(X,te);D[n]=new j(n,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){D[e]=new j(e,1,!1,e.toLowerCase(),null,!1,!1)}),D.xlinkHref=new j("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){D[e]=new j(e,1,!1,e.toLowerCase(),null,!0,!0)});function J(e,n,a,c){var f=D.hasOwnProperty(n)?D[n]:null;(f!==null?f.type!==0:c||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(U(n,a,f,c)&&(a=null),c||f===null?E(n)&&(a===null?e.removeAttribute(n):e.setAttribute(n,""+a)):f.mustUseProperty?e[f.propertyName]=a===null?f.type===3?!1:"":a:(n=f.attributeName,c=f.attributeNamespace,a===null?e.removeAttribute(n):(f=f.type,a=f===3||f===4&&a===!0?"":""+a,c?e.setAttributeNS(c,n,a):e.setAttribute(n,a))))}var se=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,le=Symbol.for("react.element"),ue=Symbol.for("react.portal"),fe=Symbol.for("react.fragment"),Ae=Symbol.for("react.strict_mode"),xe=Symbol.for("react.profiler"),Je=Symbol.for("react.provider"),Fe=Symbol.for("react.context"),He=Symbol.for("react.forward_ref"),dt=Symbol.for("react.suspense"),K=Symbol.for("react.suspense_list"),W=Symbol.for("react.memo"),M=Symbol.for("react.lazy"),q=Symbol.for("react.offscreen"),I=Symbol.iterator;function Q(e){return e===null||typeof e!="object"?null:(e=I&&e[I]||e["@@iterator"],typeof e=="function"?e:null)}var V=Object.assign,C;function Z(e){if(C===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);C=n&&n[1]||""}return`
`+C+e}var ce=!1;function oe(e,n){if(!e||ce)return"";ce=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(H){var c=H}Reflect.construct(e,[],n)}else{try{n.call()}catch(H){c=H}e.call(n.prototype)}else{try{throw Error()}catch(H){c=H}e()}}catch(H){if(H&&c&&typeof H.stack=="string"){for(var f=H.stack.split(`
`),g=c.stack.split(`
`),w=f.length-1,k=g.length-1;1<=w&&0<=k&&f[w]!==g[k];)k--;for(;1<=w&&0<=k;w--,k--)if(f[w]!==g[k]){if(w!==1||k!==1)do if(w--,k--,0>k||f[w]!==g[k]){var A=`
`+f[w].replace(" at new "," at ");return e.displayName&&A.includes("<anonymous>")&&(A=A.replace("<anonymous>",e.displayName)),A}while(1<=w&&0<=k);break}}}finally{ce=!1,Error.prepareStackTrace=a}return(e=e?e.displayName||e.name:"")?Z(e):""}function me(e){switch(e.tag){case 5:return Z(e.type);case 16:return Z("Lazy");case 13:return Z("Suspense");case 19:return Z("SuspenseList");case 0:case 2:case 15:return e=oe(e.type,!1),e;case 11:return e=oe(e.type.render,!1),e;case 1:return e=oe(e.type,!0),e;default:return""}}function he(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case fe:return"Fragment";case ue:return"Portal";case xe:return"Profiler";case Ae:return"StrictMode";case dt:return"Suspense";case K:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Fe:return(e.displayName||"Context")+".Consumer";case Je:return(e._context.displayName||"Context")+".Provider";case He:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case W:return n=e.displayName||null,n!==null?n:he(e.type)||"Memo";case M:n=e._payload,e=e._init;try{return he(e(n))}catch{}}return null}function je(e){var n=e.type;switch(e.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=n.render,e=e.displayName||e.name||"",n.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return he(n);case 8:return n===Ae?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function Re(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ze(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function xt(e){var n=Ze(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),c=""+e[n];if(!e.hasOwnProperty(n)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,g=a.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return f.call(this)},set:function(w){c=""+w,g.call(this,w)}}),Object.defineProperty(e,n,{enumerable:a.enumerable}),{getValue:function(){return c},setValue:function(w){c=""+w},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function _r(e){e._valueTracker||(e._valueTracker=xt(e))}function yr(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var a=n.getValue(),c="";return e&&(c=Ze(e)?e.checked?"true":"false":e.value),e=c,e!==a?(n.setValue(e),!0):!1}function wr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Qs(e,n){var a=n.checked;return V({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??e._wrapperState.initialChecked})}function Ys(e,n){var a=n.defaultValue==null?"":n.defaultValue,c=n.checked!=null?n.checked:n.defaultChecked;a=Re(n.value!=null?n.value:a),e._wrapperState={initialChecked:c,initialValue:a,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function Xs(e,n){n=n.checked,n!=null&&J(e,"checked",n,!1)}function ai(e,n){Xs(e,n);var a=Re(n.value),c=n.type;if(a!=null)c==="number"?(a===0&&e.value===""||e.value!=a)&&(e.value=""+a):e.value!==""+a&&(e.value=""+a);else if(c==="submit"||c==="reset"){e.removeAttribute("value");return}n.hasOwnProperty("value")?eo(e,n.type,a):n.hasOwnProperty("defaultValue")&&eo(e,n.type,Re(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(e.defaultChecked=!!n.defaultChecked)}function li(e,n,a){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var c=n.type;if(!(c!=="submit"&&c!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+e._wrapperState.initialValue,a||n===e.value||(e.value=n),e.defaultValue=n}a=e.name,a!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,a!==""&&(e.name=a)}function eo(e,n,a){(n!=="number"||wr(e.ownerDocument)!==e)&&(a==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+a&&(e.defaultValue=""+a))}var xr=Array.isArray;function jn(e,n,a,c){if(e=e.options,n){n={};for(var f=0;f<a.length;f++)n["$"+a[f]]=!0;for(a=0;a<e.length;a++)f=n.hasOwnProperty("$"+e[a].value),e[a].selected!==f&&(e[a].selected=f),f&&c&&(e[a].defaultSelected=!0)}else{for(a=""+Re(a),n=null,f=0;f<e.length;f++){if(e[f].value===a){e[f].selected=!0,c&&(e[f].defaultSelected=!0);return}n!==null||e[f].disabled||(n=e[f])}n!==null&&(n.selected=!0)}}function Zi(e,n){if(n.dangerouslySetInnerHTML!=null)throw Error(s(91));return V({},n,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function to(e,n){var a=n.value;if(a==null){if(a=n.children,n=n.defaultValue,a!=null){if(n!=null)throw Error(s(92));if(xr(a)){if(1<a.length)throw Error(s(93));a=a[0]}n=a}n==null&&(n=""),a=n}e._wrapperState={initialValue:Re(a)}}function fa(e,n){var a=Re(n.value),c=Re(n.defaultValue);a!=null&&(a=""+a,a!==e.value&&(e.value=a),n.defaultValue==null&&e.defaultValue!==a&&(e.defaultValue=a)),c!=null&&(e.defaultValue=""+c)}function pa(e){var n=e.textContent;n===e._wrapperState.initialValue&&n!==""&&n!==null&&(e.value=n)}function qi(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Gi(e,n){return e==null||e==="http://www.w3.org/1999/xhtml"?qi(n):e==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ui,ma=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,a,c,f){MSApp.execUnsafeLocalFunction(function(){return e(n,a,c,f)})}:e})(function(e,n){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=n;else{for(ui=ui||document.createElement("div"),ui.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=ui.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;n.firstChild;)e.appendChild(n.firstChild)}});function br(e,n){if(n){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=n;return}}e.textContent=n}var Sr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Xl=["Webkit","ms","Moz","O"];Object.keys(Sr).forEach(function(e){Xl.forEach(function(n){n=n+e.charAt(0).toUpperCase()+e.substring(1),Sr[n]=Sr[e]})});function no(e,n,a){return n==null||typeof n=="boolean"||n===""?"":a||typeof n!="number"||n===0||Sr.hasOwnProperty(e)&&Sr[e]?(""+n).trim():n+"px"}function Ki(e,n){e=e.style;for(var a in n)if(n.hasOwnProperty(a)){var c=a.indexOf("--")===0,f=no(a,n[a],c);a==="float"&&(a="cssFloat"),c?e.setProperty(a,f):e[a]=f}}var ga=V({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ro(e,n){if(n){if(ga[e]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(s(137,e));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(s(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(s(61))}if(n.style!=null&&typeof n.style!="object")throw Error(s(62))}}function Zn(e,n){if(e.indexOf("-")===-1)return typeof n.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var io=null;function so(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ji=null,qn=null,Gn=null;function va(e){if(e=or(e)){if(typeof Ji!="function")throw Error(s(280));var n=e.stateNode;n&&(n=Ss(n),Ji(e.stateNode,e.type,n))}}function _a(e){qn?Gn?Gn.push(e):Gn=[e]:qn=e}function ya(){if(qn){var e=qn,n=Gn;if(Gn=qn=null,va(e),n)for(e=0;e<n.length;e++)va(n[e])}}function wa(e,n){return e(n)}function xa(){}var oo=!1;function Qi(e,n,a){if(oo)return e(n,a);oo=!0;try{return wa(e,n,a)}finally{oo=!1,(qn!==null||Gn!==null)&&(xa(),ya())}}function ci(e,n){var a=e.stateNode;if(a===null)return null;var c=Ss(a);if(c===null)return null;a=c[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(e=e.type,c=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!c;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,n,typeof a));return a}var ao=!1;if(_)try{var hi={};Object.defineProperty(hi,"passive",{get:function(){ao=!0}}),window.addEventListener("test",hi,hi),window.removeEventListener("test",hi,hi)}catch{ao=!1}function eu(e,n,a,c,f,g,w,k,A){var H=Array.prototype.slice.call(arguments,3);try{n.apply(a,H)}catch(ne){this.onError(ne)}}var Et=!1,_e=null,di=!1,Yi=null,ba={onError:function(e){Et=!0,_e=e}};function Sa(e,n,a,c,f,g,w,k,A){Et=!1,_e=null,eu.apply(ba,arguments)}function lo(e,n,a,c,f,g,w,k,A){if(Sa.apply(this,arguments),Et){if(Et){var H=_e;Et=!1,_e=null}else throw Error(s(198));di||(di=!0,Yi=H)}}function Rn(e){var n=e,a=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(a=n.return),e=n.return;while(e)}return n.tag===3?a:null}function Kn(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function uo(e){if(Rn(e)!==e)throw Error(s(188))}function tu(e){var n=e.alternate;if(!n){if(n=Rn(e),n===null)throw Error(s(188));return n!==e?null:e}for(var a=e,c=n;;){var f=a.return;if(f===null)break;var g=f.alternate;if(g===null){if(c=f.return,c!==null){a=c;continue}break}if(f.child===g.child){for(g=f.child;g;){if(g===a)return uo(f),e;if(g===c)return uo(f),n;g=g.sibling}throw Error(s(188))}if(a.return!==c.return)a=f,c=g;else{for(var w=!1,k=f.child;k;){if(k===a){w=!0,a=f,c=g;break}if(k===c){w=!0,c=f,a=g;break}k=k.sibling}if(!w){for(k=g.child;k;){if(k===a){w=!0,a=g,c=f;break}if(k===c){w=!0,c=g,a=f;break}k=k.sibling}if(!w)throw Error(s(189))}}if(a.alternate!==c)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:n}function ka(e){return e=tu(e),e!==null?Pa(e):null}function Pa(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var n=Pa(e);if(n!==null)return n;e=e.sibling}return null}var Ea=r.unstable_scheduleCallback,co=r.unstable_cancelCallback,nu=r.unstable_shouldYield,Xi=r.unstable_requestPaint,tt=r.unstable_now,ru=r.unstable_getCurrentPriorityLevel,ho=r.unstable_ImmediatePriority,Ta=r.unstable_UserBlockingPriority,es=r.unstable_NormalPriority,fo=r.unstable_LowPriority,kr=r.unstable_IdlePriority,fi=null,Gt=null;function pi(e){if(Gt&&typeof Gt.onCommitFiberRoot=="function")try{Gt.onCommitFiberRoot(fi,e,void 0,(e.current.flags&128)===128)}catch{}}var Le=Math.clz32?Math.clz32:Pr,Qe=Math.log,ts=Math.LN2;function Pr(e){return e>>>=0,e===0?32:31-(Qe(e)/ts|0)|0}var wn=64,Er=4194304;function Oe(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function qe(e,n){var a=e.pendingLanes;if(a===0)return 0;var c=0,f=e.suspendedLanes,g=e.pingedLanes,w=a&268435455;if(w!==0){var k=w&~f;k!==0?c=Oe(k):(g&=w,g!==0&&(c=Oe(g)))}else w=a&~f,w!==0?c=Oe(w):g!==0&&(c=Oe(g));if(c===0)return 0;if(n!==0&&n!==c&&(n&f)===0&&(f=c&-c,g=n&-n,f>=g||f===16&&(g&4194240)!==0))return n;if((c&4)!==0&&(c|=a&16),n=e.entangledLanes,n!==0)for(e=e.entanglements,n&=c;0<n;)a=31-Le(n),f=1<<a,c|=e[a],n&=~f;return c}function po(e,n){switch(e){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ns(e,n){for(var a=e.suspendedLanes,c=e.pingedLanes,f=e.expirationTimes,g=e.pendingLanes;0<g;){var w=31-Le(g),k=1<<w,A=f[w];A===-1?((k&a)===0||(k&c)!==0)&&(f[w]=po(k,n)):A<=n&&(e.expiredLanes|=k),g&=~k}}function Tt(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Ca(){var e=wn;return wn<<=1,(wn&4194240)===0&&(wn=64),e}function Tr(e){for(var n=[],a=0;31>a;a++)n.push(e);return n}function Kt(e,n,a){e.pendingLanes|=n,n!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,n=31-Le(n),e[n]=a}function st(e,n){var a=e.pendingLanes&~n;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=n,e.mutableReadLanes&=n,e.entangledLanes&=n,n=e.entanglements;var c=e.eventTimes;for(e=e.expirationTimes;0<a;){var f=31-Le(a),g=1<<f;n[f]=0,c[f]=-1,e[f]=-1,a&=~g}}function xn(e,n){var a=e.entangledLanes|=n;for(e=e.entanglements;a;){var c=31-Le(a),f=1<<c;f&n|e[c]&n&&(e[c]|=n),a&=~f}}var De=0;function Cr(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var rs,Jn,is,ss,mi,gi=!1,Or=[],Jt=null,bn=null,an=null,vi=new Map,Te=new Map,ft=[],We="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function mo(e,n){switch(e){case"focusin":case"focusout":Jt=null;break;case"dragenter":case"dragleave":bn=null;break;case"mouseover":case"mouseout":an=null;break;case"pointerover":case"pointerout":vi.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Te.delete(n.pointerId)}}function Qn(e,n,a,c,f,g){return e===null||e.nativeEvent!==g?(e={blockedOn:n,domEventName:a,eventSystemFlags:c,nativeEvent:g,targetContainers:[f]},n!==null&&(n=or(n),n!==null&&Jn(n)),e):(e.eventSystemFlags|=c,n=e.targetContainers,f!==null&&n.indexOf(f)===-1&&n.push(f),e)}function go(e,n,a,c,f){switch(n){case"focusin":return Jt=Qn(Jt,e,n,a,c,f),!0;case"dragenter":return bn=Qn(bn,e,n,a,c,f),!0;case"mouseover":return an=Qn(an,e,n,a,c,f),!0;case"pointerover":var g=f.pointerId;return vi.set(g,Qn(vi.get(g)||null,e,n,a,c,f)),!0;case"gotpointercapture":return g=f.pointerId,Te.set(g,Qn(Te.get(g)||null,e,n,a,c,f)),!0}return!1}function os(e){var n=sr(e.target);if(n!==null){var a=Rn(n);if(a!==null){if(n=a.tag,n===13){if(n=Kn(a),n!==null){e.blockedOn=n,mi(e.priority,function(){is(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ln(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var a=us(e.domEventName,e.eventSystemFlags,n[0],e.nativeEvent);if(a===null){a=e.nativeEvent;var c=new a.constructor(a.type,a);io=c,a.target.dispatchEvent(c),io=null}else return n=or(a),n!==null&&Jn(n),e.blockedOn=a,!1;n.shift()}return!0}function as(e,n,a){ln(e)&&a.delete(n)}function _i(){gi=!1,Jt!==null&&ln(Jt)&&(Jt=null),bn!==null&&ln(bn)&&(bn=null),an!==null&&ln(an)&&(an=null),vi.forEach(as),Te.forEach(as)}function nt(e,n){e.blockedOn===n&&(e.blockedOn=null,gi||(gi=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,_i)))}function Qt(e){function n(f){return nt(f,e)}if(0<Or.length){nt(Or[0],e);for(var a=1;a<Or.length;a++){var c=Or[a];c.blockedOn===e&&(c.blockedOn=null)}}for(Jt!==null&&nt(Jt,e),bn!==null&&nt(bn,e),an!==null&&nt(an,e),vi.forEach(n),Te.forEach(n),a=0;a<ft.length;a++)c=ft[a],c.blockedOn===e&&(c.blockedOn=null);for(;0<ft.length&&(a=ft[0],a.blockedOn===null);)os(a),a.blockedOn===null&&ft.shift()}var Yn=se.ReactCurrentBatchConfig,yi=!0;function iu(e,n,a,c){var f=De,g=Yn.transition;Yn.transition=null;try{De=1,wi(e,n,a,c)}finally{De=f,Yn.transition=g}}function Oa(e,n,a,c){var f=De,g=Yn.transition;Yn.transition=null;try{De=4,wi(e,n,a,c)}finally{De=f,Yn.transition=g}}function wi(e,n,a,c){if(yi){var f=us(e,n,a,c);if(f===null)t(e,n,c,ls,a),mo(e,c);else if(go(f,e,n,a,c))c.stopPropagation();else if(mo(e,c),n&4&&-1<We.indexOf(e)){for(;f!==null;){var g=or(f);if(g!==null&&rs(g),g=us(e,n,a,c),g===null&&t(e,n,c,ls,a),g===f)break;f=g}f!==null&&c.stopPropagation()}else t(e,n,c,null,a)}}var ls=null;function us(e,n,a,c){if(ls=null,e=so(c),e=sr(e),e!==null)if(n=Rn(e),n===null)e=null;else if(a=n.tag,a===13){if(e=Kn(n),e!==null)return e;e=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null);return ls=e,null}function ze(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ru()){case ho:return 1;case Ta:return 4;case es:case fo:return 16;case kr:return 536870912;default:return 16}default:return 16}}var In=null,Rt=null,Mn=null;function vo(){if(Mn)return Mn;var e,n=Rt,a=n.length,c,f="value"in In?In.value:In.textContent,g=f.length;for(e=0;e<a&&n[e]===f[e];e++);var w=a-e;for(c=1;c<=w&&n[a-c]===f[g-c];c++);return Mn=f.slice(e,1<c?1-c:void 0)}function cs(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Lr(){return!0}function La(){return!1}function Ct(e){function n(a,c,f,g,w){this._reactName=a,this._targetInst=f,this.type=c,this.nativeEvent=g,this.target=w,this.currentTarget=null;for(var k in e)e.hasOwnProperty(k)&&(a=e[k],this[k]=a?a(g):g[k]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Lr:La,this.isPropagationStopped=La,this}return V(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Lr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Lr)},persist:function(){},isPersistent:Lr}),n}var Ar={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_o=Ct(Ar),Xn=V({},Ar,{view:0,detail:0}),su=Ct(Xn),Ut,yo,Nr,Yt=V({},Xn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:tr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Nr&&(Nr&&e.type==="mousemove"?(Ut=e.screenX-Nr.screenX,yo=e.screenY-Nr.screenY):yo=Ut=0,Nr=e),Ut)},movementY:function(e){return"movementY"in e?e.movementY:yo}}),wo=Ct(Yt),Aa=V({},Yt,{dataTransfer:0}),xo=Ct(Aa),ou=V({},Xn,{relatedTarget:0}),hs=Ct(ou),Na=V({},Ar,{animationName:0,elapsedTime:0,pseudoElement:0}),au=Ct(Na),lu=V({},Ar,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bo=Ct(lu),uu=V({},Ar,{data:0}),So=Ct(uu),ja={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ds={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},er={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function cu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=er[e])?!!n[e]:!1}function tr(){return cu}var Ft=V({},Xn,{key:function(e){if(e.key){var n=ja[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=cs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ds[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:tr,charCode:function(e){return e.type==="keypress"?cs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?cs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ra=Ct(Ft),Ia=V({},Yt,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ma=Ct(Ia),ko=V({},Xn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:tr}),Po=Ct(ko),hu=V({},Ar,{propertyName:0,elapsedTime:0,pseudoElement:0}),du=Ct(hu),za=V({},Yt,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),fu=Ct(za),Xt=[9,13,27,32],zn=_&&"CompositionEvent"in window,xi=null;_&&"documentMode"in document&&(xi=document.documentMode);var Sn=_&&"TextEvent"in window&&!xi,Da=_&&(!zn||xi&&8<xi&&11>=xi),nr=" ",Ba=!1;function jr(e,n){switch(e){case"keyup":return Xt.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Eo(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var kn=!1;function pu(e,n){switch(e){case"compositionend":return Eo(n);case"keypress":return n.which!==32?null:(Ba=!0,nr);case"textInput":return e=n.data,e===nr&&Ba?null:e;default:return null}}function Dn(e,n){if(kn)return e==="compositionend"||!zn&&jr(e,n)?(e=vo(),Mn=Rt=In=null,kn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Da&&n.locale!=="ko"?null:n.data;default:return null}}var fs={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ua(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!fs[e.type]:n==="textarea"}function ps(e,n,a,c){_a(c),n=l(n,"onChange"),0<n.length&&(a=new _o("onChange","change",null,a,c),e.push({event:a,listeners:n}))}var bi=null,It=null;function mu(e){Io(e,0)}function Pn(e){var n=ar(e);if(yr(n))return e}function gu(e,n){if(e==="change")return n}var un=!1;if(_){var Rr;if(_){var ms="oninput"in document;if(!ms){var gs=document.createElement("div");gs.setAttribute("oninput","return;"),ms=typeof gs.oninput=="function"}Rr=ms}else Rr=!1;un=Rr&&(!document.documentMode||9<document.documentMode)}function Si(){bi&&(bi.detachEvent("onpropertychange",vs),It=bi=null)}function vs(e){if(e.propertyName==="value"&&Pn(It)){var n=[];ps(n,It,e,so(e)),Qi(mu,n)}}function _s(e,n,a){e==="focusin"?(Si(),bi=n,It=a,bi.attachEvent("onpropertychange",vs)):e==="focusout"&&Si()}function Ir(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Pn(It)}function ys(e,n){if(e==="click")return Pn(n)}function To(e,n){if(e==="input"||e==="change")return Pn(n)}function Fa(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var en=typeof Object.is=="function"?Object.is:Fa;function Bn(e,n){if(en(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var a=Object.keys(e),c=Object.keys(n);if(a.length!==c.length)return!1;for(c=0;c<a.length;c++){var f=a[c];if(!y.call(n,f)||!en(e[f],n[f]))return!1}return!0}function $a(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Co(e,n){var a=$a(e);e=0;for(var c;a;){if(a.nodeType===3){if(c=e+a.textContent.length,e<=n&&c>=n)return{node:a,offset:n-e};e=c}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=$a(a)}}function Ha(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Ha(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Oo(){for(var e=window,n=wr();n instanceof e.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)e=n.contentWindow;else break;n=wr(e.document)}return n}function Lo(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}function cn(e){var n=Oo(),a=e.focusedElem,c=e.selectionRange;if(n!==a&&a&&a.ownerDocument&&Ha(a.ownerDocument.documentElement,a)){if(c!==null&&Lo(a)){if(n=c.start,e=c.end,e===void 0&&(e=n),"selectionStart"in a)a.selectionStart=n,a.selectionEnd=Math.min(e,a.value.length);else if(e=(n=a.ownerDocument||document)&&n.defaultView||window,e.getSelection){e=e.getSelection();var f=a.textContent.length,g=Math.min(c.start,f);c=c.end===void 0?g:Math.min(c.end,f),!e.extend&&g>c&&(f=c,c=g,g=f),f=Co(a,g);var w=Co(a,c);f&&w&&(e.rangeCount!==1||e.anchorNode!==f.node||e.anchorOffset!==f.offset||e.focusNode!==w.node||e.focusOffset!==w.offset)&&(n=n.createRange(),n.setStart(f.node,f.offset),e.removeAllRanges(),g>c?(e.addRange(n),e.extend(w.node,w.offset)):(n.setEnd(w.node,w.offset),e.addRange(n)))}}for(n=[],e=a;e=e.parentNode;)e.nodeType===1&&n.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<n.length;a++)e=n[a],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var ws=_&&"documentMode"in document&&11>=document.documentMode,Mr=null,zr=null,ki=null,xs=!1;function Wa(e,n,a){var c=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;xs||Mr==null||Mr!==wr(c)||(c=Mr,"selectionStart"in c&&Lo(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),ki&&Bn(ki,c)||(ki=c,c=l(zr,"onSelect"),0<c.length&&(n=new _o("onSelect","select",null,n,a),e.push({event:n,listeners:c}),n.target=Mr)))}function Un(e,n){var a={};return a[e.toLowerCase()]=n.toLowerCase(),a["Webkit"+e]="webkit"+n,a["Moz"+e]="moz"+n,a}var Dr={animationend:Un("Animation","AnimationEnd"),animationiteration:Un("Animation","AnimationIteration"),animationstart:Un("Animation","AnimationStart"),transitionend:Un("Transition","TransitionEnd")},Fn={},Ao={};_&&(Ao=document.createElement("div").style,"AnimationEvent"in window||(delete Dr.animationend.animation,delete Dr.animationiteration.animation,delete Dr.animationstart.animation),"TransitionEvent"in window||delete Dr.transitionend.transition);function Pi(e){if(Fn[e])return Fn[e];if(!Dr[e])return e;var n=Dr[e],a;for(a in n)if(n.hasOwnProperty(a)&&a in Ao)return Fn[e]=n[a];return e}var Va=Pi("animationend"),hn=Pi("animationiteration"),No=Pi("animationstart"),jo=Pi("transitionend"),Br=new Map,Za="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function tn(e,n){Br.set(e,n),p(n,[e])}for(var rr=0;rr<Za.length;rr++){var bs=Za[rr],qa=bs.toLowerCase(),vu=bs[0].toUpperCase()+bs.slice(1);tn(qa,"on"+vu)}tn(Va,"onAnimationEnd"),tn(hn,"onAnimationIteration"),tn(No,"onAnimationStart"),tn("dblclick","onDoubleClick"),tn("focusin","onFocus"),tn("focusout","onBlur"),tn(jo,"onTransitionEnd"),m("onMouseEnter",["mouseout","mouseover"]),m("onMouseLeave",["mouseout","mouseover"]),m("onPointerEnter",["pointerout","pointerover"]),m("onPointerLeave",["pointerout","pointerover"]),p("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),p("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),p("onBeforeInput",["compositionend","keypress","textInput","paste"]),p("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),p("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),p("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ur="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ga=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ur));function Ro(e,n,a){var c=e.type||"unknown-event";e.currentTarget=a,lo(c,n,void 0,e),e.currentTarget=null}function Io(e,n){n=(n&4)!==0;for(var a=0;a<e.length;a++){var c=e[a],f=c.event;c=c.listeners;e:{var g=void 0;if(n)for(var w=c.length-1;0<=w;w--){var k=c[w],A=k.instance,H=k.currentTarget;if(k=k.listener,A!==g&&f.isPropagationStopped())break e;Ro(f,k,H),g=A}else for(w=0;w<c.length;w++){if(k=c[w],A=k.instance,H=k.currentTarget,k=k.listener,A!==g&&f.isPropagationStopped())break e;Ro(f,k,H),g=A}}}if(di)throw e=Yi,di=!1,Yi=null,e}function Ve(e,n){var a=n[Wr];a===void 0&&(a=n[Wr]=new Set);var c=e+"__bubble";a.has(c)||(Ka(n,e,2,!1),a.add(c))}function Mo(e,n,a){var c=0;n&&(c|=4),Ka(a,e,c,n)}var Ei="_reactListening"+Math.random().toString(36).slice(2);function Fr(e){if(!e[Ei]){e[Ei]=!0,u.forEach(function(a){a!=="selectionchange"&&(Ga.has(a)||Mo(a,!1,e),Mo(a,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Ei]||(n[Ei]=!0,Mo("selectionchange",!1,n))}}function Ka(e,n,a,c){switch(ze(n)){case 1:var f=iu;break;case 4:f=Oa;break;default:f=wi}a=f.bind(null,n,a,e),f=void 0,!ao||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(f=!0),c?f!==void 0?e.addEventListener(n,a,{capture:!0,passive:f}):e.addEventListener(n,a,!0):f!==void 0?e.addEventListener(n,a,{passive:f}):e.addEventListener(n,a,!1)}function t(e,n,a,c,f){var g=c;if((n&1)===0&&(n&2)===0&&c!==null)e:for(;;){if(c===null)return;var w=c.tag;if(w===3||w===4){var k=c.stateNode.containerInfo;if(k===f||k.nodeType===8&&k.parentNode===f)break;if(w===4)for(w=c.return;w!==null;){var A=w.tag;if((A===3||A===4)&&(A=w.stateNode.containerInfo,A===f||A.nodeType===8&&A.parentNode===f))return;w=w.return}for(;k!==null;){if(w=sr(k),w===null)return;if(A=w.tag,A===5||A===6){c=g=w;continue e}k=k.parentNode}}c=c.return}Qi(function(){var H=g,ne=so(a),re=[];e:{var ee=Br.get(e);if(ee!==void 0){var de=_o,ge=e;switch(e){case"keypress":if(cs(a)===0)break e;case"keydown":case"keyup":de=Ra;break;case"focusin":ge="focus",de=hs;break;case"focusout":ge="blur",de=hs;break;case"beforeblur":case"afterblur":de=hs;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":de=wo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":de=xo;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":de=Po;break;case Va:case hn:case No:de=au;break;case jo:de=du;break;case"scroll":de=su;break;case"wheel":de=fu;break;case"copy":case"cut":case"paste":de=bo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":de=Ma}var ve=(n&4)!==0,lt=!ve&&e==="scroll",B=ve?ee!==null?ee+"Capture":null:ee;ve=[];for(var N=H,F;N!==null;){F=N;var ie=F.stateNode;if(F.tag===5&&ie!==null&&(F=ie,B!==null&&(ie=ci(N,B),ie!=null&&ve.push(i(N,ie,F)))),lt)break;N=N.return}0<ve.length&&(ee=new de(ee,ge,null,a,ne),re.push({event:ee,listeners:ve}))}}if((n&7)===0){e:{if(ee=e==="mouseover"||e==="pointerover",de=e==="mouseout"||e==="pointerout",ee&&a!==io&&(ge=a.relatedTarget||a.fromElement)&&(sr(ge)||ge[$e]))break e;if((de||ee)&&(ee=ne.window===ne?ne:(ee=ne.ownerDocument)?ee.defaultView||ee.parentWindow:window,de?(ge=a.relatedTarget||a.toElement,de=H,ge=ge?sr(ge):null,ge!==null&&(lt=Rn(ge),ge!==lt||ge.tag!==5&&ge.tag!==6)&&(ge=null)):(de=null,ge=H),de!==ge)){if(ve=wo,ie="onMouseLeave",B="onMouseEnter",N="mouse",(e==="pointerout"||e==="pointerover")&&(ve=Ma,ie="onPointerLeave",B="onPointerEnter",N="pointer"),lt=de==null?ee:ar(de),F=ge==null?ee:ar(ge),ee=new ve(ie,N+"leave",de,a,ne),ee.target=lt,ee.relatedTarget=F,ie=null,sr(ne)===H&&(ve=new ve(B,N+"enter",ge,a,ne),ve.target=F,ve.relatedTarget=lt,ie=ve),lt=ie,de&&ge)t:{for(ve=de,B=ge,N=0,F=ve;F;F=d(F))N++;for(F=0,ie=B;ie;ie=d(ie))F++;for(;0<N-F;)ve=d(ve),N--;for(;0<F-N;)B=d(B),F--;for(;N--;){if(ve===B||B!==null&&ve===B.alternate)break t;ve=d(ve),B=d(B)}ve=null}else ve=null;de!==null&&v(re,ee,de,ve,!1),ge!==null&&lt!==null&&v(re,lt,ge,ve,!0)}}e:{if(ee=H?ar(H):window,de=ee.nodeName&&ee.nodeName.toLowerCase(),de==="select"||de==="input"&&ee.type==="file")var ye=gu;else if(Ua(ee))if(un)ye=To;else{ye=Ir;var Se=_s}else(de=ee.nodeName)&&de.toLowerCase()==="input"&&(ee.type==="checkbox"||ee.type==="radio")&&(ye=ys);if(ye&&(ye=ye(e,H))){ps(re,ye,a,ne);break e}Se&&Se(e,ee,H),e==="focusout"&&(Se=ee._wrapperState)&&Se.controlled&&ee.type==="number"&&eo(ee,"number",ee.value)}switch(Se=H?ar(H):window,e){case"focusin":(Ua(Se)||Se.contentEditable==="true")&&(Mr=Se,zr=H,ki=null);break;case"focusout":ki=zr=Mr=null;break;case"mousedown":xs=!0;break;case"contextmenu":case"mouseup":case"dragend":xs=!1,Wa(re,a,ne);break;case"selectionchange":if(ws)break;case"keydown":case"keyup":Wa(re,a,ne)}var ke;if(zn)e:{switch(e){case"compositionstart":var Ce="onCompositionStart";break e;case"compositionend":Ce="onCompositionEnd";break e;case"compositionupdate":Ce="onCompositionUpdate";break e}Ce=void 0}else kn?jr(e,a)&&(Ce="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Ce="onCompositionStart");Ce&&(Da&&a.locale!=="ko"&&(kn||Ce!=="onCompositionStart"?Ce==="onCompositionEnd"&&kn&&(ke=vo()):(In=ne,Rt="value"in In?In.value:In.textContent,kn=!0)),Se=l(H,Ce),0<Se.length&&(Ce=new So(Ce,e,null,a,ne),re.push({event:Ce,listeners:Se}),ke?Ce.data=ke:(ke=Eo(a),ke!==null&&(Ce.data=ke)))),(ke=Sn?pu(e,a):Dn(e,a))&&(H=l(H,"onBeforeInput"),0<H.length&&(ne=new So("onBeforeInput","beforeinput",null,a,ne),re.push({event:ne,listeners:H}),ne.data=ke))}Io(re,n)})}function i(e,n,a){return{instance:e,listener:n,currentTarget:a}}function l(e,n){for(var a=n+"Capture",c=[];e!==null;){var f=e,g=f.stateNode;f.tag===5&&g!==null&&(f=g,g=ci(e,a),g!=null&&c.unshift(i(e,g,f)),g=ci(e,n),g!=null&&c.push(i(e,g,f))),e=e.return}return c}function d(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function v(e,n,a,c,f){for(var g=n._reactName,w=[];a!==null&&a!==c;){var k=a,A=k.alternate,H=k.stateNode;if(A!==null&&A===c)break;k.tag===5&&H!==null&&(k=H,f?(A=ci(a,g),A!=null&&w.unshift(i(a,A,k))):f||(A=ci(a,g),A!=null&&w.push(i(a,A,k)))),a=a.return}w.length!==0&&e.push({event:n,listeners:w})}var b=/\r\n?/g,T=/\u0000|\uFFFD/g;function z(e){return(typeof e=="string"?e:""+e).replace(b,`
`).replace(T,"")}function $(e,n,a){if(n=z(n),z(e)!==n&&a)throw Error(s(425))}function Y(){}var ae=null,be=null;function Ne(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var pt=typeof setTimeout=="function"?setTimeout:void 0,ut=typeof clearTimeout=="function"?clearTimeout:void 0,Mt=typeof Promise=="function"?Promise:void 0,Ot=typeof queueMicrotask=="function"?queueMicrotask:typeof Mt<"u"?function(e){return Mt.resolve(null).then(e).catch($r)}:pt;function $r(e){setTimeout(function(){throw e})}function zo(e,n){var a=n,c=0;do{var f=a.nextSibling;if(e.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(c===0){e.removeChild(f),Qt(n);return}c--}else a!=="$"&&a!=="$?"&&a!=="$!"||c++;a=f}while(a);Qt(n)}function $n(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return e}function Ja(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(n===0)return e;n--}else a==="/$"&&n++}e=e.previousSibling}return null}var ir=Math.random().toString(36).slice(2),dn="__reactFiber$"+ir,Hr="__reactProps$"+ir,$e="__reactContainer$"+ir,Wr="__reactEvents$"+ir,_u="__reactListeners$"+ir,yu="__reactHandles$"+ir;function sr(e){var n=e[dn];if(n)return n;for(var a=e.parentNode;a;){if(n=a[$e]||a[dn]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(e=Ja(e);e!==null;){if(a=e[dn])return a;e=Ja(e)}return n}e=a,a=e.parentNode}return null}function or(e){return e=e[dn]||e[$e],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ar(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(s(33))}function Ss(e){return e[Hr]||null}var wu=[],ks=-1;function Vr(e){return{current:e}}function Ye(e){0>ks||(e.current=wu[ks],wu[ks]=null,ks--)}function Ge(e,n){ks++,wu[ks]=e.current,e.current=n}var Zr={},Lt=Vr(Zr),$t=Vr(!1),Ti=Zr;function Ps(e,n){var a=e.type.contextTypes;if(!a)return Zr;var c=e.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===n)return c.__reactInternalMemoizedMaskedChildContext;var f={},g;for(g in a)f[g]=n[g];return c&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=f),f}function Ht(e){return e=e.childContextTypes,e!=null}function Qa(){Ye($t),Ye(Lt)}function ch(e,n,a){if(Lt.current!==Zr)throw Error(s(168));Ge(Lt,n),Ge($t,a)}function hh(e,n,a){var c=e.stateNode;if(n=n.childContextTypes,typeof c.getChildContext!="function")return a;c=c.getChildContext();for(var f in c)if(!(f in n))throw Error(s(108,je(e)||"Unknown",f));return V({},a,c)}function Ya(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Zr,Ti=Lt.current,Ge(Lt,e),Ge($t,$t.current),!0}function dh(e,n,a){var c=e.stateNode;if(!c)throw Error(s(169));a?(e=hh(e,n,Ti),c.__reactInternalMemoizedMergedChildContext=e,Ye($t),Ye(Lt),Ge(Lt,e)):Ye($t),Ge($t,a)}var lr=null,Xa=!1,xu=!1;function fh(e){lr===null?lr=[e]:lr.push(e)}function yp(e){Xa=!0,fh(e)}function qr(){if(!xu&&lr!==null){xu=!0;var e=0,n=De;try{var a=lr;for(De=1;e<a.length;e++){var c=a[e];do c=c(!0);while(c!==null)}lr=null,Xa=!1}catch(f){throw lr!==null&&(lr=lr.slice(e+1)),Ea(ho,qr),f}finally{De=n,xu=!1}}return null}var Es=[],Ts=0,el=null,tl=0,fn=[],pn=0,Ci=null,ur=1,cr="";function Oi(e,n){Es[Ts++]=tl,Es[Ts++]=el,el=e,tl=n}function ph(e,n,a){fn[pn++]=ur,fn[pn++]=cr,fn[pn++]=Ci,Ci=e;var c=ur;e=cr;var f=32-Le(c)-1;c&=~(1<<f),a+=1;var g=32-Le(n)+f;if(30<g){var w=f-f%5;g=(c&(1<<w)-1).toString(32),c>>=w,f-=w,ur=1<<32-Le(n)+f|a<<f|c,cr=g+e}else ur=1<<g|a<<f|c,cr=e}function bu(e){e.return!==null&&(Oi(e,1),ph(e,1,0))}function Su(e){for(;e===el;)el=Es[--Ts],Es[Ts]=null,tl=Es[--Ts],Es[Ts]=null;for(;e===Ci;)Ci=fn[--pn],fn[pn]=null,cr=fn[--pn],fn[pn]=null,ur=fn[--pn],fn[pn]=null}var nn=null,rn=null,Xe=!1,En=null;function mh(e,n){var a=_n(5,null,null,0);a.elementType="DELETED",a.stateNode=n,a.return=e,n=e.deletions,n===null?(e.deletions=[a],e.flags|=16):n.push(a)}function gh(e,n){switch(e.tag){case 5:var a=e.type;return n=n.nodeType!==1||a.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(e.stateNode=n,nn=e,rn=$n(n.firstChild),!0):!1;case 6:return n=e.pendingProps===""||n.nodeType!==3?null:n,n!==null?(e.stateNode=n,nn=e,rn=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(a=Ci!==null?{id:ur,overflow:cr}:null,e.memoizedState={dehydrated:n,treeContext:a,retryLane:1073741824},a=_n(18,null,null,0),a.stateNode=n,a.return=e,e.child=a,nn=e,rn=null,!0):!1;default:return!1}}function ku(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Pu(e){if(Xe){var n=rn;if(n){var a=n;if(!gh(e,n)){if(ku(e))throw Error(s(418));n=$n(a.nextSibling);var c=nn;n&&gh(e,n)?mh(c,a):(e.flags=e.flags&-4097|2,Xe=!1,nn=e)}}else{if(ku(e))throw Error(s(418));e.flags=e.flags&-4097|2,Xe=!1,nn=e}}}function vh(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;nn=e}function nl(e){if(e!==nn)return!1;if(!Xe)return vh(e),Xe=!0,!1;var n;if((n=e.tag!==3)&&!(n=e.tag!==5)&&(n=e.type,n=n!=="head"&&n!=="body"&&!Ne(e.type,e.memoizedProps)),n&&(n=rn)){if(ku(e))throw _h(),Error(s(418));for(;n;)mh(e,n),n=$n(n.nextSibling)}if(vh(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"){if(n===0){rn=$n(e.nextSibling);break e}n--}else a!=="$"&&a!=="$!"&&a!=="$?"||n++}e=e.nextSibling}rn=null}}else rn=nn?$n(e.stateNode.nextSibling):null;return!0}function _h(){for(var e=rn;e;)e=$n(e.nextSibling)}function Cs(){rn=nn=null,Xe=!1}function Eu(e){En===null?En=[e]:En.push(e)}var wp=se.ReactCurrentBatchConfig;function Do(e,n,a){if(e=a.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(s(309));var c=a.stateNode}if(!c)throw Error(s(147,e));var f=c,g=""+e;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===g?n.ref:(n=function(w){var k=f.refs;w===null?delete k[g]:k[g]=w},n._stringRef=g,n)}if(typeof e!="string")throw Error(s(284));if(!a._owner)throw Error(s(290,e))}return e}function rl(e,n){throw e=Object.prototype.toString.call(n),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}function yh(e){var n=e._init;return n(e._payload)}function wh(e){function n(B,N){if(e){var F=B.deletions;F===null?(B.deletions=[N],B.flags|=16):F.push(N)}}function a(B,N){if(!e)return null;for(;N!==null;)n(B,N),N=N.sibling;return null}function c(B,N){for(B=new Map;N!==null;)N.key!==null?B.set(N.key,N):B.set(N.index,N),N=N.sibling;return B}function f(B,N){return B=ti(B,N),B.index=0,B.sibling=null,B}function g(B,N,F){return B.index=F,e?(F=B.alternate,F!==null?(F=F.index,F<N?(B.flags|=2,N):F):(B.flags|=2,N)):(B.flags|=1048576,N)}function w(B){return e&&B.alternate===null&&(B.flags|=2),B}function k(B,N,F,ie){return N===null||N.tag!==6?(N=vc(F,B.mode,ie),N.return=B,N):(N=f(N,F),N.return=B,N)}function A(B,N,F,ie){var ye=F.type;return ye===fe?ne(B,N,F.props.children,ie,F.key):N!==null&&(N.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===M&&yh(ye)===N.type)?(ie=f(N,F.props),ie.ref=Do(B,N,F),ie.return=B,ie):(ie=Tl(F.type,F.key,F.props,null,B.mode,ie),ie.ref=Do(B,N,F),ie.return=B,ie)}function H(B,N,F,ie){return N===null||N.tag!==4||N.stateNode.containerInfo!==F.containerInfo||N.stateNode.implementation!==F.implementation?(N=_c(F,B.mode,ie),N.return=B,N):(N=f(N,F.children||[]),N.return=B,N)}function ne(B,N,F,ie,ye){return N===null||N.tag!==7?(N=zi(F,B.mode,ie,ye),N.return=B,N):(N=f(N,F),N.return=B,N)}function re(B,N,F){if(typeof N=="string"&&N!==""||typeof N=="number")return N=vc(""+N,B.mode,F),N.return=B,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case le:return F=Tl(N.type,N.key,N.props,null,B.mode,F),F.ref=Do(B,null,N),F.return=B,F;case ue:return N=_c(N,B.mode,F),N.return=B,N;case M:var ie=N._init;return re(B,ie(N._payload),F)}if(xr(N)||Q(N))return N=zi(N,B.mode,F,null),N.return=B,N;rl(B,N)}return null}function ee(B,N,F,ie){var ye=N!==null?N.key:null;if(typeof F=="string"&&F!==""||typeof F=="number")return ye!==null?null:k(B,N,""+F,ie);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case le:return F.key===ye?A(B,N,F,ie):null;case ue:return F.key===ye?H(B,N,F,ie):null;case M:return ye=F._init,ee(B,N,ye(F._payload),ie)}if(xr(F)||Q(F))return ye!==null?null:ne(B,N,F,ie,null);rl(B,F)}return null}function de(B,N,F,ie,ye){if(typeof ie=="string"&&ie!==""||typeof ie=="number")return B=B.get(F)||null,k(N,B,""+ie,ye);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case le:return B=B.get(ie.key===null?F:ie.key)||null,A(N,B,ie,ye);case ue:return B=B.get(ie.key===null?F:ie.key)||null,H(N,B,ie,ye);case M:var Se=ie._init;return de(B,N,F,Se(ie._payload),ye)}if(xr(ie)||Q(ie))return B=B.get(F)||null,ne(N,B,ie,ye,null);rl(N,ie)}return null}function ge(B,N,F,ie){for(var ye=null,Se=null,ke=N,Ce=N=0,wt=null;ke!==null&&Ce<F.length;Ce++){ke.index>Ce?(wt=ke,ke=null):wt=ke.sibling;var Ue=ee(B,ke,F[Ce],ie);if(Ue===null){ke===null&&(ke=wt);break}e&&ke&&Ue.alternate===null&&n(B,ke),N=g(Ue,N,Ce),Se===null?ye=Ue:Se.sibling=Ue,Se=Ue,ke=wt}if(Ce===F.length)return a(B,ke),Xe&&Oi(B,Ce),ye;if(ke===null){for(;Ce<F.length;Ce++)ke=re(B,F[Ce],ie),ke!==null&&(N=g(ke,N,Ce),Se===null?ye=ke:Se.sibling=ke,Se=ke);return Xe&&Oi(B,Ce),ye}for(ke=c(B,ke);Ce<F.length;Ce++)wt=de(ke,B,Ce,F[Ce],ie),wt!==null&&(e&&wt.alternate!==null&&ke.delete(wt.key===null?Ce:wt.key),N=g(wt,N,Ce),Se===null?ye=wt:Se.sibling=wt,Se=wt);return e&&ke.forEach(function(ni){return n(B,ni)}),Xe&&Oi(B,Ce),ye}function ve(B,N,F,ie){var ye=Q(F);if(typeof ye!="function")throw Error(s(150));if(F=ye.call(F),F==null)throw Error(s(151));for(var Se=ye=null,ke=N,Ce=N=0,wt=null,Ue=F.next();ke!==null&&!Ue.done;Ce++,Ue=F.next()){ke.index>Ce?(wt=ke,ke=null):wt=ke.sibling;var ni=ee(B,ke,Ue.value,ie);if(ni===null){ke===null&&(ke=wt);break}e&&ke&&ni.alternate===null&&n(B,ke),N=g(ni,N,Ce),Se===null?ye=ni:Se.sibling=ni,Se=ni,ke=wt}if(Ue.done)return a(B,ke),Xe&&Oi(B,Ce),ye;if(ke===null){for(;!Ue.done;Ce++,Ue=F.next())Ue=re(B,Ue.value,ie),Ue!==null&&(N=g(Ue,N,Ce),Se===null?ye=Ue:Se.sibling=Ue,Se=Ue);return Xe&&Oi(B,Ce),ye}for(ke=c(B,ke);!Ue.done;Ce++,Ue=F.next())Ue=de(ke,B,Ce,Ue.value,ie),Ue!==null&&(e&&Ue.alternate!==null&&ke.delete(Ue.key===null?Ce:Ue.key),N=g(Ue,N,Ce),Se===null?ye=Ue:Se.sibling=Ue,Se=Ue);return e&&ke.forEach(function(Xp){return n(B,Xp)}),Xe&&Oi(B,Ce),ye}function lt(B,N,F,ie){if(typeof F=="object"&&F!==null&&F.type===fe&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case le:e:{for(var ye=F.key,Se=N;Se!==null;){if(Se.key===ye){if(ye=F.type,ye===fe){if(Se.tag===7){a(B,Se.sibling),N=f(Se,F.props.children),N.return=B,B=N;break e}}else if(Se.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===M&&yh(ye)===Se.type){a(B,Se.sibling),N=f(Se,F.props),N.ref=Do(B,Se,F),N.return=B,B=N;break e}a(B,Se);break}else n(B,Se);Se=Se.sibling}F.type===fe?(N=zi(F.props.children,B.mode,ie,F.key),N.return=B,B=N):(ie=Tl(F.type,F.key,F.props,null,B.mode,ie),ie.ref=Do(B,N,F),ie.return=B,B=ie)}return w(B);case ue:e:{for(Se=F.key;N!==null;){if(N.key===Se)if(N.tag===4&&N.stateNode.containerInfo===F.containerInfo&&N.stateNode.implementation===F.implementation){a(B,N.sibling),N=f(N,F.children||[]),N.return=B,B=N;break e}else{a(B,N);break}else n(B,N);N=N.sibling}N=_c(F,B.mode,ie),N.return=B,B=N}return w(B);case M:return Se=F._init,lt(B,N,Se(F._payload),ie)}if(xr(F))return ge(B,N,F,ie);if(Q(F))return ve(B,N,F,ie);rl(B,F)}return typeof F=="string"&&F!==""||typeof F=="number"?(F=""+F,N!==null&&N.tag===6?(a(B,N.sibling),N=f(N,F),N.return=B,B=N):(a(B,N),N=vc(F,B.mode,ie),N.return=B,B=N),w(B)):a(B,N)}return lt}var Os=wh(!0),xh=wh(!1),il=Vr(null),sl=null,Ls=null,Tu=null;function Cu(){Tu=Ls=sl=null}function Ou(e){var n=il.current;Ye(il),e._currentValue=n}function Lu(e,n,a){for(;e!==null;){var c=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,c!==null&&(c.childLanes|=n)):c!==null&&(c.childLanes&n)!==n&&(c.childLanes|=n),e===a)break;e=e.return}}function As(e,n){sl=e,Tu=Ls=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&n)!==0&&(Wt=!0),e.firstContext=null)}function mn(e){var n=e._currentValue;if(Tu!==e)if(e={context:e,memoizedValue:n,next:null},Ls===null){if(sl===null)throw Error(s(308));Ls=e,sl.dependencies={lanes:0,firstContext:e}}else Ls=Ls.next=e;return n}var Li=null;function Au(e){Li===null?Li=[e]:Li.push(e)}function bh(e,n,a,c){var f=n.interleaved;return f===null?(a.next=a,Au(n)):(a.next=f.next,f.next=a),n.interleaved=a,hr(e,c)}function hr(e,n){e.lanes|=n;var a=e.alternate;for(a!==null&&(a.lanes|=n),a=e,e=e.return;e!==null;)e.childLanes|=n,a=e.alternate,a!==null&&(a.childLanes|=n),a=e,e=e.return;return a.tag===3?a.stateNode:null}var Gr=!1;function Nu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Sh(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function dr(e,n){return{eventTime:e,lane:n,tag:0,payload:null,callback:null,next:null}}function Kr(e,n,a){var c=e.updateQueue;if(c===null)return null;if(c=c.shared,(Be&2)!==0){var f=c.pending;return f===null?n.next=n:(n.next=f.next,f.next=n),c.pending=n,hr(e,a)}return f=c.interleaved,f===null?(n.next=n,Au(c)):(n.next=f.next,f.next=n),c.interleaved=n,hr(e,a)}function ol(e,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194240)!==0)){var c=n.lanes;c&=e.pendingLanes,a|=c,n.lanes=a,xn(e,a)}}function kh(e,n){var a=e.updateQueue,c=e.alternate;if(c!==null&&(c=c.updateQueue,a===c)){var f=null,g=null;if(a=a.firstBaseUpdate,a!==null){do{var w={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};g===null?f=g=w:g=g.next=w,a=a.next}while(a!==null);g===null?f=g=n:g=g.next=n}else f=g=n;a={baseState:c.baseState,firstBaseUpdate:f,lastBaseUpdate:g,shared:c.shared,effects:c.effects},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=n:e.next=n,a.lastBaseUpdate=n}function al(e,n,a,c){var f=e.updateQueue;Gr=!1;var g=f.firstBaseUpdate,w=f.lastBaseUpdate,k=f.shared.pending;if(k!==null){f.shared.pending=null;var A=k,H=A.next;A.next=null,w===null?g=H:w.next=H,w=A;var ne=e.alternate;ne!==null&&(ne=ne.updateQueue,k=ne.lastBaseUpdate,k!==w&&(k===null?ne.firstBaseUpdate=H:k.next=H,ne.lastBaseUpdate=A))}if(g!==null){var re=f.baseState;w=0,ne=H=A=null,k=g;do{var ee=k.lane,de=k.eventTime;if((c&ee)===ee){ne!==null&&(ne=ne.next={eventTime:de,lane:0,tag:k.tag,payload:k.payload,callback:k.callback,next:null});e:{var ge=e,ve=k;switch(ee=n,de=a,ve.tag){case 1:if(ge=ve.payload,typeof ge=="function"){re=ge.call(de,re,ee);break e}re=ge;break e;case 3:ge.flags=ge.flags&-65537|128;case 0:if(ge=ve.payload,ee=typeof ge=="function"?ge.call(de,re,ee):ge,ee==null)break e;re=V({},re,ee);break e;case 2:Gr=!0}}k.callback!==null&&k.lane!==0&&(e.flags|=64,ee=f.effects,ee===null?f.effects=[k]:ee.push(k))}else de={eventTime:de,lane:ee,tag:k.tag,payload:k.payload,callback:k.callback,next:null},ne===null?(H=ne=de,A=re):ne=ne.next=de,w|=ee;if(k=k.next,k===null){if(k=f.shared.pending,k===null)break;ee=k,k=ee.next,ee.next=null,f.lastBaseUpdate=ee,f.shared.pending=null}}while(!0);if(ne===null&&(A=re),f.baseState=A,f.firstBaseUpdate=H,f.lastBaseUpdate=ne,n=f.shared.interleaved,n!==null){f=n;do w|=f.lane,f=f.next;while(f!==n)}else g===null&&(f.shared.lanes=0);ji|=w,e.lanes=w,e.memoizedState=re}}function Ph(e,n,a){if(e=n.effects,n.effects=null,e!==null)for(n=0;n<e.length;n++){var c=e[n],f=c.callback;if(f!==null){if(c.callback=null,c=a,typeof f!="function")throw Error(s(191,f));f.call(c)}}}var Bo={},Hn=Vr(Bo),Uo=Vr(Bo),Fo=Vr(Bo);function Ai(e){if(e===Bo)throw Error(s(174));return e}function ju(e,n){switch(Ge(Fo,n),Ge(Uo,e),Ge(Hn,Bo),e=n.nodeType,e){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:Gi(null,"");break;default:e=e===8?n.parentNode:n,n=e.namespaceURI||null,e=e.tagName,n=Gi(n,e)}Ye(Hn),Ge(Hn,n)}function Ns(){Ye(Hn),Ye(Uo),Ye(Fo)}function Eh(e){Ai(Fo.current);var n=Ai(Hn.current),a=Gi(n,e.type);n!==a&&(Ge(Uo,e),Ge(Hn,a))}function Ru(e){Uo.current===e&&(Ye(Hn),Ye(Uo))}var rt=Vr(0);function ll(e){for(var n=e;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Iu=[];function Mu(){for(var e=0;e<Iu.length;e++)Iu[e]._workInProgressVersionPrimary=null;Iu.length=0}var ul=se.ReactCurrentDispatcher,zu=se.ReactCurrentBatchConfig,Ni=0,it=null,mt=null,_t=null,cl=!1,$o=!1,Ho=0,xp=0;function At(){throw Error(s(321))}function Du(e,n){if(n===null)return!1;for(var a=0;a<n.length&&a<e.length;a++)if(!en(e[a],n[a]))return!1;return!0}function Bu(e,n,a,c,f,g){if(Ni=g,it=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,ul.current=e===null||e.memoizedState===null?Pp:Ep,e=a(c,f),$o){g=0;do{if($o=!1,Ho=0,25<=g)throw Error(s(301));g+=1,_t=mt=null,n.updateQueue=null,ul.current=Tp,e=a(c,f)}while($o)}if(ul.current=fl,n=mt!==null&&mt.next!==null,Ni=0,_t=mt=it=null,cl=!1,n)throw Error(s(300));return e}function Uu(){var e=Ho!==0;return Ho=0,e}function Wn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _t===null?it.memoizedState=_t=e:_t=_t.next=e,_t}function gn(){if(mt===null){var e=it.alternate;e=e!==null?e.memoizedState:null}else e=mt.next;var n=_t===null?it.memoizedState:_t.next;if(n!==null)_t=n,mt=e;else{if(e===null)throw Error(s(310));mt=e,e={memoizedState:mt.memoizedState,baseState:mt.baseState,baseQueue:mt.baseQueue,queue:mt.queue,next:null},_t===null?it.memoizedState=_t=e:_t=_t.next=e}return _t}function Wo(e,n){return typeof n=="function"?n(e):n}function Fu(e){var n=gn(),a=n.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var c=mt,f=c.baseQueue,g=a.pending;if(g!==null){if(f!==null){var w=f.next;f.next=g.next,g.next=w}c.baseQueue=f=g,a.pending=null}if(f!==null){g=f.next,c=c.baseState;var k=w=null,A=null,H=g;do{var ne=H.lane;if((Ni&ne)===ne)A!==null&&(A=A.next={lane:0,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),c=H.hasEagerState?H.eagerState:e(c,H.action);else{var re={lane:ne,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null};A===null?(k=A=re,w=c):A=A.next=re,it.lanes|=ne,ji|=ne}H=H.next}while(H!==null&&H!==g);A===null?w=c:A.next=k,en(c,n.memoizedState)||(Wt=!0),n.memoizedState=c,n.baseState=w,n.baseQueue=A,a.lastRenderedState=c}if(e=a.interleaved,e!==null){f=e;do g=f.lane,it.lanes|=g,ji|=g,f=f.next;while(f!==e)}else f===null&&(a.lanes=0);return[n.memoizedState,a.dispatch]}function $u(e){var n=gn(),a=n.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var c=a.dispatch,f=a.pending,g=n.memoizedState;if(f!==null){a.pending=null;var w=f=f.next;do g=e(g,w.action),w=w.next;while(w!==f);en(g,n.memoizedState)||(Wt=!0),n.memoizedState=g,n.baseQueue===null&&(n.baseState=g),a.lastRenderedState=g}return[g,c]}function Th(){}function Ch(e,n){var a=it,c=gn(),f=n(),g=!en(c.memoizedState,f);if(g&&(c.memoizedState=f,Wt=!0),c=c.queue,Hu(Ah.bind(null,a,c,e),[e]),c.getSnapshot!==n||g||_t!==null&&_t.memoizedState.tag&1){if(a.flags|=2048,Vo(9,Lh.bind(null,a,c,f,n),void 0,null),yt===null)throw Error(s(349));(Ni&30)!==0||Oh(a,n,f)}return f}function Oh(e,n,a){e.flags|=16384,e={getSnapshot:n,value:a},n=it.updateQueue,n===null?(n={lastEffect:null,stores:null},it.updateQueue=n,n.stores=[e]):(a=n.stores,a===null?n.stores=[e]:a.push(e))}function Lh(e,n,a,c){n.value=a,n.getSnapshot=c,Nh(n)&&jh(e)}function Ah(e,n,a){return a(function(){Nh(n)&&jh(e)})}function Nh(e){var n=e.getSnapshot;e=e.value;try{var a=n();return!en(e,a)}catch{return!0}}function jh(e){var n=hr(e,1);n!==null&&Ln(n,e,1,-1)}function Rh(e){var n=Wn();return typeof e=="function"&&(e=e()),n.memoizedState=n.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Wo,lastRenderedState:e},n.queue=e,e=e.dispatch=kp.bind(null,it,e),[n.memoizedState,e]}function Vo(e,n,a,c){return e={tag:e,create:n,destroy:a,deps:c,next:null},n=it.updateQueue,n===null?(n={lastEffect:null,stores:null},it.updateQueue=n,n.lastEffect=e.next=e):(a=n.lastEffect,a===null?n.lastEffect=e.next=e:(c=a.next,a.next=e,e.next=c,n.lastEffect=e)),e}function Ih(){return gn().memoizedState}function hl(e,n,a,c){var f=Wn();it.flags|=e,f.memoizedState=Vo(1|n,a,void 0,c===void 0?null:c)}function dl(e,n,a,c){var f=gn();c=c===void 0?null:c;var g=void 0;if(mt!==null){var w=mt.memoizedState;if(g=w.destroy,c!==null&&Du(c,w.deps)){f.memoizedState=Vo(n,a,g,c);return}}it.flags|=e,f.memoizedState=Vo(1|n,a,g,c)}function Mh(e,n){return hl(8390656,8,e,n)}function Hu(e,n){return dl(2048,8,e,n)}function zh(e,n){return dl(4,2,e,n)}function Dh(e,n){return dl(4,4,e,n)}function Bh(e,n){if(typeof n=="function")return e=e(),n(e),function(){n(null)};if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Uh(e,n,a){return a=a!=null?a.concat([e]):null,dl(4,4,Bh.bind(null,n,e),a)}function Wu(){}function Fh(e,n){var a=gn();n=n===void 0?null:n;var c=a.memoizedState;return c!==null&&n!==null&&Du(n,c[1])?c[0]:(a.memoizedState=[e,n],e)}function $h(e,n){var a=gn();n=n===void 0?null:n;var c=a.memoizedState;return c!==null&&n!==null&&Du(n,c[1])?c[0]:(e=e(),a.memoizedState=[e,n],e)}function Hh(e,n,a){return(Ni&21)===0?(e.baseState&&(e.baseState=!1,Wt=!0),e.memoizedState=a):(en(a,n)||(a=Ca(),it.lanes|=a,ji|=a,e.baseState=!0),n)}function bp(e,n){var a=De;De=a!==0&&4>a?a:4,e(!0);var c=zu.transition;zu.transition={};try{e(!1),n()}finally{De=a,zu.transition=c}}function Wh(){return gn().memoizedState}function Sp(e,n,a){var c=Xr(e);if(a={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null},Vh(e))Zh(n,a);else if(a=bh(e,n,a,c),a!==null){var f=Dt();Ln(a,e,c,f),qh(a,n,c)}}function kp(e,n,a){var c=Xr(e),f={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null};if(Vh(e))Zh(n,f);else{var g=e.alternate;if(e.lanes===0&&(g===null||g.lanes===0)&&(g=n.lastRenderedReducer,g!==null))try{var w=n.lastRenderedState,k=g(w,a);if(f.hasEagerState=!0,f.eagerState=k,en(k,w)){var A=n.interleaved;A===null?(f.next=f,Au(n)):(f.next=A.next,A.next=f),n.interleaved=f;return}}catch{}a=bh(e,n,f,c),a!==null&&(f=Dt(),Ln(a,e,c,f),qh(a,n,c))}}function Vh(e){var n=e.alternate;return e===it||n!==null&&n===it}function Zh(e,n){$o=cl=!0;var a=e.pending;a===null?n.next=n:(n.next=a.next,a.next=n),e.pending=n}function qh(e,n,a){if((a&4194240)!==0){var c=n.lanes;c&=e.pendingLanes,a|=c,n.lanes=a,xn(e,a)}}var fl={readContext:mn,useCallback:At,useContext:At,useEffect:At,useImperativeHandle:At,useInsertionEffect:At,useLayoutEffect:At,useMemo:At,useReducer:At,useRef:At,useState:At,useDebugValue:At,useDeferredValue:At,useTransition:At,useMutableSource:At,useSyncExternalStore:At,useId:At,unstable_isNewReconciler:!1},Pp={readContext:mn,useCallback:function(e,n){return Wn().memoizedState=[e,n===void 0?null:n],e},useContext:mn,useEffect:Mh,useImperativeHandle:function(e,n,a){return a=a!=null?a.concat([e]):null,hl(4194308,4,Bh.bind(null,n,e),a)},useLayoutEffect:function(e,n){return hl(4194308,4,e,n)},useInsertionEffect:function(e,n){return hl(4,2,e,n)},useMemo:function(e,n){var a=Wn();return n=n===void 0?null:n,e=e(),a.memoizedState=[e,n],e},useReducer:function(e,n,a){var c=Wn();return n=a!==void 0?a(n):n,c.memoizedState=c.baseState=n,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},c.queue=e,e=e.dispatch=Sp.bind(null,it,e),[c.memoizedState,e]},useRef:function(e){var n=Wn();return e={current:e},n.memoizedState=e},useState:Rh,useDebugValue:Wu,useDeferredValue:function(e){return Wn().memoizedState=e},useTransition:function(){var e=Rh(!1),n=e[0];return e=bp.bind(null,e[1]),Wn().memoizedState=e,[n,e]},useMutableSource:function(){},useSyncExternalStore:function(e,n,a){var c=it,f=Wn();if(Xe){if(a===void 0)throw Error(s(407));a=a()}else{if(a=n(),yt===null)throw Error(s(349));(Ni&30)!==0||Oh(c,n,a)}f.memoizedState=a;var g={value:a,getSnapshot:n};return f.queue=g,Mh(Ah.bind(null,c,g,e),[e]),c.flags|=2048,Vo(9,Lh.bind(null,c,g,a,n),void 0,null),a},useId:function(){var e=Wn(),n=yt.identifierPrefix;if(Xe){var a=cr,c=ur;a=(c&~(1<<32-Le(c)-1)).toString(32)+a,n=":"+n+"R"+a,a=Ho++,0<a&&(n+="H"+a.toString(32)),n+=":"}else a=xp++,n=":"+n+"r"+a.toString(32)+":";return e.memoizedState=n},unstable_isNewReconciler:!1},Ep={readContext:mn,useCallback:Fh,useContext:mn,useEffect:Hu,useImperativeHandle:Uh,useInsertionEffect:zh,useLayoutEffect:Dh,useMemo:$h,useReducer:Fu,useRef:Ih,useState:function(){return Fu(Wo)},useDebugValue:Wu,useDeferredValue:function(e){var n=gn();return Hh(n,mt.memoizedState,e)},useTransition:function(){var e=Fu(Wo)[0],n=gn().memoizedState;return[e,n]},useMutableSource:Th,useSyncExternalStore:Ch,useId:Wh,unstable_isNewReconciler:!1},Tp={readContext:mn,useCallback:Fh,useContext:mn,useEffect:Hu,useImperativeHandle:Uh,useInsertionEffect:zh,useLayoutEffect:Dh,useMemo:$h,useReducer:$u,useRef:Ih,useState:function(){return $u(Wo)},useDebugValue:Wu,useDeferredValue:function(e){var n=gn();return mt===null?n.memoizedState=e:Hh(n,mt.memoizedState,e)},useTransition:function(){var e=$u(Wo)[0],n=gn().memoizedState;return[e,n]},useMutableSource:Th,useSyncExternalStore:Ch,useId:Wh,unstable_isNewReconciler:!1};function Tn(e,n){if(e&&e.defaultProps){n=V({},n),e=e.defaultProps;for(var a in e)n[a]===void 0&&(n[a]=e[a]);return n}return n}function Vu(e,n,a,c){n=e.memoizedState,a=a(c,n),a=a==null?n:V({},n,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var pl={isMounted:function(e){return(e=e._reactInternals)?Rn(e)===e:!1},enqueueSetState:function(e,n,a){e=e._reactInternals;var c=Dt(),f=Xr(e),g=dr(c,f);g.payload=n,a!=null&&(g.callback=a),n=Kr(e,g,f),n!==null&&(Ln(n,e,f,c),ol(n,e,f))},enqueueReplaceState:function(e,n,a){e=e._reactInternals;var c=Dt(),f=Xr(e),g=dr(c,f);g.tag=1,g.payload=n,a!=null&&(g.callback=a),n=Kr(e,g,f),n!==null&&(Ln(n,e,f,c),ol(n,e,f))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var a=Dt(),c=Xr(e),f=dr(a,c);f.tag=2,n!=null&&(f.callback=n),n=Kr(e,f,c),n!==null&&(Ln(n,e,c,a),ol(n,e,c))}};function Gh(e,n,a,c,f,g,w){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(c,g,w):n.prototype&&n.prototype.isPureReactComponent?!Bn(a,c)||!Bn(f,g):!0}function Kh(e,n,a){var c=!1,f=Zr,g=n.contextType;return typeof g=="object"&&g!==null?g=mn(g):(f=Ht(n)?Ti:Lt.current,c=n.contextTypes,g=(c=c!=null)?Ps(e,f):Zr),n=new n(a,g),e.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=pl,e.stateNode=n,n._reactInternals=e,c&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=f,e.__reactInternalMemoizedMaskedChildContext=g),n}function Jh(e,n,a,c){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,c),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,c),n.state!==e&&pl.enqueueReplaceState(n,n.state,null)}function Zu(e,n,a,c){var f=e.stateNode;f.props=a,f.state=e.memoizedState,f.refs={},Nu(e);var g=n.contextType;typeof g=="object"&&g!==null?f.context=mn(g):(g=Ht(n)?Ti:Lt.current,f.context=Ps(e,g)),f.state=e.memoizedState,g=n.getDerivedStateFromProps,typeof g=="function"&&(Vu(e,n,g,a),f.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(n=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),n!==f.state&&pl.enqueueReplaceState(f,f.state,null),al(e,a,f,c),f.state=e.memoizedState),typeof f.componentDidMount=="function"&&(e.flags|=4194308)}function js(e,n){try{var a="",c=n;do a+=me(c),c=c.return;while(c);var f=a}catch(g){f=`
Error generating stack: `+g.message+`
`+g.stack}return{value:e,source:n,stack:f,digest:null}}function qu(e,n,a){return{value:e,source:null,stack:a??null,digest:n??null}}function Gu(e,n){try{console.error(n.value)}catch(a){setTimeout(function(){throw a})}}var Cp=typeof WeakMap=="function"?WeakMap:Map;function Qh(e,n,a){a=dr(-1,a),a.tag=3,a.payload={element:null};var c=n.value;return a.callback=function(){xl||(xl=!0,uc=c),Gu(e,n)},a}function Yh(e,n,a){a=dr(-1,a),a.tag=3;var c=e.type.getDerivedStateFromError;if(typeof c=="function"){var f=n.value;a.payload=function(){return c(f)},a.callback=function(){Gu(e,n)}}var g=e.stateNode;return g!==null&&typeof g.componentDidCatch=="function"&&(a.callback=function(){Gu(e,n),typeof c!="function"&&(Qr===null?Qr=new Set([this]):Qr.add(this));var w=n.stack;this.componentDidCatch(n.value,{componentStack:w!==null?w:""})}),a}function Xh(e,n,a){var c=e.pingCache;if(c===null){c=e.pingCache=new Cp;var f=new Set;c.set(n,f)}else f=c.get(n),f===void 0&&(f=new Set,c.set(n,f));f.has(a)||(f.add(a),e=$p.bind(null,e,n,a),n.then(e,e))}function ed(e){do{var n;if((n=e.tag===13)&&(n=e.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return e;e=e.return}while(e!==null);return null}function td(e,n,a,c,f){return(e.mode&1)===0?(e===n?e.flags|=65536:(e.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(n=dr(-1,1),n.tag=2,Kr(a,n,1))),a.lanes|=1),e):(e.flags|=65536,e.lanes=f,e)}var Op=se.ReactCurrentOwner,Wt=!1;function zt(e,n,a,c){n.child=e===null?xh(n,null,a,c):Os(n,e.child,a,c)}function nd(e,n,a,c,f){a=a.render;var g=n.ref;return As(n,f),c=Bu(e,n,a,c,g,f),a=Uu(),e!==null&&!Wt?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~f,fr(e,n,f)):(Xe&&a&&bu(n),n.flags|=1,zt(e,n,c,f),n.child)}function rd(e,n,a,c,f){if(e===null){var g=a.type;return typeof g=="function"&&!gc(g)&&g.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(n.tag=15,n.type=g,id(e,n,g,c,f)):(e=Tl(a.type,null,c,n,n.mode,f),e.ref=n.ref,e.return=n,n.child=e)}if(g=e.child,(e.lanes&f)===0){var w=g.memoizedProps;if(a=a.compare,a=a!==null?a:Bn,a(w,c)&&e.ref===n.ref)return fr(e,n,f)}return n.flags|=1,e=ti(g,c),e.ref=n.ref,e.return=n,n.child=e}function id(e,n,a,c,f){if(e!==null){var g=e.memoizedProps;if(Bn(g,c)&&e.ref===n.ref)if(Wt=!1,n.pendingProps=c=g,(e.lanes&f)!==0)(e.flags&131072)!==0&&(Wt=!0);else return n.lanes=e.lanes,fr(e,n,f)}return Ku(e,n,a,c,f)}function sd(e,n,a){var c=n.pendingProps,f=c.children,g=e!==null?e.memoizedState:null;if(c.mode==="hidden")if((n.mode&1)===0)n.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ge(Is,sn),sn|=a;else{if((a&1073741824)===0)return e=g!==null?g.baseLanes|a:a,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:e,cachePool:null,transitions:null},n.updateQueue=null,Ge(Is,sn),sn|=e,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=g!==null?g.baseLanes:a,Ge(Is,sn),sn|=c}else g!==null?(c=g.baseLanes|a,n.memoizedState=null):c=a,Ge(Is,sn),sn|=c;return zt(e,n,f,a),n.child}function od(e,n){var a=n.ref;(e===null&&a!==null||e!==null&&e.ref!==a)&&(n.flags|=512,n.flags|=2097152)}function Ku(e,n,a,c,f){var g=Ht(a)?Ti:Lt.current;return g=Ps(n,g),As(n,f),a=Bu(e,n,a,c,g,f),c=Uu(),e!==null&&!Wt?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~f,fr(e,n,f)):(Xe&&c&&bu(n),n.flags|=1,zt(e,n,a,f),n.child)}function ad(e,n,a,c,f){if(Ht(a)){var g=!0;Ya(n)}else g=!1;if(As(n,f),n.stateNode===null)gl(e,n),Kh(n,a,c),Zu(n,a,c,f),c=!0;else if(e===null){var w=n.stateNode,k=n.memoizedProps;w.props=k;var A=w.context,H=a.contextType;typeof H=="object"&&H!==null?H=mn(H):(H=Ht(a)?Ti:Lt.current,H=Ps(n,H));var ne=a.getDerivedStateFromProps,re=typeof ne=="function"||typeof w.getSnapshotBeforeUpdate=="function";re||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(k!==c||A!==H)&&Jh(n,w,c,H),Gr=!1;var ee=n.memoizedState;w.state=ee,al(n,c,w,f),A=n.memoizedState,k!==c||ee!==A||$t.current||Gr?(typeof ne=="function"&&(Vu(n,a,ne,c),A=n.memoizedState),(k=Gr||Gh(n,a,k,c,ee,A,H))?(re||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(n.flags|=4194308)):(typeof w.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=c,n.memoizedState=A),w.props=c,w.state=A,w.context=H,c=k):(typeof w.componentDidMount=="function"&&(n.flags|=4194308),c=!1)}else{w=n.stateNode,Sh(e,n),k=n.memoizedProps,H=n.type===n.elementType?k:Tn(n.type,k),w.props=H,re=n.pendingProps,ee=w.context,A=a.contextType,typeof A=="object"&&A!==null?A=mn(A):(A=Ht(a)?Ti:Lt.current,A=Ps(n,A));var de=a.getDerivedStateFromProps;(ne=typeof de=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(k!==re||ee!==A)&&Jh(n,w,c,A),Gr=!1,ee=n.memoizedState,w.state=ee,al(n,c,w,f);var ge=n.memoizedState;k!==re||ee!==ge||$t.current||Gr?(typeof de=="function"&&(Vu(n,a,de,c),ge=n.memoizedState),(H=Gr||Gh(n,a,H,c,ee,ge,A)||!1)?(ne||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(c,ge,A),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(c,ge,A)),typeof w.componentDidUpdate=="function"&&(n.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof w.componentDidUpdate!="function"||k===e.memoizedProps&&ee===e.memoizedState||(n.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||k===e.memoizedProps&&ee===e.memoizedState||(n.flags|=1024),n.memoizedProps=c,n.memoizedState=ge),w.props=c,w.state=ge,w.context=A,c=H):(typeof w.componentDidUpdate!="function"||k===e.memoizedProps&&ee===e.memoizedState||(n.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||k===e.memoizedProps&&ee===e.memoizedState||(n.flags|=1024),c=!1)}return Ju(e,n,a,c,g,f)}function Ju(e,n,a,c,f,g){od(e,n);var w=(n.flags&128)!==0;if(!c&&!w)return f&&dh(n,a,!1),fr(e,n,g);c=n.stateNode,Op.current=n;var k=w&&typeof a.getDerivedStateFromError!="function"?null:c.render();return n.flags|=1,e!==null&&w?(n.child=Os(n,e.child,null,g),n.child=Os(n,null,k,g)):zt(e,n,k,g),n.memoizedState=c.state,f&&dh(n,a,!0),n.child}function ld(e){var n=e.stateNode;n.pendingContext?ch(e,n.pendingContext,n.pendingContext!==n.context):n.context&&ch(e,n.context,!1),ju(e,n.containerInfo)}function ud(e,n,a,c,f){return Cs(),Eu(f),n.flags|=256,zt(e,n,a,c),n.child}var Qu={dehydrated:null,treeContext:null,retryLane:0};function Yu(e){return{baseLanes:e,cachePool:null,transitions:null}}function cd(e,n,a){var c=n.pendingProps,f=rt.current,g=!1,w=(n.flags&128)!==0,k;if((k=w)||(k=e!==null&&e.memoizedState===null?!1:(f&2)!==0),k?(g=!0,n.flags&=-129):(e===null||e.memoizedState!==null)&&(f|=1),Ge(rt,f&1),e===null)return Pu(n),e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((n.mode&1)===0?n.lanes=1:e.data==="$!"?n.lanes=8:n.lanes=1073741824,null):(w=c.children,e=c.fallback,g?(c=n.mode,g=n.child,w={mode:"hidden",children:w},(c&1)===0&&g!==null?(g.childLanes=0,g.pendingProps=w):g=Cl(w,c,0,null),e=zi(e,c,a,null),g.return=n,e.return=n,g.sibling=e,n.child=g,n.child.memoizedState=Yu(a),n.memoizedState=Qu,e):Xu(n,w));if(f=e.memoizedState,f!==null&&(k=f.dehydrated,k!==null))return Lp(e,n,w,c,k,f,a);if(g){g=c.fallback,w=n.mode,f=e.child,k=f.sibling;var A={mode:"hidden",children:c.children};return(w&1)===0&&n.child!==f?(c=n.child,c.childLanes=0,c.pendingProps=A,n.deletions=null):(c=ti(f,A),c.subtreeFlags=f.subtreeFlags&14680064),k!==null?g=ti(k,g):(g=zi(g,w,a,null),g.flags|=2),g.return=n,c.return=n,c.sibling=g,n.child=c,c=g,g=n.child,w=e.child.memoizedState,w=w===null?Yu(a):{baseLanes:w.baseLanes|a,cachePool:null,transitions:w.transitions},g.memoizedState=w,g.childLanes=e.childLanes&~a,n.memoizedState=Qu,c}return g=e.child,e=g.sibling,c=ti(g,{mode:"visible",children:c.children}),(n.mode&1)===0&&(c.lanes=a),c.return=n,c.sibling=null,e!==null&&(a=n.deletions,a===null?(n.deletions=[e],n.flags|=16):a.push(e)),n.child=c,n.memoizedState=null,c}function Xu(e,n){return n=Cl({mode:"visible",children:n},e.mode,0,null),n.return=e,e.child=n}function ml(e,n,a,c){return c!==null&&Eu(c),Os(n,e.child,null,a),e=Xu(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Lp(e,n,a,c,f,g,w){if(a)return n.flags&256?(n.flags&=-257,c=qu(Error(s(422))),ml(e,n,w,c)):n.memoizedState!==null?(n.child=e.child,n.flags|=128,null):(g=c.fallback,f=n.mode,c=Cl({mode:"visible",children:c.children},f,0,null),g=zi(g,f,w,null),g.flags|=2,c.return=n,g.return=n,c.sibling=g,n.child=c,(n.mode&1)!==0&&Os(n,e.child,null,w),n.child.memoizedState=Yu(w),n.memoizedState=Qu,g);if((n.mode&1)===0)return ml(e,n,w,null);if(f.data==="$!"){if(c=f.nextSibling&&f.nextSibling.dataset,c)var k=c.dgst;return c=k,g=Error(s(419)),c=qu(g,c,void 0),ml(e,n,w,c)}if(k=(w&e.childLanes)!==0,Wt||k){if(c=yt,c!==null){switch(w&-w){case 4:f=2;break;case 16:f=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:f=32;break;case 536870912:f=268435456;break;default:f=0}f=(f&(c.suspendedLanes|w))!==0?0:f,f!==0&&f!==g.retryLane&&(g.retryLane=f,hr(e,f),Ln(c,e,f,-1))}return mc(),c=qu(Error(s(421))),ml(e,n,w,c)}return f.data==="$?"?(n.flags|=128,n.child=e.child,n=Hp.bind(null,e),f._reactRetry=n,null):(e=g.treeContext,rn=$n(f.nextSibling),nn=n,Xe=!0,En=null,e!==null&&(fn[pn++]=ur,fn[pn++]=cr,fn[pn++]=Ci,ur=e.id,cr=e.overflow,Ci=n),n=Xu(n,c.children),n.flags|=4096,n)}function hd(e,n,a){e.lanes|=n;var c=e.alternate;c!==null&&(c.lanes|=n),Lu(e.return,n,a)}function ec(e,n,a,c,f){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:c,tail:a,tailMode:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=c,g.tail=a,g.tailMode=f)}function dd(e,n,a){var c=n.pendingProps,f=c.revealOrder,g=c.tail;if(zt(e,n,c.children,a),c=rt.current,(c&2)!==0)c=c&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&hd(e,a,n);else if(e.tag===19)hd(e,a,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}c&=1}if(Ge(rt,c),(n.mode&1)===0)n.memoizedState=null;else switch(f){case"forwards":for(a=n.child,f=null;a!==null;)e=a.alternate,e!==null&&ll(e)===null&&(f=a),a=a.sibling;a=f,a===null?(f=n.child,n.child=null):(f=a.sibling,a.sibling=null),ec(n,!1,f,a,g);break;case"backwards":for(a=null,f=n.child,n.child=null;f!==null;){if(e=f.alternate,e!==null&&ll(e)===null){n.child=f;break}e=f.sibling,f.sibling=a,a=f,f=e}ec(n,!0,a,null,g);break;case"together":ec(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function gl(e,n){(n.mode&1)===0&&e!==null&&(e.alternate=null,n.alternate=null,n.flags|=2)}function fr(e,n,a){if(e!==null&&(n.dependencies=e.dependencies),ji|=n.lanes,(a&n.childLanes)===0)return null;if(e!==null&&n.child!==e.child)throw Error(s(153));if(n.child!==null){for(e=n.child,a=ti(e,e.pendingProps),n.child=a,a.return=n;e.sibling!==null;)e=e.sibling,a=a.sibling=ti(e,e.pendingProps),a.return=n;a.sibling=null}return n.child}function Ap(e,n,a){switch(n.tag){case 3:ld(n),Cs();break;case 5:Eh(n);break;case 1:Ht(n.type)&&Ya(n);break;case 4:ju(n,n.stateNode.containerInfo);break;case 10:var c=n.type._context,f=n.memoizedProps.value;Ge(il,c._currentValue),c._currentValue=f;break;case 13:if(c=n.memoizedState,c!==null)return c.dehydrated!==null?(Ge(rt,rt.current&1),n.flags|=128,null):(a&n.child.childLanes)!==0?cd(e,n,a):(Ge(rt,rt.current&1),e=fr(e,n,a),e!==null?e.sibling:null);Ge(rt,rt.current&1);break;case 19:if(c=(a&n.childLanes)!==0,(e.flags&128)!==0){if(c)return dd(e,n,a);n.flags|=128}if(f=n.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),Ge(rt,rt.current),c)break;return null;case 22:case 23:return n.lanes=0,sd(e,n,a)}return fr(e,n,a)}var fd,tc,pd,md;fd=function(e,n){for(var a=n.child;a!==null;){if(a.tag===5||a.tag===6)e.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===n)break;for(;a.sibling===null;){if(a.return===null||a.return===n)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},tc=function(){},pd=function(e,n,a,c){var f=e.memoizedProps;if(f!==c){e=n.stateNode,Ai(Hn.current);var g=null;switch(a){case"input":f=Qs(e,f),c=Qs(e,c),g=[];break;case"select":f=V({},f,{value:void 0}),c=V({},c,{value:void 0}),g=[];break;case"textarea":f=Zi(e,f),c=Zi(e,c),g=[];break;default:typeof f.onClick!="function"&&typeof c.onClick=="function"&&(e.onclick=Y)}ro(a,c);var w;a=null;for(H in f)if(!c.hasOwnProperty(H)&&f.hasOwnProperty(H)&&f[H]!=null)if(H==="style"){var k=f[H];for(w in k)k.hasOwnProperty(w)&&(a||(a={}),a[w]="")}else H!=="dangerouslySetInnerHTML"&&H!=="children"&&H!=="suppressContentEditableWarning"&&H!=="suppressHydrationWarning"&&H!=="autoFocus"&&(h.hasOwnProperty(H)?g||(g=[]):(g=g||[]).push(H,null));for(H in c){var A=c[H];if(k=f?.[H],c.hasOwnProperty(H)&&A!==k&&(A!=null||k!=null))if(H==="style")if(k){for(w in k)!k.hasOwnProperty(w)||A&&A.hasOwnProperty(w)||(a||(a={}),a[w]="");for(w in A)A.hasOwnProperty(w)&&k[w]!==A[w]&&(a||(a={}),a[w]=A[w])}else a||(g||(g=[]),g.push(H,a)),a=A;else H==="dangerouslySetInnerHTML"?(A=A?A.__html:void 0,k=k?k.__html:void 0,A!=null&&k!==A&&(g=g||[]).push(H,A)):H==="children"?typeof A!="string"&&typeof A!="number"||(g=g||[]).push(H,""+A):H!=="suppressContentEditableWarning"&&H!=="suppressHydrationWarning"&&(h.hasOwnProperty(H)?(A!=null&&H==="onScroll"&&Ve("scroll",e),g||k===A||(g=[])):(g=g||[]).push(H,A))}a&&(g=g||[]).push("style",a);var H=g;(n.updateQueue=H)&&(n.flags|=4)}},md=function(e,n,a,c){a!==c&&(n.flags|=4)};function Zo(e,n){if(!Xe)switch(e.tailMode){case"hidden":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:c.sibling=null}}function Nt(e){var n=e.alternate!==null&&e.alternate.child===e.child,a=0,c=0;if(n)for(var f=e.child;f!==null;)a|=f.lanes|f.childLanes,c|=f.subtreeFlags&14680064,c|=f.flags&14680064,f.return=e,f=f.sibling;else for(f=e.child;f!==null;)a|=f.lanes|f.childLanes,c|=f.subtreeFlags,c|=f.flags,f.return=e,f=f.sibling;return e.subtreeFlags|=c,e.childLanes=a,n}function Np(e,n,a){var c=n.pendingProps;switch(Su(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Nt(n),null;case 1:return Ht(n.type)&&Qa(),Nt(n),null;case 3:return c=n.stateNode,Ns(),Ye($t),Ye(Lt),Mu(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(e===null||e.child===null)&&(nl(n)?n.flags|=4:e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,En!==null&&(dc(En),En=null))),tc(e,n),Nt(n),null;case 5:Ru(n);var f=Ai(Fo.current);if(a=n.type,e!==null&&n.stateNode!=null)pd(e,n,a,c,f),e.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!c){if(n.stateNode===null)throw Error(s(166));return Nt(n),null}if(e=Ai(Hn.current),nl(n)){c=n.stateNode,a=n.type;var g=n.memoizedProps;switch(c[dn]=n,c[Hr]=g,e=(n.mode&1)!==0,a){case"dialog":Ve("cancel",c),Ve("close",c);break;case"iframe":case"object":case"embed":Ve("load",c);break;case"video":case"audio":for(f=0;f<Ur.length;f++)Ve(Ur[f],c);break;case"source":Ve("error",c);break;case"img":case"image":case"link":Ve("error",c),Ve("load",c);break;case"details":Ve("toggle",c);break;case"input":Ys(c,g),Ve("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!g.multiple},Ve("invalid",c);break;case"textarea":to(c,g),Ve("invalid",c)}ro(a,g),f=null;for(var w in g)if(g.hasOwnProperty(w)){var k=g[w];w==="children"?typeof k=="string"?c.textContent!==k&&(g.suppressHydrationWarning!==!0&&$(c.textContent,k,e),f=["children",k]):typeof k=="number"&&c.textContent!==""+k&&(g.suppressHydrationWarning!==!0&&$(c.textContent,k,e),f=["children",""+k]):h.hasOwnProperty(w)&&k!=null&&w==="onScroll"&&Ve("scroll",c)}switch(a){case"input":_r(c),li(c,g,!0);break;case"textarea":_r(c),pa(c);break;case"select":case"option":break;default:typeof g.onClick=="function"&&(c.onclick=Y)}c=f,n.updateQueue=c,c!==null&&(n.flags|=4)}else{w=f.nodeType===9?f:f.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=qi(a)),e==="http://www.w3.org/1999/xhtml"?a==="script"?(e=w.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof c.is=="string"?e=w.createElement(a,{is:c.is}):(e=w.createElement(a),a==="select"&&(w=e,c.multiple?w.multiple=!0:c.size&&(w.size=c.size))):e=w.createElementNS(e,a),e[dn]=n,e[Hr]=c,fd(e,n,!1,!1),n.stateNode=e;e:{switch(w=Zn(a,c),a){case"dialog":Ve("cancel",e),Ve("close",e),f=c;break;case"iframe":case"object":case"embed":Ve("load",e),f=c;break;case"video":case"audio":for(f=0;f<Ur.length;f++)Ve(Ur[f],e);f=c;break;case"source":Ve("error",e),f=c;break;case"img":case"image":case"link":Ve("error",e),Ve("load",e),f=c;break;case"details":Ve("toggle",e),f=c;break;case"input":Ys(e,c),f=Qs(e,c),Ve("invalid",e);break;case"option":f=c;break;case"select":e._wrapperState={wasMultiple:!!c.multiple},f=V({},c,{value:void 0}),Ve("invalid",e);break;case"textarea":to(e,c),f=Zi(e,c),Ve("invalid",e);break;default:f=c}ro(a,f),k=f;for(g in k)if(k.hasOwnProperty(g)){var A=k[g];g==="style"?Ki(e,A):g==="dangerouslySetInnerHTML"?(A=A?A.__html:void 0,A!=null&&ma(e,A)):g==="children"?typeof A=="string"?(a!=="textarea"||A!=="")&&br(e,A):typeof A=="number"&&br(e,""+A):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(h.hasOwnProperty(g)?A!=null&&g==="onScroll"&&Ve("scroll",e):A!=null&&J(e,g,A,w))}switch(a){case"input":_r(e),li(e,c,!1);break;case"textarea":_r(e),pa(e);break;case"option":c.value!=null&&e.setAttribute("value",""+Re(c.value));break;case"select":e.multiple=!!c.multiple,g=c.value,g!=null?jn(e,!!c.multiple,g,!1):c.defaultValue!=null&&jn(e,!!c.multiple,c.defaultValue,!0);break;default:typeof f.onClick=="function"&&(e.onclick=Y)}switch(a){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return Nt(n),null;case 6:if(e&&n.stateNode!=null)md(e,n,e.memoizedProps,c);else{if(typeof c!="string"&&n.stateNode===null)throw Error(s(166));if(a=Ai(Fo.current),Ai(Hn.current),nl(n)){if(c=n.stateNode,a=n.memoizedProps,c[dn]=n,(g=c.nodeValue!==a)&&(e=nn,e!==null))switch(e.tag){case 3:$(c.nodeValue,a,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&$(c.nodeValue,a,(e.mode&1)!==0)}g&&(n.flags|=4)}else c=(a.nodeType===9?a:a.ownerDocument).createTextNode(c),c[dn]=n,n.stateNode=c}return Nt(n),null;case 13:if(Ye(rt),c=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Xe&&rn!==null&&(n.mode&1)!==0&&(n.flags&128)===0)_h(),Cs(),n.flags|=98560,g=!1;else if(g=nl(n),c!==null&&c.dehydrated!==null){if(e===null){if(!g)throw Error(s(318));if(g=n.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(s(317));g[dn]=n}else Cs(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Nt(n),g=!1}else En!==null&&(dc(En),En=null),g=!0;if(!g)return n.flags&65536?n:null}return(n.flags&128)!==0?(n.lanes=a,n):(c=c!==null,c!==(e!==null&&e.memoizedState!==null)&&c&&(n.child.flags|=8192,(n.mode&1)!==0&&(e===null||(rt.current&1)!==0?gt===0&&(gt=3):mc())),n.updateQueue!==null&&(n.flags|=4),Nt(n),null);case 4:return Ns(),tc(e,n),e===null&&Fr(n.stateNode.containerInfo),Nt(n),null;case 10:return Ou(n.type._context),Nt(n),null;case 17:return Ht(n.type)&&Qa(),Nt(n),null;case 19:if(Ye(rt),g=n.memoizedState,g===null)return Nt(n),null;if(c=(n.flags&128)!==0,w=g.rendering,w===null)if(c)Zo(g,!1);else{if(gt!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(w=ll(e),w!==null){for(n.flags|=128,Zo(g,!1),c=w.updateQueue,c!==null&&(n.updateQueue=c,n.flags|=4),n.subtreeFlags=0,c=a,a=n.child;a!==null;)g=a,e=c,g.flags&=14680066,w=g.alternate,w===null?(g.childLanes=0,g.lanes=e,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=w.childLanes,g.lanes=w.lanes,g.child=w.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=w.memoizedProps,g.memoizedState=w.memoizedState,g.updateQueue=w.updateQueue,g.type=w.type,e=w.dependencies,g.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),a=a.sibling;return Ge(rt,rt.current&1|2),n.child}e=e.sibling}g.tail!==null&&tt()>Ms&&(n.flags|=128,c=!0,Zo(g,!1),n.lanes=4194304)}else{if(!c)if(e=ll(w),e!==null){if(n.flags|=128,c=!0,a=e.updateQueue,a!==null&&(n.updateQueue=a,n.flags|=4),Zo(g,!0),g.tail===null&&g.tailMode==="hidden"&&!w.alternate&&!Xe)return Nt(n),null}else 2*tt()-g.renderingStartTime>Ms&&a!==1073741824&&(n.flags|=128,c=!0,Zo(g,!1),n.lanes=4194304);g.isBackwards?(w.sibling=n.child,n.child=w):(a=g.last,a!==null?a.sibling=w:n.child=w,g.last=w)}return g.tail!==null?(n=g.tail,g.rendering=n,g.tail=n.sibling,g.renderingStartTime=tt(),n.sibling=null,a=rt.current,Ge(rt,c?a&1|2:a&1),n):(Nt(n),null);case 22:case 23:return pc(),c=n.memoizedState!==null,e!==null&&e.memoizedState!==null!==c&&(n.flags|=8192),c&&(n.mode&1)!==0?(sn&1073741824)!==0&&(Nt(n),n.subtreeFlags&6&&(n.flags|=8192)):Nt(n),null;case 24:return null;case 25:return null}throw Error(s(156,n.tag))}function jp(e,n){switch(Su(n),n.tag){case 1:return Ht(n.type)&&Qa(),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Ns(),Ye($t),Ye(Lt),Mu(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 5:return Ru(n),null;case 13:if(Ye(rt),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(s(340));Cs()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Ye(rt),null;case 4:return Ns(),null;case 10:return Ou(n.type._context),null;case 22:case 23:return pc(),null;case 24:return null;default:return null}}var vl=!1,jt=!1,Rp=typeof WeakSet=="function"?WeakSet:Set,pe=null;function Rs(e,n){var a=e.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(c){ot(e,n,c)}else a.current=null}function nc(e,n,a){try{a()}catch(c){ot(e,n,c)}}var gd=!1;function Ip(e,n){if(ae=yi,e=Oo(),Lo(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var c=a.getSelection&&a.getSelection();if(c&&c.rangeCount!==0){a=c.anchorNode;var f=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{a.nodeType,g.nodeType}catch{a=null;break e}var w=0,k=-1,A=-1,H=0,ne=0,re=e,ee=null;t:for(;;){for(var de;re!==a||f!==0&&re.nodeType!==3||(k=w+f),re!==g||c!==0&&re.nodeType!==3||(A=w+c),re.nodeType===3&&(w+=re.nodeValue.length),(de=re.firstChild)!==null;)ee=re,re=de;for(;;){if(re===e)break t;if(ee===a&&++H===f&&(k=w),ee===g&&++ne===c&&(A=w),(de=re.nextSibling)!==null)break;re=ee,ee=re.parentNode}re=de}a=k===-1||A===-1?null:{start:k,end:A}}else a=null}a=a||{start:0,end:0}}else a=null;for(be={focusedElem:e,selectionRange:a},yi=!1,pe=n;pe!==null;)if(n=pe,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,pe=e;else for(;pe!==null;){n=pe;try{var ge=n.alternate;if((n.flags&1024)!==0)switch(n.tag){case 0:case 11:case 15:break;case 1:if(ge!==null){var ve=ge.memoizedProps,lt=ge.memoizedState,B=n.stateNode,N=B.getSnapshotBeforeUpdate(n.elementType===n.type?ve:Tn(n.type,ve),lt);B.__reactInternalSnapshotBeforeUpdate=N}break;case 3:var F=n.stateNode.containerInfo;F.nodeType===1?F.textContent="":F.nodeType===9&&F.documentElement&&F.removeChild(F.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(s(163))}}catch(ie){ot(n,n.return,ie)}if(e=n.sibling,e!==null){e.return=n.return,pe=e;break}pe=n.return}return ge=gd,gd=!1,ge}function qo(e,n,a){var c=n.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var f=c=c.next;do{if((f.tag&e)===e){var g=f.destroy;f.destroy=void 0,g!==void 0&&nc(n,a,g)}f=f.next}while(f!==c)}}function _l(e,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var c=a.create;a.destroy=c()}a=a.next}while(a!==n)}}function rc(e){var n=e.ref;if(n!==null){var a=e.stateNode;e.tag,e=a,typeof n=="function"?n(e):n.current=e}}function vd(e){var n=e.alternate;n!==null&&(e.alternate=null,vd(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&(delete n[dn],delete n[Hr],delete n[Wr],delete n[_u],delete n[yu])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function _d(e){return e.tag===5||e.tag===3||e.tag===4}function yd(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||_d(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ic(e,n,a){var c=e.tag;if(c===5||c===6)e=e.stateNode,n?a.nodeType===8?a.parentNode.insertBefore(e,n):a.insertBefore(e,n):(a.nodeType===8?(n=a.parentNode,n.insertBefore(e,a)):(n=a,n.appendChild(e)),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=Y));else if(c!==4&&(e=e.child,e!==null))for(ic(e,n,a),e=e.sibling;e!==null;)ic(e,n,a),e=e.sibling}function sc(e,n,a){var c=e.tag;if(c===5||c===6)e=e.stateNode,n?a.insertBefore(e,n):a.appendChild(e);else if(c!==4&&(e=e.child,e!==null))for(sc(e,n,a),e=e.sibling;e!==null;)sc(e,n,a),e=e.sibling}var bt=null,Cn=!1;function Jr(e,n,a){for(a=a.child;a!==null;)wd(e,n,a),a=a.sibling}function wd(e,n,a){if(Gt&&typeof Gt.onCommitFiberUnmount=="function")try{Gt.onCommitFiberUnmount(fi,a)}catch{}switch(a.tag){case 5:jt||Rs(a,n);case 6:var c=bt,f=Cn;bt=null,Jr(e,n,a),bt=c,Cn=f,bt!==null&&(Cn?(e=bt,a=a.stateNode,e.nodeType===8?e.parentNode.removeChild(a):e.removeChild(a)):bt.removeChild(a.stateNode));break;case 18:bt!==null&&(Cn?(e=bt,a=a.stateNode,e.nodeType===8?zo(e.parentNode,a):e.nodeType===1&&zo(e,a),Qt(e)):zo(bt,a.stateNode));break;case 4:c=bt,f=Cn,bt=a.stateNode.containerInfo,Cn=!0,Jr(e,n,a),bt=c,Cn=f;break;case 0:case 11:case 14:case 15:if(!jt&&(c=a.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){f=c=c.next;do{var g=f,w=g.destroy;g=g.tag,w!==void 0&&((g&2)!==0||(g&4)!==0)&&nc(a,n,w),f=f.next}while(f!==c)}Jr(e,n,a);break;case 1:if(!jt&&(Rs(a,n),c=a.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=a.memoizedProps,c.state=a.memoizedState,c.componentWillUnmount()}catch(k){ot(a,n,k)}Jr(e,n,a);break;case 21:Jr(e,n,a);break;case 22:a.mode&1?(jt=(c=jt)||a.memoizedState!==null,Jr(e,n,a),jt=c):Jr(e,n,a);break;default:Jr(e,n,a)}}function xd(e){var n=e.updateQueue;if(n!==null){e.updateQueue=null;var a=e.stateNode;a===null&&(a=e.stateNode=new Rp),n.forEach(function(c){var f=Wp.bind(null,e,c);a.has(c)||(a.add(c),c.then(f,f))})}}function On(e,n){var a=n.deletions;if(a!==null)for(var c=0;c<a.length;c++){var f=a[c];try{var g=e,w=n,k=w;e:for(;k!==null;){switch(k.tag){case 5:bt=k.stateNode,Cn=!1;break e;case 3:bt=k.stateNode.containerInfo,Cn=!0;break e;case 4:bt=k.stateNode.containerInfo,Cn=!0;break e}k=k.return}if(bt===null)throw Error(s(160));wd(g,w,f),bt=null,Cn=!1;var A=f.alternate;A!==null&&(A.return=null),f.return=null}catch(H){ot(f,n,H)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)bd(n,e),n=n.sibling}function bd(e,n){var a=e.alternate,c=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(On(n,e),Vn(e),c&4){try{qo(3,e,e.return),_l(3,e)}catch(ve){ot(e,e.return,ve)}try{qo(5,e,e.return)}catch(ve){ot(e,e.return,ve)}}break;case 1:On(n,e),Vn(e),c&512&&a!==null&&Rs(a,a.return);break;case 5:if(On(n,e),Vn(e),c&512&&a!==null&&Rs(a,a.return),e.flags&32){var f=e.stateNode;try{br(f,"")}catch(ve){ot(e,e.return,ve)}}if(c&4&&(f=e.stateNode,f!=null)){var g=e.memoizedProps,w=a!==null?a.memoizedProps:g,k=e.type,A=e.updateQueue;if(e.updateQueue=null,A!==null)try{k==="input"&&g.type==="radio"&&g.name!=null&&Xs(f,g),Zn(k,w);var H=Zn(k,g);for(w=0;w<A.length;w+=2){var ne=A[w],re=A[w+1];ne==="style"?Ki(f,re):ne==="dangerouslySetInnerHTML"?ma(f,re):ne==="children"?br(f,re):J(f,ne,re,H)}switch(k){case"input":ai(f,g);break;case"textarea":fa(f,g);break;case"select":var ee=f._wrapperState.wasMultiple;f._wrapperState.wasMultiple=!!g.multiple;var de=g.value;de!=null?jn(f,!!g.multiple,de,!1):ee!==!!g.multiple&&(g.defaultValue!=null?jn(f,!!g.multiple,g.defaultValue,!0):jn(f,!!g.multiple,g.multiple?[]:"",!1))}f[Hr]=g}catch(ve){ot(e,e.return,ve)}}break;case 6:if(On(n,e),Vn(e),c&4){if(e.stateNode===null)throw Error(s(162));f=e.stateNode,g=e.memoizedProps;try{f.nodeValue=g}catch(ve){ot(e,e.return,ve)}}break;case 3:if(On(n,e),Vn(e),c&4&&a!==null&&a.memoizedState.isDehydrated)try{Qt(n.containerInfo)}catch(ve){ot(e,e.return,ve)}break;case 4:On(n,e),Vn(e);break;case 13:On(n,e),Vn(e),f=e.child,f.flags&8192&&(g=f.memoizedState!==null,f.stateNode.isHidden=g,!g||f.alternate!==null&&f.alternate.memoizedState!==null||(lc=tt())),c&4&&xd(e);break;case 22:if(ne=a!==null&&a.memoizedState!==null,e.mode&1?(jt=(H=jt)||ne,On(n,e),jt=H):On(n,e),Vn(e),c&8192){if(H=e.memoizedState!==null,(e.stateNode.isHidden=H)&&!ne&&(e.mode&1)!==0)for(pe=e,ne=e.child;ne!==null;){for(re=pe=ne;pe!==null;){switch(ee=pe,de=ee.child,ee.tag){case 0:case 11:case 14:case 15:qo(4,ee,ee.return);break;case 1:Rs(ee,ee.return);var ge=ee.stateNode;if(typeof ge.componentWillUnmount=="function"){c=ee,a=ee.return;try{n=c,ge.props=n.memoizedProps,ge.state=n.memoizedState,ge.componentWillUnmount()}catch(ve){ot(c,a,ve)}}break;case 5:Rs(ee,ee.return);break;case 22:if(ee.memoizedState!==null){Pd(re);continue}}de!==null?(de.return=ee,pe=de):Pd(re)}ne=ne.sibling}e:for(ne=null,re=e;;){if(re.tag===5){if(ne===null){ne=re;try{f=re.stateNode,H?(g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none"):(k=re.stateNode,A=re.memoizedProps.style,w=A!=null&&A.hasOwnProperty("display")?A.display:null,k.style.display=no("display",w))}catch(ve){ot(e,e.return,ve)}}}else if(re.tag===6){if(ne===null)try{re.stateNode.nodeValue=H?"":re.memoizedProps}catch(ve){ot(e,e.return,ve)}}else if((re.tag!==22&&re.tag!==23||re.memoizedState===null||re===e)&&re.child!==null){re.child.return=re,re=re.child;continue}if(re===e)break e;for(;re.sibling===null;){if(re.return===null||re.return===e)break e;ne===re&&(ne=null),re=re.return}ne===re&&(ne=null),re.sibling.return=re.return,re=re.sibling}}break;case 19:On(n,e),Vn(e),c&4&&xd(e);break;case 21:break;default:On(n,e),Vn(e)}}function Vn(e){var n=e.flags;if(n&2){try{e:{for(var a=e.return;a!==null;){if(_d(a)){var c=a;break e}a=a.return}throw Error(s(160))}switch(c.tag){case 5:var f=c.stateNode;c.flags&32&&(br(f,""),c.flags&=-33);var g=yd(e);sc(e,g,f);break;case 3:case 4:var w=c.stateNode.containerInfo,k=yd(e);ic(e,k,w);break;default:throw Error(s(161))}}catch(A){ot(e,e.return,A)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Mp(e,n,a){pe=e,Sd(e)}function Sd(e,n,a){for(var c=(e.mode&1)!==0;pe!==null;){var f=pe,g=f.child;if(f.tag===22&&c){var w=f.memoizedState!==null||vl;if(!w){var k=f.alternate,A=k!==null&&k.memoizedState!==null||jt;k=vl;var H=jt;if(vl=w,(jt=A)&&!H)for(pe=f;pe!==null;)w=pe,A=w.child,w.tag===22&&w.memoizedState!==null?Ed(f):A!==null?(A.return=w,pe=A):Ed(f);for(;g!==null;)pe=g,Sd(g),g=g.sibling;pe=f,vl=k,jt=H}kd(e)}else(f.subtreeFlags&8772)!==0&&g!==null?(g.return=f,pe=g):kd(e)}}function kd(e){for(;pe!==null;){var n=pe;if((n.flags&8772)!==0){var a=n.alternate;try{if((n.flags&8772)!==0)switch(n.tag){case 0:case 11:case 15:jt||_l(5,n);break;case 1:var c=n.stateNode;if(n.flags&4&&!jt)if(a===null)c.componentDidMount();else{var f=n.elementType===n.type?a.memoizedProps:Tn(n.type,a.memoizedProps);c.componentDidUpdate(f,a.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var g=n.updateQueue;g!==null&&Ph(n,g,c);break;case 3:var w=n.updateQueue;if(w!==null){if(a=null,n.child!==null)switch(n.child.tag){case 5:a=n.child.stateNode;break;case 1:a=n.child.stateNode}Ph(n,w,a)}break;case 5:var k=n.stateNode;if(a===null&&n.flags&4){a=k;var A=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":A.autoFocus&&a.focus();break;case"img":A.src&&(a.src=A.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var H=n.alternate;if(H!==null){var ne=H.memoizedState;if(ne!==null){var re=ne.dehydrated;re!==null&&Qt(re)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(s(163))}jt||n.flags&512&&rc(n)}catch(ee){ot(n,n.return,ee)}}if(n===e){pe=null;break}if(a=n.sibling,a!==null){a.return=n.return,pe=a;break}pe=n.return}}function Pd(e){for(;pe!==null;){var n=pe;if(n===e){pe=null;break}var a=n.sibling;if(a!==null){a.return=n.return,pe=a;break}pe=n.return}}function Ed(e){for(;pe!==null;){var n=pe;try{switch(n.tag){case 0:case 11:case 15:var a=n.return;try{_l(4,n)}catch(A){ot(n,a,A)}break;case 1:var c=n.stateNode;if(typeof c.componentDidMount=="function"){var f=n.return;try{c.componentDidMount()}catch(A){ot(n,f,A)}}var g=n.return;try{rc(n)}catch(A){ot(n,g,A)}break;case 5:var w=n.return;try{rc(n)}catch(A){ot(n,w,A)}}}catch(A){ot(n,n.return,A)}if(n===e){pe=null;break}var k=n.sibling;if(k!==null){k.return=n.return,pe=k;break}pe=n.return}}var zp=Math.ceil,yl=se.ReactCurrentDispatcher,oc=se.ReactCurrentOwner,vn=se.ReactCurrentBatchConfig,Be=0,yt=null,ct=null,St=0,sn=0,Is=Vr(0),gt=0,Go=null,ji=0,wl=0,ac=0,Ko=null,Vt=null,lc=0,Ms=1/0,pr=null,xl=!1,uc=null,Qr=null,bl=!1,Yr=null,Sl=0,Jo=0,cc=null,kl=-1,Pl=0;function Dt(){return(Be&6)!==0?tt():kl!==-1?kl:kl=tt()}function Xr(e){return(e.mode&1)===0?1:(Be&2)!==0&&St!==0?St&-St:wp.transition!==null?(Pl===0&&(Pl=Ca()),Pl):(e=De,e!==0||(e=window.event,e=e===void 0?16:ze(e.type)),e)}function Ln(e,n,a,c){if(50<Jo)throw Jo=0,cc=null,Error(s(185));Kt(e,a,c),((Be&2)===0||e!==yt)&&(e===yt&&((Be&2)===0&&(wl|=a),gt===4&&ei(e,St)),Zt(e,c),a===1&&Be===0&&(n.mode&1)===0&&(Ms=tt()+500,Xa&&qr()))}function Zt(e,n){var a=e.callbackNode;ns(e,n);var c=qe(e,e===yt?St:0);if(c===0)a!==null&&co(a),e.callbackNode=null,e.callbackPriority=0;else if(n=c&-c,e.callbackPriority!==n){if(a!=null&&co(a),n===1)e.tag===0?yp(Cd.bind(null,e)):fh(Cd.bind(null,e)),Ot(function(){(Be&6)===0&&qr()}),a=null;else{switch(Cr(c)){case 1:a=ho;break;case 4:a=Ta;break;case 16:a=es;break;case 536870912:a=kr;break;default:a=es}a=Md(a,Td.bind(null,e))}e.callbackPriority=n,e.callbackNode=a}}function Td(e,n){if(kl=-1,Pl=0,(Be&6)!==0)throw Error(s(327));var a=e.callbackNode;if(zs()&&e.callbackNode!==a)return null;var c=qe(e,e===yt?St:0);if(c===0)return null;if((c&30)!==0||(c&e.expiredLanes)!==0||n)n=El(e,c);else{n=c;var f=Be;Be|=2;var g=Ld();(yt!==e||St!==n)&&(pr=null,Ms=tt()+500,Ii(e,n));do try{Up();break}catch(k){Od(e,k)}while(!0);Cu(),yl.current=g,Be=f,ct!==null?n=0:(yt=null,St=0,n=gt)}if(n!==0){if(n===2&&(f=Tt(e),f!==0&&(c=f,n=hc(e,f))),n===1)throw a=Go,Ii(e,0),ei(e,c),Zt(e,tt()),a;if(n===6)ei(e,c);else{if(f=e.current.alternate,(c&30)===0&&!Dp(f)&&(n=El(e,c),n===2&&(g=Tt(e),g!==0&&(c=g,n=hc(e,g))),n===1))throw a=Go,Ii(e,0),ei(e,c),Zt(e,tt()),a;switch(e.finishedWork=f,e.finishedLanes=c,n){case 0:case 1:throw Error(s(345));case 2:Mi(e,Vt,pr);break;case 3:if(ei(e,c),(c&130023424)===c&&(n=lc+500-tt(),10<n)){if(qe(e,0)!==0)break;if(f=e.suspendedLanes,(f&c)!==c){Dt(),e.pingedLanes|=e.suspendedLanes&f;break}e.timeoutHandle=pt(Mi.bind(null,e,Vt,pr),n);break}Mi(e,Vt,pr);break;case 4:if(ei(e,c),(c&4194240)===c)break;for(n=e.eventTimes,f=-1;0<c;){var w=31-Le(c);g=1<<w,w=n[w],w>f&&(f=w),c&=~g}if(c=f,c=tt()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*zp(c/1960))-c,10<c){e.timeoutHandle=pt(Mi.bind(null,e,Vt,pr),c);break}Mi(e,Vt,pr);break;case 5:Mi(e,Vt,pr);break;default:throw Error(s(329))}}}return Zt(e,tt()),e.callbackNode===a?Td.bind(null,e):null}function hc(e,n){var a=Ko;return e.current.memoizedState.isDehydrated&&(Ii(e,n).flags|=256),e=El(e,n),e!==2&&(n=Vt,Vt=a,n!==null&&dc(n)),e}function dc(e){Vt===null?Vt=e:Vt.push.apply(Vt,e)}function Dp(e){for(var n=e;;){if(n.flags&16384){var a=n.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var c=0;c<a.length;c++){var f=a[c],g=f.getSnapshot;f=f.value;try{if(!en(g(),f))return!1}catch{return!1}}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function ei(e,n){for(n&=~ac,n&=~wl,e.suspendedLanes|=n,e.pingedLanes&=~n,e=e.expirationTimes;0<n;){var a=31-Le(n),c=1<<a;e[a]=-1,n&=~c}}function Cd(e){if((Be&6)!==0)throw Error(s(327));zs();var n=qe(e,0);if((n&1)===0)return Zt(e,tt()),null;var a=El(e,n);if(e.tag!==0&&a===2){var c=Tt(e);c!==0&&(n=c,a=hc(e,c))}if(a===1)throw a=Go,Ii(e,0),ei(e,n),Zt(e,tt()),a;if(a===6)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=n,Mi(e,Vt,pr),Zt(e,tt()),null}function fc(e,n){var a=Be;Be|=1;try{return e(n)}finally{Be=a,Be===0&&(Ms=tt()+500,Xa&&qr())}}function Ri(e){Yr!==null&&Yr.tag===0&&(Be&6)===0&&zs();var n=Be;Be|=1;var a=vn.transition,c=De;try{if(vn.transition=null,De=1,e)return e()}finally{De=c,vn.transition=a,Be=n,(Be&6)===0&&qr()}}function pc(){sn=Is.current,Ye(Is)}function Ii(e,n){e.finishedWork=null,e.finishedLanes=0;var a=e.timeoutHandle;if(a!==-1&&(e.timeoutHandle=-1,ut(a)),ct!==null)for(a=ct.return;a!==null;){var c=a;switch(Su(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&Qa();break;case 3:Ns(),Ye($t),Ye(Lt),Mu();break;case 5:Ru(c);break;case 4:Ns();break;case 13:Ye(rt);break;case 19:Ye(rt);break;case 10:Ou(c.type._context);break;case 22:case 23:pc()}a=a.return}if(yt=e,ct=e=ti(e.current,null),St=sn=n,gt=0,Go=null,ac=wl=ji=0,Vt=Ko=null,Li!==null){for(n=0;n<Li.length;n++)if(a=Li[n],c=a.interleaved,c!==null){a.interleaved=null;var f=c.next,g=a.pending;if(g!==null){var w=g.next;g.next=f,c.next=w}a.pending=c}Li=null}return e}function Od(e,n){do{var a=ct;try{if(Cu(),ul.current=fl,cl){for(var c=it.memoizedState;c!==null;){var f=c.queue;f!==null&&(f.pending=null),c=c.next}cl=!1}if(Ni=0,_t=mt=it=null,$o=!1,Ho=0,oc.current=null,a===null||a.return===null){gt=1,Go=n,ct=null;break}e:{var g=e,w=a.return,k=a,A=n;if(n=St,k.flags|=32768,A!==null&&typeof A=="object"&&typeof A.then=="function"){var H=A,ne=k,re=ne.tag;if((ne.mode&1)===0&&(re===0||re===11||re===15)){var ee=ne.alternate;ee?(ne.updateQueue=ee.updateQueue,ne.memoizedState=ee.memoizedState,ne.lanes=ee.lanes):(ne.updateQueue=null,ne.memoizedState=null)}var de=ed(w);if(de!==null){de.flags&=-257,td(de,w,k,g,n),de.mode&1&&Xh(g,H,n),n=de,A=H;var ge=n.updateQueue;if(ge===null){var ve=new Set;ve.add(A),n.updateQueue=ve}else ge.add(A);break e}else{if((n&1)===0){Xh(g,H,n),mc();break e}A=Error(s(426))}}else if(Xe&&k.mode&1){var lt=ed(w);if(lt!==null){(lt.flags&65536)===0&&(lt.flags|=256),td(lt,w,k,g,n),Eu(js(A,k));break e}}g=A=js(A,k),gt!==4&&(gt=2),Ko===null?Ko=[g]:Ko.push(g),g=w;do{switch(g.tag){case 3:g.flags|=65536,n&=-n,g.lanes|=n;var B=Qh(g,A,n);kh(g,B);break e;case 1:k=A;var N=g.type,F=g.stateNode;if((g.flags&128)===0&&(typeof N.getDerivedStateFromError=="function"||F!==null&&typeof F.componentDidCatch=="function"&&(Qr===null||!Qr.has(F)))){g.flags|=65536,n&=-n,g.lanes|=n;var ie=Yh(g,k,n);kh(g,ie);break e}}g=g.return}while(g!==null)}Nd(a)}catch(ye){n=ye,ct===a&&a!==null&&(ct=a=a.return);continue}break}while(!0)}function Ld(){var e=yl.current;return yl.current=fl,e===null?fl:e}function mc(){(gt===0||gt===3||gt===2)&&(gt=4),yt===null||(ji&268435455)===0&&(wl&268435455)===0||ei(yt,St)}function El(e,n){var a=Be;Be|=2;var c=Ld();(yt!==e||St!==n)&&(pr=null,Ii(e,n));do try{Bp();break}catch(f){Od(e,f)}while(!0);if(Cu(),Be=a,yl.current=c,ct!==null)throw Error(s(261));return yt=null,St=0,gt}function Bp(){for(;ct!==null;)Ad(ct)}function Up(){for(;ct!==null&&!nu();)Ad(ct)}function Ad(e){var n=Id(e.alternate,e,sn);e.memoizedProps=e.pendingProps,n===null?Nd(e):ct=n,oc.current=null}function Nd(e){var n=e;do{var a=n.alternate;if(e=n.return,(n.flags&32768)===0){if(a=Np(a,n,sn),a!==null){ct=a;return}}else{if(a=jp(a,n),a!==null){a.flags&=32767,ct=a;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{gt=6,ct=null;return}}if(n=n.sibling,n!==null){ct=n;return}ct=n=e}while(n!==null);gt===0&&(gt=5)}function Mi(e,n,a){var c=De,f=vn.transition;try{vn.transition=null,De=1,Fp(e,n,a,c)}finally{vn.transition=f,De=c}return null}function Fp(e,n,a,c){do zs();while(Yr!==null);if((Be&6)!==0)throw Error(s(327));a=e.finishedWork;var f=e.finishedLanes;if(a===null)return null;if(e.finishedWork=null,e.finishedLanes=0,a===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var g=a.lanes|a.childLanes;if(st(e,g),e===yt&&(ct=yt=null,St=0),(a.subtreeFlags&2064)===0&&(a.flags&2064)===0||bl||(bl=!0,Md(es,function(){return zs(),null})),g=(a.flags&15990)!==0,(a.subtreeFlags&15990)!==0||g){g=vn.transition,vn.transition=null;var w=De;De=1;var k=Be;Be|=4,oc.current=null,Ip(e,a),bd(a,e),cn(be),yi=!!ae,be=ae=null,e.current=a,Mp(a),Xi(),Be=k,De=w,vn.transition=g}else e.current=a;if(bl&&(bl=!1,Yr=e,Sl=f),g=e.pendingLanes,g===0&&(Qr=null),pi(a.stateNode),Zt(e,tt()),n!==null)for(c=e.onRecoverableError,a=0;a<n.length;a++)f=n[a],c(f.value,{componentStack:f.stack,digest:f.digest});if(xl)throw xl=!1,e=uc,uc=null,e;return(Sl&1)!==0&&e.tag!==0&&zs(),g=e.pendingLanes,(g&1)!==0?e===cc?Jo++:(Jo=0,cc=e):Jo=0,qr(),null}function zs(){if(Yr!==null){var e=Cr(Sl),n=vn.transition,a=De;try{if(vn.transition=null,De=16>e?16:e,Yr===null)var c=!1;else{if(e=Yr,Yr=null,Sl=0,(Be&6)!==0)throw Error(s(331));var f=Be;for(Be|=4,pe=e.current;pe!==null;){var g=pe,w=g.child;if((pe.flags&16)!==0){var k=g.deletions;if(k!==null){for(var A=0;A<k.length;A++){var H=k[A];for(pe=H;pe!==null;){var ne=pe;switch(ne.tag){case 0:case 11:case 15:qo(8,ne,g)}var re=ne.child;if(re!==null)re.return=ne,pe=re;else for(;pe!==null;){ne=pe;var ee=ne.sibling,de=ne.return;if(vd(ne),ne===H){pe=null;break}if(ee!==null){ee.return=de,pe=ee;break}pe=de}}}var ge=g.alternate;if(ge!==null){var ve=ge.child;if(ve!==null){ge.child=null;do{var lt=ve.sibling;ve.sibling=null,ve=lt}while(ve!==null)}}pe=g}}if((g.subtreeFlags&2064)!==0&&w!==null)w.return=g,pe=w;else e:for(;pe!==null;){if(g=pe,(g.flags&2048)!==0)switch(g.tag){case 0:case 11:case 15:qo(9,g,g.return)}var B=g.sibling;if(B!==null){B.return=g.return,pe=B;break e}pe=g.return}}var N=e.current;for(pe=N;pe!==null;){w=pe;var F=w.child;if((w.subtreeFlags&2064)!==0&&F!==null)F.return=w,pe=F;else e:for(w=N;pe!==null;){if(k=pe,(k.flags&2048)!==0)try{switch(k.tag){case 0:case 11:case 15:_l(9,k)}}catch(ye){ot(k,k.return,ye)}if(k===w){pe=null;break e}var ie=k.sibling;if(ie!==null){ie.return=k.return,pe=ie;break e}pe=k.return}}if(Be=f,qr(),Gt&&typeof Gt.onPostCommitFiberRoot=="function")try{Gt.onPostCommitFiberRoot(fi,e)}catch{}c=!0}return c}finally{De=a,vn.transition=n}}return!1}function jd(e,n,a){n=js(a,n),n=Qh(e,n,1),e=Kr(e,n,1),n=Dt(),e!==null&&(Kt(e,1,n),Zt(e,n))}function ot(e,n,a){if(e.tag===3)jd(e,e,a);else for(;n!==null;){if(n.tag===3){jd(n,e,a);break}else if(n.tag===1){var c=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Qr===null||!Qr.has(c))){e=js(a,e),e=Yh(n,e,1),n=Kr(n,e,1),e=Dt(),n!==null&&(Kt(n,1,e),Zt(n,e));break}}n=n.return}}function $p(e,n,a){var c=e.pingCache;c!==null&&c.delete(n),n=Dt(),e.pingedLanes|=e.suspendedLanes&a,yt===e&&(St&a)===a&&(gt===4||gt===3&&(St&130023424)===St&&500>tt()-lc?Ii(e,0):ac|=a),Zt(e,n)}function Rd(e,n){n===0&&((e.mode&1)===0?n=1:(n=Er,Er<<=1,(Er&130023424)===0&&(Er=4194304)));var a=Dt();e=hr(e,n),e!==null&&(Kt(e,n,a),Zt(e,a))}function Hp(e){var n=e.memoizedState,a=0;n!==null&&(a=n.retryLane),Rd(e,a)}function Wp(e,n){var a=0;switch(e.tag){case 13:var c=e.stateNode,f=e.memoizedState;f!==null&&(a=f.retryLane);break;case 19:c=e.stateNode;break;default:throw Error(s(314))}c!==null&&c.delete(n),Rd(e,a)}var Id;Id=function(e,n,a){if(e!==null)if(e.memoizedProps!==n.pendingProps||$t.current)Wt=!0;else{if((e.lanes&a)===0&&(n.flags&128)===0)return Wt=!1,Ap(e,n,a);Wt=(e.flags&131072)!==0}else Wt=!1,Xe&&(n.flags&1048576)!==0&&ph(n,tl,n.index);switch(n.lanes=0,n.tag){case 2:var c=n.type;gl(e,n),e=n.pendingProps;var f=Ps(n,Lt.current);As(n,a),f=Bu(null,n,c,e,f,a);var g=Uu();return n.flags|=1,typeof f=="object"&&f!==null&&typeof f.render=="function"&&f.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,Ht(c)?(g=!0,Ya(n)):g=!1,n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,Nu(n),f.updater=pl,n.stateNode=f,f._reactInternals=n,Zu(n,c,e,a),n=Ju(null,n,c,!0,g,a)):(n.tag=0,Xe&&g&&bu(n),zt(null,n,f,a),n=n.child),n;case 16:c=n.elementType;e:{switch(gl(e,n),e=n.pendingProps,f=c._init,c=f(c._payload),n.type=c,f=n.tag=Zp(c),e=Tn(c,e),f){case 0:n=Ku(null,n,c,e,a);break e;case 1:n=ad(null,n,c,e,a);break e;case 11:n=nd(null,n,c,e,a);break e;case 14:n=rd(null,n,c,Tn(c.type,e),a);break e}throw Error(s(306,c,""))}return n;case 0:return c=n.type,f=n.pendingProps,f=n.elementType===c?f:Tn(c,f),Ku(e,n,c,f,a);case 1:return c=n.type,f=n.pendingProps,f=n.elementType===c?f:Tn(c,f),ad(e,n,c,f,a);case 3:e:{if(ld(n),e===null)throw Error(s(387));c=n.pendingProps,g=n.memoizedState,f=g.element,Sh(e,n),al(n,c,null,a);var w=n.memoizedState;if(c=w.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:w.cache,pendingSuspenseBoundaries:w.pendingSuspenseBoundaries,transitions:w.transitions},n.updateQueue.baseState=g,n.memoizedState=g,n.flags&256){f=js(Error(s(423)),n),n=ud(e,n,c,a,f);break e}else if(c!==f){f=js(Error(s(424)),n),n=ud(e,n,c,a,f);break e}else for(rn=$n(n.stateNode.containerInfo.firstChild),nn=n,Xe=!0,En=null,a=xh(n,null,c,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Cs(),c===f){n=fr(e,n,a);break e}zt(e,n,c,a)}n=n.child}return n;case 5:return Eh(n),e===null&&Pu(n),c=n.type,f=n.pendingProps,g=e!==null?e.memoizedProps:null,w=f.children,Ne(c,f)?w=null:g!==null&&Ne(c,g)&&(n.flags|=32),od(e,n),zt(e,n,w,a),n.child;case 6:return e===null&&Pu(n),null;case 13:return cd(e,n,a);case 4:return ju(n,n.stateNode.containerInfo),c=n.pendingProps,e===null?n.child=Os(n,null,c,a):zt(e,n,c,a),n.child;case 11:return c=n.type,f=n.pendingProps,f=n.elementType===c?f:Tn(c,f),nd(e,n,c,f,a);case 7:return zt(e,n,n.pendingProps,a),n.child;case 8:return zt(e,n,n.pendingProps.children,a),n.child;case 12:return zt(e,n,n.pendingProps.children,a),n.child;case 10:e:{if(c=n.type._context,f=n.pendingProps,g=n.memoizedProps,w=f.value,Ge(il,c._currentValue),c._currentValue=w,g!==null)if(en(g.value,w)){if(g.children===f.children&&!$t.current){n=fr(e,n,a);break e}}else for(g=n.child,g!==null&&(g.return=n);g!==null;){var k=g.dependencies;if(k!==null){w=g.child;for(var A=k.firstContext;A!==null;){if(A.context===c){if(g.tag===1){A=dr(-1,a&-a),A.tag=2;var H=g.updateQueue;if(H!==null){H=H.shared;var ne=H.pending;ne===null?A.next=A:(A.next=ne.next,ne.next=A),H.pending=A}}g.lanes|=a,A=g.alternate,A!==null&&(A.lanes|=a),Lu(g.return,a,n),k.lanes|=a;break}A=A.next}}else if(g.tag===10)w=g.type===n.type?null:g.child;else if(g.tag===18){if(w=g.return,w===null)throw Error(s(341));w.lanes|=a,k=w.alternate,k!==null&&(k.lanes|=a),Lu(w,a,n),w=g.sibling}else w=g.child;if(w!==null)w.return=g;else for(w=g;w!==null;){if(w===n){w=null;break}if(g=w.sibling,g!==null){g.return=w.return,w=g;break}w=w.return}g=w}zt(e,n,f.children,a),n=n.child}return n;case 9:return f=n.type,c=n.pendingProps.children,As(n,a),f=mn(f),c=c(f),n.flags|=1,zt(e,n,c,a),n.child;case 14:return c=n.type,f=Tn(c,n.pendingProps),f=Tn(c.type,f),rd(e,n,c,f,a);case 15:return id(e,n,n.type,n.pendingProps,a);case 17:return c=n.type,f=n.pendingProps,f=n.elementType===c?f:Tn(c,f),gl(e,n),n.tag=1,Ht(c)?(e=!0,Ya(n)):e=!1,As(n,a),Kh(n,c,f),Zu(n,c,f,a),Ju(null,n,c,!0,e,a);case 19:return dd(e,n,a);case 22:return sd(e,n,a)}throw Error(s(156,n.tag))};function Md(e,n){return Ea(e,n)}function Vp(e,n,a,c){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _n(e,n,a,c){return new Vp(e,n,a,c)}function gc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Zp(e){if(typeof e=="function")return gc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===He)return 11;if(e===W)return 14}return 2}function ti(e,n){var a=e.alternate;return a===null?(a=_n(e.tag,n,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=n,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&14680064,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,n=e.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a}function Tl(e,n,a,c,f,g){var w=2;if(c=e,typeof e=="function")gc(e)&&(w=1);else if(typeof e=="string")w=5;else e:switch(e){case fe:return zi(a.children,f,g,n);case Ae:w=8,f|=8;break;case xe:return e=_n(12,a,n,f|2),e.elementType=xe,e.lanes=g,e;case dt:return e=_n(13,a,n,f),e.elementType=dt,e.lanes=g,e;case K:return e=_n(19,a,n,f),e.elementType=K,e.lanes=g,e;case q:return Cl(a,f,g,n);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Je:w=10;break e;case Fe:w=9;break e;case He:w=11;break e;case W:w=14;break e;case M:w=16,c=null;break e}throw Error(s(130,e==null?e:typeof e,""))}return n=_n(w,a,n,f),n.elementType=e,n.type=c,n.lanes=g,n}function zi(e,n,a,c){return e=_n(7,e,c,n),e.lanes=a,e}function Cl(e,n,a,c){return e=_n(22,e,c,n),e.elementType=q,e.lanes=a,e.stateNode={isHidden:!1},e}function vc(e,n,a){return e=_n(6,e,null,n),e.lanes=a,e}function _c(e,n,a){return n=_n(4,e.children!==null?e.children:[],e.key,n),n.lanes=a,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function qp(e,n,a,c,f){this.tag=n,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Tr(0),this.expirationTimes=Tr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Tr(0),this.identifierPrefix=c,this.onRecoverableError=f,this.mutableSourceEagerHydrationData=null}function yc(e,n,a,c,f,g,w,k,A){return e=new qp(e,n,a,k,A),n===1?(n=1,g===!0&&(n|=8)):n=0,g=_n(3,null,null,n),e.current=g,g.stateNode=e,g.memoizedState={element:c,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},Nu(g),e}function Gp(e,n,a){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ue,key:c==null?null:""+c,children:e,containerInfo:n,implementation:a}}function zd(e){if(!e)return Zr;e=e._reactInternals;e:{if(Rn(e)!==e||e.tag!==1)throw Error(s(170));var n=e;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(Ht(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(s(171))}if(e.tag===1){var a=e.type;if(Ht(a))return hh(e,a,n)}return n}function Dd(e,n,a,c,f,g,w,k,A){return e=yc(a,c,!0,e,f,g,w,k,A),e.context=zd(null),a=e.current,c=Dt(),f=Xr(a),g=dr(c,f),g.callback=n??null,Kr(a,g,f),e.current.lanes=f,Kt(e,f,c),Zt(e,c),e}function Ol(e,n,a,c){var f=n.current,g=Dt(),w=Xr(f);return a=zd(a),n.context===null?n.context=a:n.pendingContext=a,n=dr(g,w),n.payload={element:e},c=c===void 0?null:c,c!==null&&(n.callback=c),e=Kr(f,n,w),e!==null&&(Ln(e,f,w,g),ol(e,f,w)),w}function Ll(e){return e=e.current,e.child?(e.child.tag===5,e.child.stateNode):null}function Bd(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<n?a:n}}function wc(e,n){Bd(e,n),(e=e.alternate)&&Bd(e,n)}function Kp(){return null}var Ud=typeof reportError=="function"?reportError:function(e){console.error(e)};function xc(e){this._internalRoot=e}Al.prototype.render=xc.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(s(409));Ol(e,n,null,null)},Al.prototype.unmount=xc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Ri(function(){Ol(null,e,null,null)}),n[$e]=null}};function Al(e){this._internalRoot=e}Al.prototype.unstable_scheduleHydration=function(e){if(e){var n=ss();e={blockedOn:null,target:e,priority:n};for(var a=0;a<ft.length&&n!==0&&n<ft[a].priority;a++);ft.splice(a,0,e),a===0&&os(e)}};function bc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Nl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Fd(){}function Jp(e,n,a,c,f){if(f){if(typeof c=="function"){var g=c;c=function(){var H=Ll(w);g.call(H)}}var w=Dd(n,c,e,0,null,!1,!1,"",Fd);return e._reactRootContainer=w,e[$e]=w.current,Fr(e.nodeType===8?e.parentNode:e),Ri(),w}for(;f=e.lastChild;)e.removeChild(f);if(typeof c=="function"){var k=c;c=function(){var H=Ll(A);k.call(H)}}var A=yc(e,0,!1,null,null,!1,!1,"",Fd);return e._reactRootContainer=A,e[$e]=A.current,Fr(e.nodeType===8?e.parentNode:e),Ri(function(){Ol(n,A,a,c)}),A}function jl(e,n,a,c,f){var g=a._reactRootContainer;if(g){var w=g;if(typeof f=="function"){var k=f;f=function(){var A=Ll(w);k.call(A)}}Ol(n,w,e,f)}else w=Jp(a,n,e,f,c);return Ll(w)}rs=function(e){switch(e.tag){case 3:var n=e.stateNode;if(n.current.memoizedState.isDehydrated){var a=Oe(n.pendingLanes);a!==0&&(xn(n,a|1),Zt(n,tt()),(Be&6)===0&&(Ms=tt()+500,qr()))}break;case 13:Ri(function(){var c=hr(e,1);if(c!==null){var f=Dt();Ln(c,e,1,f)}}),wc(e,1)}},Jn=function(e){if(e.tag===13){var n=hr(e,134217728);if(n!==null){var a=Dt();Ln(n,e,134217728,a)}wc(e,134217728)}},is=function(e){if(e.tag===13){var n=Xr(e),a=hr(e,n);if(a!==null){var c=Dt();Ln(a,e,n,c)}wc(e,n)}},ss=function(){return De},mi=function(e,n){var a=De;try{return De=e,n()}finally{De=a}},Ji=function(e,n,a){switch(n){case"input":if(ai(e,a),n=a.name,a.type==="radio"&&n!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<a.length;n++){var c=a[n];if(c!==e&&c.form===e.form){var f=Ss(c);if(!f)throw Error(s(90));yr(c),ai(c,f)}}}break;case"textarea":fa(e,a);break;case"select":n=a.value,n!=null&&jn(e,!!a.multiple,n,!1)}},wa=fc,xa=Ri;var Qp={usingClientEntryPoint:!1,Events:[or,ar,Ss,_a,ya,fc]},Qo={findFiberByHostInstance:sr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Yp={bundleType:Qo.bundleType,version:Qo.version,rendererPackageName:Qo.rendererPackageName,rendererConfig:Qo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:se.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=ka(e),e===null?null:e.stateNode},findFiberByHostInstance:Qo.findFiberByHostInstance||Kp,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Rl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rl.isDisabled&&Rl.supportsFiber)try{fi=Rl.inject(Yp),Gt=Rl}catch{}}return qt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Qp,qt.createPortal=function(e,n){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!bc(n))throw Error(s(200));return Gp(e,n,null,a)},qt.createRoot=function(e,n){if(!bc(e))throw Error(s(299));var a=!1,c="",f=Ud;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(c=n.identifierPrefix),n.onRecoverableError!==void 0&&(f=n.onRecoverableError)),n=yc(e,1,!1,null,null,a,!1,c,f),e[$e]=n.current,Fr(e.nodeType===8?e.parentNode:e),new xc(n)},qt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=ka(n),e=e===null?null:e.stateNode,e},qt.flushSync=function(e){return Ri(e)},qt.hydrate=function(e,n,a){if(!Nl(n))throw Error(s(200));return jl(null,e,n,!0,a)},qt.hydrateRoot=function(e,n,a){if(!bc(e))throw Error(s(405));var c=a!=null&&a.hydratedSources||null,f=!1,g="",w=Ud;if(a!=null&&(a.unstable_strictMode===!0&&(f=!0),a.identifierPrefix!==void 0&&(g=a.identifierPrefix),a.onRecoverableError!==void 0&&(w=a.onRecoverableError)),n=Dd(n,null,e,1,a??null,f,!1,g,w),e[$e]=n.current,Fr(e),c)for(e=0;e<c.length;e++)a=c[e],f=a._getVersion,f=f(a._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[a,f]:n.mutableSourceEagerHydrationData.push(a,f);return new Al(n)},qt.render=function(e,n,a){if(!Nl(n))throw Error(s(200));return jl(null,e,n,!1,a)},qt.unmountComponentAtNode=function(e){if(!Nl(e))throw Error(s(40));return e._reactRootContainer?(Ri(function(){jl(null,null,e,!1,function(){e._reactRootContainer=null,e[$e]=null})}),!0):!1},qt.unstable_batchedUpdates=fc,qt.unstable_renderSubtreeIntoContainer=function(e,n,a,c){if(!Nl(a))throw Error(s(200));if(e==null||e._reactInternals===void 0)throw Error(s(38));return jl(e,n,a,!1,c)},qt.version="18.3.1-next-f1338f8080-20240426",qt}var Kd;function Mf(){if(Kd)return Pc.exports;Kd=1;function o(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o)}catch(r){console.error(r)}}return o(),Pc.exports=am(),Pc.exports}var Jd;function lm(){if(Jd)return Il;Jd=1;var o=Mf();return Il.createRoot=o.createRoot,Il.hydrateRoot=o.hydrateRoot,Il}var um=lm();const cm=ql(um);var hm=Mf();function $l(){return $l=Object.assign?Object.assign.bind():function(o){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var u in s)Object.prototype.hasOwnProperty.call(s,u)&&(o[u]=s[u])}return o},$l.apply(this,arguments)}var Hi;(function(o){o.Pop="POP",o.Push="PUSH",o.Replace="REPLACE"})(Hi||(Hi={}));const Qd="popstate";function dm(o){o===void 0&&(o={});function r(u,h){let{pathname:p,search:m,hash:_}=u.location;return Bc("",{pathname:p,search:m,hash:_},h.state&&h.state.usr||null,h.state&&h.state.key||"default")}function s(u,h){return typeof h=="string"?h:Df(h)}return pm(r,s,null,o)}function zf(o,r){if(o===!1||o===null||typeof o>"u")throw new Error(r)}function fm(){return Math.random().toString(36).substr(2,8)}function Yd(o,r){return{usr:o.state,key:o.key,idx:r}}function Bc(o,r,s,u){return s===void 0&&(s=null),$l({pathname:typeof o=="string"?o:o.pathname,search:"",hash:""},typeof r=="string"?Bf(r):r,{state:s,key:r&&r.key||u||fm()})}function Df(o){let{pathname:r="/",search:s="",hash:u=""}=o;return s&&s!=="?"&&(r+=s.charAt(0)==="?"?s:"?"+s),u&&u!=="#"&&(r+=u.charAt(0)==="#"?u:"#"+u),r}function Bf(o){let r={};if(o){let s=o.indexOf("#");s>=0&&(r.hash=o.substr(s),o=o.substr(0,s));let u=o.indexOf("?");u>=0&&(r.search=o.substr(u),o=o.substr(0,u)),o&&(r.pathname=o)}return r}function pm(o,r,s,u){u===void 0&&(u={});let{window:h=document.defaultView,v5Compat:p=!1}=u,m=h.history,_=Hi.Pop,y=null,S=P();S==null&&(S=0,m.replaceState($l({},m.state,{idx:S}),""));function P(){return(m.state||{idx:null}).idx}function O(){_=Hi.Pop;let D=P(),X=D==null?null:D-S;S=D,y&&y({action:_,location:j.location,delta:X})}function E(D,X){_=Hi.Push;let te=Bc(j.location,D,X);S=P()+1;let J=Yd(te,S),se=j.createHref(te);try{m.pushState(J,"",se)}catch(le){if(le instanceof DOMException&&le.name==="DataCloneError")throw le;h.location.assign(se)}p&&y&&y({action:_,location:j.location,delta:1})}function R(D,X){_=Hi.Replace;let te=Bc(j.location,D,X);S=P();let J=Yd(te,S),se=j.createHref(te);m.replaceState(J,"",se),p&&y&&y({action:_,location:j.location,delta:0})}function U(D){let X=h.location.origin!=="null"?h.location.origin:h.location.href,te=typeof D=="string"?D:Df(D);return te=te.replace(/ $/,"%20"),zf(X,"No window.location.(origin|href) available to create URL for href: "+te),new URL(te,X)}let j={get action(){return _},get location(){return o(h,m)},listen(D){if(y)throw new Error("A history only accepts one active listener");return h.addEventListener(Qd,O),y=D,()=>{h.removeEventListener(Qd,O),y=null}},createHref(D){return r(h,D)},createURL:U,encodeLocation(D){let X=U(D);return{pathname:X.pathname,search:X.search,hash:X.hash}},push:E,replace:R,go(D){return m.go(D)}};return j}var Xd;(function(o){o.data="data",o.deferred="deferred",o.redirect="redirect",o.error="error"})(Xd||(Xd={}));function mm(o,r){if(r==="/")return o;if(!o.toLowerCase().startsWith(r.toLowerCase()))return null;let s=r.endsWith("/")?r.length-1:r.length,u=o.charAt(s);return u&&u!=="/"?null:o.slice(s)||"/"}const Uf=["post","put","patch","delete"];new Set(Uf);const gm=["get",...Uf];new Set(gm);function Uc(){return Uc=Object.assign?Object.assign.bind():function(o){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var u in s)Object.prototype.hasOwnProperty.call(s,u)&&(o[u]=s[u])}return o},Uc.apply(this,arguments)}const vm=G.createContext(null),Ff=G.createContext(null);function _m(){return G.useContext(Ff)!=null}function ym(o,r){o?.v7_startTransition,o?.v7_relativeSplatPath}function wm(o){let{basename:r="/",children:s=null,location:u,navigationType:h=Hi.Pop,navigator:p,static:m=!1,future:_}=o;_m()&&zf(!1);let y=r.replace(/^\/*/,"/"),S=G.useMemo(()=>({basename:y,navigator:p,static:m,future:Uc({v7_relativeSplatPath:!1},_)}),[y,_,p,m]);typeof u=="string"&&(u=Bf(u));let{pathname:P="/",search:O="",hash:E="",state:R=null,key:U="default"}=u,j=G.useMemo(()=>{let D=mm(P,y);return D==null?null:{location:{pathname:D,search:O,hash:E,state:R,key:U},navigationType:h}},[y,P,O,E,R,U,h]);return j==null?null:G.createElement(vm.Provider,{value:S},G.createElement(Ff.Provider,{children:s,value:j}))}new Promise(()=>{});const xm="6";try{window.__reactRouterVersion=xm}catch{}const bm="startTransition",ef=im[bm];function Sm(o){let{basename:r,children:s,future:u,window:h}=o,p=G.useRef();p.current==null&&(p.current=dm({window:h,v5Compat:!0}));let m=p.current,[_,y]=G.useState({action:m.action,location:m.location}),{v7_startTransition:S}=u||{},P=G.useCallback(O=>{S&&ef?ef(()=>y(O)):y(O)},[y,S]);return G.useLayoutEffect(()=>m.listen(P),[m,P]),G.useEffect(()=>ym(u),[u]),G.createElement(wm,{basename:r,children:s,location:_.location,navigationType:_.action,navigator:m,future:u})}var tf;(function(o){o.UseScrollRestoration="useScrollRestoration",o.UseSubmit="useSubmit",o.UseSubmitFetcher="useSubmitFetcher",o.UseFetcher="useFetcher",o.useViewTransitionState="useViewTransitionState"})(tf||(tf={}));var nf;(function(o){o.UseFetcher="useFetcher",o.UseFetchers="useFetchers",o.UseScrollRestoration="useScrollRestoration"})(nf||(nf={}));function Gl(o,r){var s={};for(var u in o)Object.prototype.hasOwnProperty.call(o,u)&&r.indexOf(u)<0&&(s[u]=o[u]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var h=0,u=Object.getOwnPropertySymbols(o);h<u.length;h++)r.indexOf(u[h])<0&&Object.prototype.propertyIsEnumerable.call(o,u[h])&&(s[u[h]]=o[u[h]]);return s}function km(o,r,s,u){function h(p){return p instanceof s?p:new s(function(m){m(p)})}return new(s||(s=Promise))(function(p,m){function _(P){try{S(u.next(P))}catch(O){m(O)}}function y(P){try{S(u.throw(P))}catch(O){m(O)}}function S(P){P.done?p(P.value):h(P.value).then(_,y)}S((u=u.apply(o,r||[])).next())})}const Pm=o=>o?(...r)=>o(...r):(...r)=>fetch(...r);class rh extends Error{constructor(r,s="FunctionsError",u){super(r),this.name=s,this.context=u}}class Em extends rh{constructor(r){super("Failed to send a request to the Edge Function","FunctionsFetchError",r)}}class rf extends rh{constructor(r){super("Relay Error invoking the Edge Function","FunctionsRelayError",r)}}class sf extends rh{constructor(r){super("Edge Function returned a non-2xx status code","FunctionsHttpError",r)}}var Fc;(function(o){o.Any="any",o.ApNortheast1="ap-northeast-1",o.ApNortheast2="ap-northeast-2",o.ApSouth1="ap-south-1",o.ApSoutheast1="ap-southeast-1",o.ApSoutheast2="ap-southeast-2",o.CaCentral1="ca-central-1",o.EuCentral1="eu-central-1",o.EuWest1="eu-west-1",o.EuWest2="eu-west-2",o.EuWest3="eu-west-3",o.SaEast1="sa-east-1",o.UsEast1="us-east-1",o.UsWest1="us-west-1",o.UsWest2="us-west-2"})(Fc||(Fc={}));class Tm{constructor(r,{headers:s={},customFetch:u,region:h=Fc.Any}={}){this.url=r,this.headers=s,this.region=h,this.fetch=Pm(u)}setAuth(r){this.headers.Authorization=`Bearer ${r}`}invoke(r){return km(this,arguments,void 0,function*(s,u={}){var h;let p,m;try{const{headers:_,method:y,body:S,signal:P,timeout:O}=u;let E={},{region:R}=u;R||(R=this.region);const U=new URL(`${this.url}/${s}`);R&&R!=="any"&&(E["x-region"]=R,U.searchParams.set("forceFunctionRegion",R));let j;S&&(_&&!Object.prototype.hasOwnProperty.call(_,"Content-Type")||!_)?typeof Blob<"u"&&S instanceof Blob||S instanceof ArrayBuffer?(E["Content-Type"]="application/octet-stream",j=S):typeof S=="string"?(E["Content-Type"]="text/plain",j=S):typeof FormData<"u"&&S instanceof FormData?j=S:(E["Content-Type"]="application/json",j=JSON.stringify(S)):S&&typeof S!="string"&&!(typeof Blob<"u"&&S instanceof Blob)&&!(S instanceof ArrayBuffer)&&!(typeof FormData<"u"&&S instanceof FormData)?j=JSON.stringify(S):j=S;let D=P;O&&(m=new AbortController,p=setTimeout(()=>m.abort(),O),P?(D=m.signal,P.addEventListener("abort",()=>m.abort())):D=m.signal);const X=yield this.fetch(U.toString(),{method:y||"POST",headers:Object.assign(Object.assign(Object.assign({},E),this.headers),_),body:j,signal:D}).catch(le=>{throw new Em(le)}),te=X.headers.get("x-relay-error");if(te&&te==="true")throw new rf(X);if(!X.ok)throw new sf(X);let J=((h=X.headers.get("Content-Type"))!==null&&h!==void 0?h:"text/plain").split(";")[0].trim(),se;return J==="application/json"?se=yield X.json():J==="application/octet-stream"||J==="application/pdf"?se=yield X.blob():J==="text/event-stream"?se=X:J==="multipart/form-data"?se=yield X.formData():se=yield X.text(),{data:se,error:null,response:X}}catch(_){return{data:null,error:_,response:_ instanceof sf||_ instanceof rf?_.context:void 0}}finally{p&&clearTimeout(p)}})}}var Cm=class extends Error{constructor(o){super(o.message),this.name="PostgrestError",this.details=o.details,this.hint=o.hint,this.code=o.code}},Om=class{constructor(o){var r,s;this.shouldThrowOnError=!1,this.method=o.method,this.url=o.url,this.headers=new Headers(o.headers),this.schema=o.schema,this.body=o.body,this.shouldThrowOnError=(r=o.shouldThrowOnError)!==null&&r!==void 0?r:!1,this.signal=o.signal,this.isMaybeSingle=(s=o.isMaybeSingle)!==null&&s!==void 0?s:!1,o.fetch?this.fetch=o.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(o,r){return this.headers=new Headers(this.headers),this.headers.set(o,r),this}then(o,r){var s=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const u=this.fetch;let h=u(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async p=>{let m=null,_=null,y=null,S=p.status,P=p.statusText;if(p.ok){var O,E;if(s.method!=="HEAD"){var R;const X=await p.text();X===""||(s.headers.get("Accept")==="text/csv"||s.headers.get("Accept")&&(!((R=s.headers.get("Accept"))===null||R===void 0)&&R.includes("application/vnd.pgrst.plan+text"))?_=X:_=JSON.parse(X))}const j=(O=s.headers.get("Prefer"))===null||O===void 0?void 0:O.match(/count=(exact|planned|estimated)/),D=(E=p.headers.get("content-range"))===null||E===void 0?void 0:E.split("/");j&&D&&D.length>1&&(y=parseInt(D[1])),s.isMaybeSingle&&s.method==="GET"&&Array.isArray(_)&&(_.length>1?(m={code:"PGRST116",details:`Results contain ${_.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},_=null,y=null,S=406,P="Not Acceptable"):_.length===1?_=_[0]:_=null)}else{var U;const j=await p.text();try{m=JSON.parse(j),Array.isArray(m)&&p.status===404&&(_=[],m=null,S=200,P="OK")}catch{p.status===404&&j===""?(S=204,P="No Content"):m={message:j}}if(m&&s.isMaybeSingle&&(!(m==null||(U=m.details)===null||U===void 0)&&U.includes("0 rows"))&&(m=null,S=200,P="OK"),m&&s.shouldThrowOnError)throw new Cm(m)}return{error:m,data:_,count:y,status:S,statusText:P}});return this.shouldThrowOnError||(h=h.catch(p=>{var m;let _="";const y=p?.cause;if(y){var S,P,O,E;const U=(S=y?.message)!==null&&S!==void 0?S:"",j=(P=y?.code)!==null&&P!==void 0?P:"";_=`${(O=p?.name)!==null&&O!==void 0?O:"FetchError"}: ${p?.message}`,_+=`

Caused by: ${(E=y?.name)!==null&&E!==void 0?E:"Error"}: ${U}`,j&&(_+=` (${j})`),y?.stack&&(_+=`
${y.stack}`)}else{var R;_=(R=p?.stack)!==null&&R!==void 0?R:""}return{error:{message:`${(m=p?.name)!==null&&m!==void 0?m:"FetchError"}: ${p?.message}`,details:_,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),h.then(o,r)}returns(){return this}overrideTypes(){return this}},Lm=class extends Om{select(o){let r=!1;const s=(o??"*").split("").map(u=>/\s/.test(u)&&!r?"":(u==='"'&&(r=!r),u)).join("");return this.url.searchParams.set("select",s),this.headers.append("Prefer","return=representation"),this}order(o,{ascending:r=!0,nullsFirst:s,foreignTable:u,referencedTable:h=u}={}){const p=h?`${h}.order`:"order",m=this.url.searchParams.get(p);return this.url.searchParams.set(p,`${m?`${m},`:""}${o}.${r?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(o,{foreignTable:r,referencedTable:s=r}={}){const u=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(u,`${o}`),this}range(o,r,{foreignTable:s,referencedTable:u=s}={}){const h=typeof u>"u"?"offset":`${u}.offset`,p=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(h,`${o}`),this.url.searchParams.set(p,`${r-o+1}`),this}abortSignal(o){return this.signal=o,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:o=!1,verbose:r=!1,settings:s=!1,buffers:u=!1,wal:h=!1,format:p="text"}={}){var m;const _=[o?"analyze":null,r?"verbose":null,s?"settings":null,u?"buffers":null,h?"wal":null].filter(Boolean).join("|"),y=(m=this.headers.get("Accept"))!==null&&m!==void 0?m:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${p}; for="${y}"; options=${_};`),p==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(o){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${o}`),this}};const of=new RegExp("[,()]");var Vs=class extends Lm{eq(o,r){return this.url.searchParams.append(o,`eq.${r}`),this}neq(o,r){return this.url.searchParams.append(o,`neq.${r}`),this}gt(o,r){return this.url.searchParams.append(o,`gt.${r}`),this}gte(o,r){return this.url.searchParams.append(o,`gte.${r}`),this}lt(o,r){return this.url.searchParams.append(o,`lt.${r}`),this}lte(o,r){return this.url.searchParams.append(o,`lte.${r}`),this}like(o,r){return this.url.searchParams.append(o,`like.${r}`),this}likeAllOf(o,r){return this.url.searchParams.append(o,`like(all).{${r.join(",")}}`),this}likeAnyOf(o,r){return this.url.searchParams.append(o,`like(any).{${r.join(",")}}`),this}ilike(o,r){return this.url.searchParams.append(o,`ilike.${r}`),this}ilikeAllOf(o,r){return this.url.searchParams.append(o,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(o,r){return this.url.searchParams.append(o,`ilike(any).{${r.join(",")}}`),this}regexMatch(o,r){return this.url.searchParams.append(o,`match.${r}`),this}regexIMatch(o,r){return this.url.searchParams.append(o,`imatch.${r}`),this}is(o,r){return this.url.searchParams.append(o,`is.${r}`),this}isDistinct(o,r){return this.url.searchParams.append(o,`isdistinct.${r}`),this}in(o,r){const s=Array.from(new Set(r)).map(u=>typeof u=="string"&&of.test(u)?`"${u}"`:`${u}`).join(",");return this.url.searchParams.append(o,`in.(${s})`),this}notIn(o,r){const s=Array.from(new Set(r)).map(u=>typeof u=="string"&&of.test(u)?`"${u}"`:`${u}`).join(",");return this.url.searchParams.append(o,`not.in.(${s})`),this}contains(o,r){return typeof r=="string"?this.url.searchParams.append(o,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(o,`cs.{${r.join(",")}}`):this.url.searchParams.append(o,`cs.${JSON.stringify(r)}`),this}containedBy(o,r){return typeof r=="string"?this.url.searchParams.append(o,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(o,`cd.{${r.join(",")}}`):this.url.searchParams.append(o,`cd.${JSON.stringify(r)}`),this}rangeGt(o,r){return this.url.searchParams.append(o,`sr.${r}`),this}rangeGte(o,r){return this.url.searchParams.append(o,`nxl.${r}`),this}rangeLt(o,r){return this.url.searchParams.append(o,`sl.${r}`),this}rangeLte(o,r){return this.url.searchParams.append(o,`nxr.${r}`),this}rangeAdjacent(o,r){return this.url.searchParams.append(o,`adj.${r}`),this}overlaps(o,r){return typeof r=="string"?this.url.searchParams.append(o,`ov.${r}`):this.url.searchParams.append(o,`ov.{${r.join(",")}}`),this}textSearch(o,r,{config:s,type:u}={}){let h="";u==="plain"?h="pl":u==="phrase"?h="ph":u==="websearch"&&(h="w");const p=s===void 0?"":`(${s})`;return this.url.searchParams.append(o,`${h}fts${p}.${r}`),this}match(o){return Object.entries(o).forEach(([r,s])=>{this.url.searchParams.append(r,`eq.${s}`)}),this}not(o,r,s){return this.url.searchParams.append(o,`not.${r}.${s}`),this}or(o,{foreignTable:r,referencedTable:s=r}={}){const u=s?`${s}.or`:"or";return this.url.searchParams.append(u,`(${o})`),this}filter(o,r,s){return this.url.searchParams.append(o,`${r}.${s}`),this}},Am=class{constructor(o,{headers:r={},schema:s,fetch:u}){this.url=o,this.headers=new Headers(r),this.schema=s,this.fetch=u}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(o,r){const{head:s=!1,count:u}=r??{},h=s?"HEAD":"GET";let p=!1;const m=(o??"*").split("").map(S=>/\s/.test(S)&&!p?"":(S==='"'&&(p=!p),S)).join(""),{url:_,headers:y}=this.cloneRequestState();return _.searchParams.set("select",m),u&&y.append("Prefer",`count=${u}`),new Vs({method:h,url:_,headers:y,schema:this.schema,fetch:this.fetch})}insert(o,{count:r,defaultToNull:s=!0}={}){var u;const h="POST",{url:p,headers:m}=this.cloneRequestState();if(r&&m.append("Prefer",`count=${r}`),s||m.append("Prefer","missing=default"),Array.isArray(o)){const _=o.reduce((y,S)=>y.concat(Object.keys(S)),[]);if(_.length>0){const y=[...new Set(_)].map(S=>`"${S}"`);p.searchParams.set("columns",y.join(","))}}return new Vs({method:h,url:p,headers:m,schema:this.schema,body:o,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}upsert(o,{onConflict:r,ignoreDuplicates:s=!1,count:u,defaultToNull:h=!0}={}){var p;const m="POST",{url:_,headers:y}=this.cloneRequestState();if(y.append("Prefer",`resolution=${s?"ignore":"merge"}-duplicates`),r!==void 0&&_.searchParams.set("on_conflict",r),u&&y.append("Prefer",`count=${u}`),h||y.append("Prefer","missing=default"),Array.isArray(o)){const S=o.reduce((P,O)=>P.concat(Object.keys(O)),[]);if(S.length>0){const P=[...new Set(S)].map(O=>`"${O}"`);_.searchParams.set("columns",P.join(","))}}return new Vs({method:m,url:_,headers:y,schema:this.schema,body:o,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}update(o,{count:r}={}){var s;const u="PATCH",{url:h,headers:p}=this.cloneRequestState();return r&&p.append("Prefer",`count=${r}`),new Vs({method:u,url:h,headers:p,schema:this.schema,body:o,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}delete({count:o}={}){var r;const s="DELETE",{url:u,headers:h}=this.cloneRequestState();return o&&h.append("Prefer",`count=${o}`),new Vs({method:s,url:u,headers:h,schema:this.schema,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}},Nm=class $f{constructor(r,{headers:s={},schema:u,fetch:h}={}){this.url=r,this.headers=new Headers(s),this.schemaName=u,this.fetch=h}from(r){if(!r||typeof r!="string"||r.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new Am(new URL(`${this.url}/${r}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(r){return new $f(this.url,{headers:this.headers,schema:r,fetch:this.fetch})}rpc(r,s={},{head:u=!1,get:h=!1,count:p}={}){var m;let _;const y=new URL(`${this.url}/rpc/${r}`);let S;const P=R=>R!==null&&typeof R=="object"&&(!Array.isArray(R)||R.some(P)),O=u&&Object.values(s).some(P);O?(_="POST",S=s):u||h?(_=u?"HEAD":"GET",Object.entries(s).filter(([R,U])=>U!==void 0).map(([R,U])=>[R,Array.isArray(U)?`{${U.join(",")}}`:`${U}`]).forEach(([R,U])=>{y.searchParams.append(R,U)})):(_="POST",S=s);const E=new Headers(this.headers);return O?E.set("Prefer",p?`count=${p},return=minimal`:"return=minimal"):p&&E.set("Prefer",`count=${p}`),new Vs({method:_,url:y,headers:E,schema:this.schemaName,body:S,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}};class jm{constructor(){}static detectEnvironment(){var r;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((r=navigator.userAgent)===null||r===void 0)&&r.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const s=globalThis.process;if(s){const u=s.versions;if(u&&u.node){const h=u.node,p=parseInt(h.replace(/^v/,"").split(".")[0]);return p>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${p} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${p} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const r=this.detectEnvironment();if(r.constructor)return r.constructor;let s=r.error||"WebSocket not supported in this environment.";throw r.workaround&&(s+=`

Suggested solution: ${r.workaround}`),new Error(s)}static createWebSocket(r,s){const u=this.getWebSocketConstructor();return new u(r,s)}static isWebSocketSupported(){try{const r=this.detectEnvironment();return r.type==="native"||r.type==="ws"}catch{return!1}}}const Rm="2.93.1",Im=`realtime-js/${Rm}`,Mm="1.0.0",Hf="2.0.0",af=Hf,$c=1e4,zm=1e3,Dm=100;var ri;(function(o){o[o.connecting=0]="connecting",o[o.open=1]="open",o[o.closing=2]="closing",o[o.closed=3]="closed"})(ri||(ri={}));var vt;(function(o){o.closed="closed",o.errored="errored",o.joined="joined",o.joining="joining",o.leaving="leaving"})(vt||(vt={}));var Nn;(function(o){o.close="phx_close",o.error="phx_error",o.join="phx_join",o.reply="phx_reply",o.leave="phx_leave",o.access_token="access_token"})(Nn||(Nn={}));var Hc;(function(o){o.websocket="websocket"})(Hc||(Hc={}));var Fi;(function(o){o.Connecting="connecting",o.Open="open",o.Closing="closing",o.Closed="closed"})(Fi||(Fi={}));class Bm{constructor(r){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=r??[]}encode(r,s){if(r.event===this.BROADCAST_EVENT&&!(r.payload instanceof ArrayBuffer)&&typeof r.payload.event=="string")return s(this._binaryEncodeUserBroadcastPush(r));let u=[r.join_ref,r.ref,r.topic,r.event,r.payload];return s(JSON.stringify(u))}_binaryEncodeUserBroadcastPush(r){var s;return this._isArrayBuffer((s=r.payload)===null||s===void 0?void 0:s.payload)?this._encodeBinaryUserBroadcastPush(r):this._encodeJsonUserBroadcastPush(r)}_encodeBinaryUserBroadcastPush(r){var s,u;const h=(u=(s=r.payload)===null||s===void 0?void 0:s.payload)!==null&&u!==void 0?u:new ArrayBuffer(0);return this._encodeUserBroadcastPush(r,this.BINARY_ENCODING,h)}_encodeJsonUserBroadcastPush(r){var s,u;const h=(u=(s=r.payload)===null||s===void 0?void 0:s.payload)!==null&&u!==void 0?u:{},m=new TextEncoder().encode(JSON.stringify(h)).buffer;return this._encodeUserBroadcastPush(r,this.JSON_ENCODING,m)}_encodeUserBroadcastPush(r,s,u){var h,p;const m=r.topic,_=(h=r.ref)!==null&&h!==void 0?h:"",y=(p=r.join_ref)!==null&&p!==void 0?p:"",S=r.payload.event,P=this.allowedMetadataKeys?this._pick(r.payload,this.allowedMetadataKeys):{},O=Object.keys(P).length===0?"":JSON.stringify(P);if(y.length>255)throw new Error(`joinRef length ${y.length} exceeds maximum of 255`);if(_.length>255)throw new Error(`ref length ${_.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`topic length ${m.length} exceeds maximum of 255`);if(S.length>255)throw new Error(`userEvent length ${S.length} exceeds maximum of 255`);if(O.length>255)throw new Error(`metadata length ${O.length} exceeds maximum of 255`);const E=this.USER_BROADCAST_PUSH_META_LENGTH+y.length+_.length+m.length+S.length+O.length,R=new ArrayBuffer(this.HEADER_LENGTH+E);let U=new DataView(R),j=0;U.setUint8(j++,this.KINDS.userBroadcastPush),U.setUint8(j++,y.length),U.setUint8(j++,_.length),U.setUint8(j++,m.length),U.setUint8(j++,S.length),U.setUint8(j++,O.length),U.setUint8(j++,s),Array.from(y,X=>U.setUint8(j++,X.charCodeAt(0))),Array.from(_,X=>U.setUint8(j++,X.charCodeAt(0))),Array.from(m,X=>U.setUint8(j++,X.charCodeAt(0))),Array.from(S,X=>U.setUint8(j++,X.charCodeAt(0))),Array.from(O,X=>U.setUint8(j++,X.charCodeAt(0)));var D=new Uint8Array(R.byteLength+u.byteLength);return D.set(new Uint8Array(R),0),D.set(new Uint8Array(u),R.byteLength),D.buffer}decode(r,s){if(this._isArrayBuffer(r)){let u=this._binaryDecode(r);return s(u)}if(typeof r=="string"){const u=JSON.parse(r),[h,p,m,_,y]=u;return s({join_ref:h,ref:p,topic:m,event:_,payload:y})}return s({})}_binaryDecode(r){const s=new DataView(r),u=s.getUint8(0),h=new TextDecoder;if(u===this.KINDS.userBroadcast)return this._decodeUserBroadcast(r,s,h)}_decodeUserBroadcast(r,s,u){const h=s.getUint8(1),p=s.getUint8(2),m=s.getUint8(3),_=s.getUint8(4);let y=this.HEADER_LENGTH+4;const S=u.decode(r.slice(y,y+h));y=y+h;const P=u.decode(r.slice(y,y+p));y=y+p;const O=u.decode(r.slice(y,y+m));y=y+m;const E=r.slice(y,r.byteLength),R=_===this.JSON_ENCODING?JSON.parse(u.decode(E)):E,U={type:this.BROADCAST_EVENT,event:P,payload:R};return m>0&&(U.meta=JSON.parse(O)),{join_ref:null,ref:null,topic:S,event:this.BROADCAST_EVENT,payload:U}}_isArrayBuffer(r){var s;return r instanceof ArrayBuffer||((s=r?.constructor)===null||s===void 0?void 0:s.name)==="ArrayBuffer"}_pick(r,s){return!r||typeof r!="object"?{}:Object.fromEntries(Object.entries(r).filter(([u])=>s.includes(u)))}}class Wf{constructor(r,s){this.callback=r,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=r,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ke;(function(o){o.abstime="abstime",o.bool="bool",o.date="date",o.daterange="daterange",o.float4="float4",o.float8="float8",o.int2="int2",o.int4="int4",o.int4range="int4range",o.int8="int8",o.int8range="int8range",o.json="json",o.jsonb="jsonb",o.money="money",o.numeric="numeric",o.oid="oid",o.reltime="reltime",o.text="text",o.time="time",o.timestamp="timestamp",o.timestamptz="timestamptz",o.timetz="timetz",o.tsrange="tsrange",o.tstzrange="tstzrange"})(Ke||(Ke={}));const lf=(o,r,s={})=>{var u;const h=(u=s.skipTypes)!==null&&u!==void 0?u:[];return r?Object.keys(r).reduce((p,m)=>(p[m]=Um(m,o,r,h),p),{}):{}},Um=(o,r,s,u)=>{const h=r.find(_=>_.name===o),p=h?.type,m=s[o];return p&&!u.includes(p)?Vf(p,m):Wc(m)},Vf=(o,r)=>{if(o.charAt(0)==="_"){const s=o.slice(1,o.length);return Wm(r,s)}switch(o){case Ke.bool:return Fm(r);case Ke.float4:case Ke.float8:case Ke.int2:case Ke.int4:case Ke.int8:case Ke.numeric:case Ke.oid:return $m(r);case Ke.json:case Ke.jsonb:return Hm(r);case Ke.timestamp:return Vm(r);case Ke.abstime:case Ke.date:case Ke.daterange:case Ke.int4range:case Ke.int8range:case Ke.money:case Ke.reltime:case Ke.text:case Ke.time:case Ke.timestamptz:case Ke.timetz:case Ke.tsrange:case Ke.tstzrange:return Wc(r);default:return Wc(r)}},Wc=o=>o,Fm=o=>{switch(o){case"t":return!0;case"f":return!1;default:return o}},$m=o=>{if(typeof o=="string"){const r=parseFloat(o);if(!Number.isNaN(r))return r}return o},Hm=o=>{if(typeof o=="string")try{return JSON.parse(o)}catch{return o}return o},Wm=(o,r)=>{if(typeof o!="string")return o;const s=o.length-1,u=o[s];if(o[0]==="{"&&u==="}"){let p;const m=o.slice(1,s);try{p=JSON.parse("["+m+"]")}catch{p=m?m.split(","):[]}return p.map(_=>Vf(r,_))}return o},Vm=o=>typeof o=="string"?o.replace(" ","T"):o,Zf=o=>{const r=new URL(o);return r.protocol=r.protocol.replace(/^ws/i,"http"),r.pathname=r.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),r.pathname===""||r.pathname==="/"?r.pathname="/api/broadcast":r.pathname=r.pathname+"/api/broadcast",r.href};class Cc{constructor(r,s,u={},h=$c){this.channel=r,this.event=s,this.payload=u,this.timeout=h,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(r){this.timeout=r,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(r){this.payload=Object.assign(Object.assign({},this.payload),r)}receive(r,s){var u;return this._hasReceived(r)&&s((u=this.receivedResp)===null||u===void 0?void 0:u.response),this.recHooks.push({status:r,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const r=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},r),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(r,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:r,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:r,response:s}){this.recHooks.filter(u=>u.status===r).forEach(u=>u.callback(s))}_hasReceived(r){return this.receivedResp&&this.receivedResp.status===r}}var uf;(function(o){o.SYNC="sync",o.JOIN="join",o.LEAVE="leave"})(uf||(uf={}));class na{constructor(r,s){this.channel=r,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const u=s?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(u.state,{},h=>{const{onJoin:p,onLeave:m,onSync:_}=this.caller;this.joinRef=this.channel._joinRef(),this.state=na.syncState(this.state,h,p,m),this.pendingDiffs.forEach(y=>{this.state=na.syncDiff(this.state,y,p,m)}),this.pendingDiffs=[],_()}),this.channel._on(u.diff,{},h=>{const{onJoin:p,onLeave:m,onSync:_}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(h):(this.state=na.syncDiff(this.state,h,p,m),_())}),this.onJoin((h,p,m)=>{this.channel._trigger("presence",{event:"join",key:h,currentPresences:p,newPresences:m})}),this.onLeave((h,p,m)=>{this.channel._trigger("presence",{event:"leave",key:h,currentPresences:p,leftPresences:m})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(r,s,u,h){const p=this.cloneDeep(r),m=this.transformState(s),_={},y={};return this.map(p,(S,P)=>{m[S]||(y[S]=P)}),this.map(m,(S,P)=>{const O=p[S];if(O){const E=P.map(D=>D.presence_ref),R=O.map(D=>D.presence_ref),U=P.filter(D=>R.indexOf(D.presence_ref)<0),j=O.filter(D=>E.indexOf(D.presence_ref)<0);U.length>0&&(_[S]=U),j.length>0&&(y[S]=j)}else _[S]=P}),this.syncDiff(p,{joins:_,leaves:y},u,h)}static syncDiff(r,s,u,h){const{joins:p,leaves:m}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return u||(u=()=>{}),h||(h=()=>{}),this.map(p,(_,y)=>{var S;const P=(S=r[_])!==null&&S!==void 0?S:[];if(r[_]=this.cloneDeep(y),P.length>0){const O=r[_].map(R=>R.presence_ref),E=P.filter(R=>O.indexOf(R.presence_ref)<0);r[_].unshift(...E)}u(_,P,y)}),this.map(m,(_,y)=>{let S=r[_];if(!S)return;const P=y.map(O=>O.presence_ref);S=S.filter(O=>P.indexOf(O.presence_ref)<0),r[_]=S,h(_,S,y),S.length===0&&delete r[_]}),r}static map(r,s){return Object.getOwnPropertyNames(r).map(u=>s(u,r[u]))}static transformState(r){return r=this.cloneDeep(r),Object.getOwnPropertyNames(r).reduce((s,u)=>{const h=r[u];return"metas"in h?s[u]=h.metas.map(p=>(p.presence_ref=p.phx_ref,delete p.phx_ref,delete p.phx_ref_prev,p)):s[u]=h,s},{})}static cloneDeep(r){return JSON.parse(JSON.stringify(r))}onJoin(r){this.caller.onJoin=r}onLeave(r){this.caller.onLeave=r}onSync(r){this.caller.onSync=r}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var cf;(function(o){o.ALL="*",o.INSERT="INSERT",o.UPDATE="UPDATE",o.DELETE="DELETE"})(cf||(cf={}));var ra;(function(o){o.BROADCAST="broadcast",o.PRESENCE="presence",o.POSTGRES_CHANGES="postgres_changes",o.SYSTEM="system"})(ra||(ra={}));var mr;(function(o){o.SUBSCRIBED="SUBSCRIBED",o.TIMED_OUT="TIMED_OUT",o.CLOSED="CLOSED",o.CHANNEL_ERROR="CHANNEL_ERROR"})(mr||(mr={}));class Gs{constructor(r,s={config:{}},u){var h,p;if(this.topic=r,this.params=s,this.socket=u,this.bindings={},this.state=vt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=r.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new Cc(this,Nn.join,this.params,this.timeout),this.rejoinTimer=new Wf(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=vt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(m=>m.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=vt.closed,this.socket._remove(this)}),this._onError(m=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,m),this.state=vt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=vt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",m=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,m),this.state=vt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Nn.reply,{},(m,_)=>{this._trigger(this._replyEventName(_),m)}),this.presence=new na(this),this.broadcastEndpointURL=Zf(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((p=(h=this.params.config)===null||h===void 0?void 0:h.broadcast)===null||p===void 0)&&p.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(r,s=this.timeout){var u,h,p;if(this.socket.isConnected()||this.socket.connect(),this.state==vt.closed){const{config:{broadcast:m,presence:_,private:y}}=this.params,S=(h=(u=this.bindings.postgres_changes)===null||u===void 0?void 0:u.map(R=>R.filter))!==null&&h!==void 0?h:[],P=!!this.bindings[ra.PRESENCE]&&this.bindings[ra.PRESENCE].length>0||((p=this.params.config.presence)===null||p===void 0?void 0:p.enabled)===!0,O={},E={broadcast:m,presence:Object.assign(Object.assign({},_),{enabled:P}),postgres_changes:S,private:y};this.socket.accessTokenValue&&(O.access_token=this.socket.accessTokenValue),this._onError(R=>r?.(mr.CHANNEL_ERROR,R)),this._onClose(()=>r?.(mr.CLOSED)),this.updateJoinPayload(Object.assign({config:E},O)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:R})=>{var U;if(this.socket._isManualToken()||this.socket.setAuth(),R===void 0){r?.(mr.SUBSCRIBED);return}else{const j=this.bindings.postgres_changes,D=(U=j?.length)!==null&&U!==void 0?U:0,X=[];for(let te=0;te<D;te++){const J=j[te],{filter:{event:se,schema:le,table:ue,filter:fe}}=J,Ae=R&&R[te];if(Ae&&Ae.event===se&&Gs.isFilterValueEqual(Ae.schema,le)&&Gs.isFilterValueEqual(Ae.table,ue)&&Gs.isFilterValueEqual(Ae.filter,fe))X.push(Object.assign(Object.assign({},J),{id:Ae.id}));else{this.unsubscribe(),this.state=vt.errored,r?.(mr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=X,r&&r(mr.SUBSCRIBED);return}}).receive("error",R=>{this.state=vt.errored,r?.(mr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(R).join(", ")||"error")))}).receive("timeout",()=>{r?.(mr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(r,s={}){return await this.send({type:"presence",event:"track",payload:r},s.timeout||this.timeout)}async untrack(r={}){return await this.send({type:"presence",event:"untrack"},r)}on(r,s,u){return this.state===vt.joined&&r===ra.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(r,s,u)}async httpSend(r,s,u={}){var h;if(s==null)return Promise.reject("Payload is required for httpSend()");const p={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(p.Authorization=`Bearer ${this.socket.accessTokenValue}`);const m={method:"POST",headers:p,body:JSON.stringify({messages:[{topic:this.subTopic,event:r,payload:s,private:this.private}]})},_=await this._fetchWithTimeout(this.broadcastEndpointURL,m,(h=u.timeout)!==null&&h!==void 0?h:this.timeout);if(_.status===202)return{success:!0};let y=_.statusText;try{const S=await _.json();y=S.error||S.message||y}catch{}return Promise.reject(new Error(y))}async send(r,s={}){var u,h;if(!this._canPush()&&r.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:p,payload:m}=r,_={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(_.Authorization=`Bearer ${this.socket.accessTokenValue}`);const y={method:"POST",headers:_,body:JSON.stringify({messages:[{topic:this.subTopic,event:p,payload:m,private:this.private}]})};try{const S=await this._fetchWithTimeout(this.broadcastEndpointURL,y,(u=s.timeout)!==null&&u!==void 0?u:this.timeout);return await((h=S.body)===null||h===void 0?void 0:h.cancel()),S.ok?"ok":"error"}catch(S){return S.name==="AbortError"?"timed out":"error"}}else return new Promise(p=>{var m,_,y;const S=this._push(r.type,r,s.timeout||this.timeout);r.type==="broadcast"&&!(!((y=(_=(m=this.params)===null||m===void 0?void 0:m.config)===null||_===void 0?void 0:_.broadcast)===null||y===void 0)&&y.ack)&&p("ok"),S.receive("ok",()=>p("ok")),S.receive("error",()=>p("error")),S.receive("timeout",()=>p("timed out"))})}updateJoinPayload(r){this.joinPush.updatePayload(r)}unsubscribe(r=this.timeout){this.state=vt.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Nn.close,"leave",this._joinRef())};this.joinPush.destroy();let u=null;return new Promise(h=>{u=new Cc(this,Nn.leave,{},r),u.receive("ok",()=>{s(),h("ok")}).receive("timeout",()=>{s(),h("timed out")}).receive("error",()=>{h("error")}),u.send(),this._canPush()||u.trigger("ok",{})}).finally(()=>{u?.destroy()})}teardown(){this.pushBuffer.forEach(r=>r.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=vt.closed,this.bindings={}}async _fetchWithTimeout(r,s,u){const h=new AbortController,p=setTimeout(()=>h.abort(),u),m=await this.socket.fetch(r,Object.assign(Object.assign({},s),{signal:h.signal}));return clearTimeout(p),m}_push(r,s,u=this.timeout){if(!this.joinedOnce)throw`tried to push '${r}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let h=new Cc(this,r,s,u);return this._canPush()?h.send():this._addToPushBuffer(h),h}_addToPushBuffer(r){if(r.startTimeout(),this.pushBuffer.push(r),this.pushBuffer.length>Dm){const s=this.pushBuffer.shift();s&&(s.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${s.event}`,s.payload))}}_onMessage(r,s,u){return s}_isMember(r){return this.topic===r}_joinRef(){return this.joinPush.ref}_trigger(r,s,u){var h,p;const m=r.toLocaleLowerCase(),{close:_,error:y,leave:S,join:P}=Nn;if(u&&[_,y,S,P].indexOf(m)>=0&&u!==this._joinRef())return;let E=this._onMessage(m,s,u);if(s&&!E)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(m)?(h=this.bindings.postgres_changes)===null||h===void 0||h.filter(R=>{var U,j,D;return((U=R.filter)===null||U===void 0?void 0:U.event)==="*"||((D=(j=R.filter)===null||j===void 0?void 0:j.event)===null||D===void 0?void 0:D.toLocaleLowerCase())===m}).map(R=>R.callback(E,u)):(p=this.bindings[m])===null||p===void 0||p.filter(R=>{var U,j,D,X,te,J;if(["broadcast","presence","postgres_changes"].includes(m))if("id"in R){const se=R.id,le=(U=R.filter)===null||U===void 0?void 0:U.event;return se&&((j=s.ids)===null||j===void 0?void 0:j.includes(se))&&(le==="*"||le?.toLocaleLowerCase()===((D=s.data)===null||D===void 0?void 0:D.type.toLocaleLowerCase()))}else{const se=(te=(X=R?.filter)===null||X===void 0?void 0:X.event)===null||te===void 0?void 0:te.toLocaleLowerCase();return se==="*"||se===((J=s?.event)===null||J===void 0?void 0:J.toLocaleLowerCase())}else return R.type.toLocaleLowerCase()===m}).map(R=>{if(typeof E=="object"&&"ids"in E){const U=E.data,{schema:j,table:D,commit_timestamp:X,type:te,errors:J}=U;E=Object.assign(Object.assign({},{schema:j,table:D,commit_timestamp:X,eventType:te,new:{},old:{},errors:J}),this._getPayloadRecords(U))}R.callback(E,u)})}_isClosed(){return this.state===vt.closed}_isJoined(){return this.state===vt.joined}_isJoining(){return this.state===vt.joining}_isLeaving(){return this.state===vt.leaving}_replyEventName(r){return`chan_reply_${r}`}_on(r,s,u){const h=r.toLocaleLowerCase(),p={type:h,filter:s,callback:u};return this.bindings[h]?this.bindings[h].push(p):this.bindings[h]=[p],this}_off(r,s){const u=r.toLocaleLowerCase();return this.bindings[u]&&(this.bindings[u]=this.bindings[u].filter(h=>{var p;return!(((p=h.type)===null||p===void 0?void 0:p.toLocaleLowerCase())===u&&Gs.isEqual(h.filter,s))})),this}static isEqual(r,s){if(Object.keys(r).length!==Object.keys(s).length)return!1;for(const u in r)if(r[u]!==s[u])return!1;return!0}static isFilterValueEqual(r,s){return(r??void 0)===(s??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(r){this._on(Nn.close,{},r)}_onError(r){this._on(Nn.error,{},s=>r(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(r=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=vt.joining,this.joinPush.resend(r))}_getPayloadRecords(r){const s={new:{},old:{}};return(r.type==="INSERT"||r.type==="UPDATE")&&(s.new=lf(r.columns,r.record)),(r.type==="UPDATE"||r.type==="DELETE")&&(s.old=lf(r.columns,r.old_record)),s}}const Oc=()=>{},Ml={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Zm=[1e3,2e3,5e3,1e4],qm=1e4,Gm=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Km{constructor(r,s){var u;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=$c,this.transport=null,this.heartbeatIntervalMs=Ml.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Oc,this.ref=0,this.reconnectTimer=null,this.vsn=af,this.logger=Oc,this.conn=null,this.sendBuffer=[],this.serializer=new Bm,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=h=>h?(...p)=>h(...p):(...p)=>fetch(...p),!(!((u=s?.params)===null||u===void 0)&&u.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=s.params.apikey,this.endPoint=`${r}/${Hc.websocket}`,this.httpEndpoint=Zf(r),this._initializeOptions(s),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(s?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=jm.createWebSocket(this.endpointURL())}catch(r){this._setConnectionState("disconnected");const s=r.message;throw s.includes("Node.js")?new Error(`${s}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${s}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(r,s){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const u=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(u),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(r?this.conn.close(r,s??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(r){const s=await r.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const r=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.channels=[],this.disconnect(),r}log(r,s,u){this.logger(r,s,u)}connectionState(){switch(this.conn&&this.conn.readyState){case ri.connecting:return Fi.Connecting;case ri.open:return Fi.Open;case ri.closing:return Fi.Closing;default:return Fi.Closed}}isConnected(){return this.connectionState()===Fi.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(r,s={config:{}}){const u=`realtime:${r}`,h=this.getChannels().find(p=>p.topic===u);if(h)return h;{const p=new Gs(`realtime:${r}`,s,this);return this.channels.push(p),p}}push(r){const{topic:s,event:u,payload:h,ref:p}=r,m=()=>{this.encode(r,_=>{var y;(y=this.conn)===null||y===void 0||y.send(_)})};this.log("push",`${s} ${u} (${p})`,h),this.isConnected()?m():this.sendBuffer.push(m)}async setAuth(r=null){this._authPromise=this._performAuth(r);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var r;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(s){this.log("error","error in heartbeat callback",s)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(s){this.log("error","error in heartbeat callback",s)}this._wasManualDisconnect=!1,(r=this.conn)===null||r===void 0||r.close(zm,"heartbeat timeout"),setTimeout(()=>{var s;this.isConnected()||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout()},Ml.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(s){this.log("error","error in heartbeat callback",s)}this._setAuthSafely("heartbeat")}onHeartbeat(r){this.heartbeatCallback=r}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(r=>r()),this.sendBuffer=[])}_makeRef(){let r=this.ref+1;return r===this.ref?this.ref=0:this.ref=r,this.ref.toString()}_leaveOpenTopic(r){let s=this.channels.find(u=>u.topic===r&&(u._isJoined()||u._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${r}"`),s.unsubscribe())}_remove(r){this.channels=this.channels.filter(s=>s.topic!==r.topic)}_onConnMessage(r){this.decode(r.data,s=>{if(s.topic==="phoenix"&&s.event==="phx_reply"&&s.ref&&s.ref===this.pendingHeartbeatRef){const S=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(s.payload.status==="ok"?"ok":"error",S)}catch(P){this.log("error","error in heartbeat callback",P)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:u,event:h,payload:p,ref:m}=s,_=m?`(${m})`:"",y=p.status||"";this.log("receive",`${y} ${u} ${h} ${_}`.trim(),p),this.channels.filter(S=>S._isMember(u)).forEach(S=>S._trigger(h,p,m)),this._triggerStateCallbacks("message",s)})}_clearTimer(r){var s;r==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):r==="reconnect"&&((s=this.reconnectTimer)===null||s===void 0||s.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=r=>this._onConnError(r),this.conn.onmessage=r=>this._onConnMessage(r),this.conn.onclose=r=>this._onConnClose(r),this.conn.readyState===ri.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===ri.open||this.conn.readyState===ri.connecting)try{this.conn.close()}catch(r){this.log("error","Error closing connection",r)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(r=>r.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(s=>{this.log("error","error waiting for auth on connect",s),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const r=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(r),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this._terminateWorker()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(r){var s;this._setConnectionState("disconnected"),this.log("transport","close",r),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout(),this._triggerStateCallbacks("close",r)}_onConnError(r){this._setConnectionState("disconnected"),this.log("transport",`${r}`),this._triggerChanError(),this._triggerStateCallbacks("error",r);try{this.heartbeatCallback("error")}catch(s){this.log("error","error in heartbeat callback",s)}}_triggerChanError(){this.channels.forEach(r=>r._trigger(Nn.error))}_appendParams(r,s){if(Object.keys(s).length===0)return r;const u=r.match(/\?/)?"&":"?",h=new URLSearchParams(s);return`${r}${u}${h}`}_workerObjectUrl(r){let s;if(r)s=r;else{const u=new Blob([Gm],{type:"application/javascript"});s=URL.createObjectURL(u)}return s}_setConnectionState(r,s=!1){this._connectionState=r,r==="connecting"?this._wasManualDisconnect=!1:r==="disconnecting"&&(this._wasManualDisconnect=s)}async _performAuth(r=null){let s,u=!1;if(r)s=r,u=!0;else if(this.accessToken)try{s=await this.accessToken()}catch(h){this.log("error","Error fetching access token from callback",h),s=this.accessTokenValue}else s=this.accessTokenValue;u?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=s&&(this.accessTokenValue=s,this.channels.forEach(h=>{const p={access_token:s,version:Im};s&&h.updateJoinPayload(p),h.joinedOnce&&h._isJoined()&&h._push(Nn.access_token,{access_token:s})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(r="general"){this._isManualToken()||this.setAuth().catch(s=>{this.log("error",`Error setting auth in ${r}`,s)})}_triggerStateCallbacks(r,s){try{this.stateChangeCallbacks[r].forEach(u=>{try{u(s)}catch(h){this.log("error",`error in ${r} callback`,h)}})}catch(u){this.log("error",`error triggering ${r} callbacks`,u)}}_setupReconnectionTimer(){this.reconnectTimer=new Wf(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Ml.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(r){var s,u,h,p,m,_,y,S,P,O,E,R;switch(this.transport=(s=r?.transport)!==null&&s!==void 0?s:null,this.timeout=(u=r?.timeout)!==null&&u!==void 0?u:$c,this.heartbeatIntervalMs=(h=r?.heartbeatIntervalMs)!==null&&h!==void 0?h:Ml.HEARTBEAT_INTERVAL,this.worker=(p=r?.worker)!==null&&p!==void 0?p:!1,this.accessToken=(m=r?.accessToken)!==null&&m!==void 0?m:null,this.heartbeatCallback=(_=r?.heartbeatCallback)!==null&&_!==void 0?_:Oc,this.vsn=(y=r?.vsn)!==null&&y!==void 0?y:af,r?.params&&(this.params=r.params),r?.logger&&(this.logger=r.logger),(r?.logLevel||r?.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(S=r?.reconnectAfterMs)!==null&&S!==void 0?S:(U=>Zm[U-1]||qm),this.vsn){case Mm:this.encode=(P=r?.encode)!==null&&P!==void 0?P:((U,j)=>j(JSON.stringify(U))),this.decode=(O=r?.decode)!==null&&O!==void 0?O:((U,j)=>j(JSON.parse(U)));break;case Hf:this.encode=(E=r?.encode)!==null&&E!==void 0?E:this.serializer.encode.bind(this.serializer),this.decode=(R=r?.decode)!==null&&R!==void 0?R:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=r?.workerUrl}}}var ia=class extends Error{constructor(o,r){super(o),this.name="IcebergError",this.status=r.status,this.icebergType=r.icebergType,this.icebergCode=r.icebergCode,this.details=r.details,this.isCommitStateUnknown=r.icebergType==="CommitStateUnknownException"||[500,502,504].includes(r.status)&&r.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function Jm(o,r,s){const u=new URL(r,o);if(s)for(const[h,p]of Object.entries(s))p!==void 0&&u.searchParams.set(h,p);return u.toString()}async function Qm(o){return!o||o.type==="none"?{}:o.type==="bearer"?{Authorization:`Bearer ${o.token}`}:o.type==="header"?{[o.name]:o.value}:o.type==="custom"?await o.getHeaders():{}}function Ym(o){const r=o.fetchImpl??globalThis.fetch;return{async request({method:s,path:u,query:h,body:p,headers:m}){const _=Jm(o.baseUrl,u,h),y=await Qm(o.auth),S=await r(_,{method:s,headers:{...p?{"Content-Type":"application/json"}:{},...y,...m},body:p?JSON.stringify(p):void 0}),P=await S.text(),O=(S.headers.get("content-type")||"").includes("application/json"),E=O&&P?JSON.parse(P):P;if(!S.ok){const R=O?E:void 0,U=R?.error;throw new ia(U?.message??`Request failed with status ${S.status}`,{status:S.status,icebergType:U?.type,icebergCode:U?.code,details:R})}return{status:S.status,headers:S.headers,data:E}}}}function zl(o){return o.join("")}var Xm=class{constructor(o,r=""){this.client=o,this.prefix=r}async listNamespaces(o){const r=o?{parent:zl(o.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:r})).data.namespaces.map(u=>({namespace:u}))}async createNamespace(o,r){const s={namespace:o.namespace,properties:r?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:s})).data}async dropNamespace(o){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${zl(o.namespace)}`})}async loadNamespaceMetadata(o){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${zl(o.namespace)}`})).data.properties}}async namespaceExists(o){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${zl(o.namespace)}`}),!0}catch(r){if(r instanceof ia&&r.status===404)return!1;throw r}}async createNamespaceIfNotExists(o,r){try{return await this.createNamespace(o,r)}catch(s){if(s instanceof ia&&s.status===409)return;throw s}}};function Ds(o){return o.join("")}var eg=class{constructor(o,r="",s){this.client=o,this.prefix=r,this.accessDelegation=s}async listTables(o){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ds(o.namespace)}/tables`})).data.identifiers}async createTable(o,r){const s={};return this.accessDelegation&&(s["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ds(o.namespace)}/tables`,body:r,headers:s})).data.metadata}async updateTable(o,r){const s=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ds(o.namespace)}/tables/${o.name}`,body:r});return{"metadata-location":s.data["metadata-location"],metadata:s.data.metadata}}async dropTable(o,r){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Ds(o.namespace)}/tables/${o.name}`,query:{purgeRequested:String(r?.purge??!1)}})}async loadTable(o){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ds(o.namespace)}/tables/${o.name}`,headers:r})).data.metadata}async tableExists(o){const r={};this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Ds(o.namespace)}/tables/${o.name}`,headers:r}),!0}catch(s){if(s instanceof ia&&s.status===404)return!1;throw s}}async createTableIfNotExists(o,r){try{return await this.createTable(o,r)}catch(s){if(s instanceof ia&&s.status===409)return await this.loadTable({namespace:o.namespace,name:r.name});throw s}}},tg=class{constructor(o){let r="v1";o.catalogName&&(r+=`/${o.catalogName}`);const s=o.baseUrl.endsWith("/")?o.baseUrl:`${o.baseUrl}/`;this.client=Ym({baseUrl:s,auth:o.auth,fetchImpl:o.fetch}),this.accessDelegation=o.accessDelegation?.join(","),this.namespaceOps=new Xm(this.client,r),this.tableOps=new eg(this.client,r,this.accessDelegation)}async listNamespaces(o){return this.namespaceOps.listNamespaces(o)}async createNamespace(o,r){return this.namespaceOps.createNamespace(o,r)}async dropNamespace(o){await this.namespaceOps.dropNamespace(o)}async loadNamespaceMetadata(o){return this.namespaceOps.loadNamespaceMetadata(o)}async listTables(o){return this.tableOps.listTables(o)}async createTable(o,r){return this.tableOps.createTable(o,r)}async updateTable(o,r){return this.tableOps.updateTable(o,r)}async dropTable(o,r){await this.tableOps.dropTable(o,r)}async loadTable(o){return this.tableOps.loadTable(o)}async namespaceExists(o){return this.namespaceOps.namespaceExists(o)}async tableExists(o){return this.tableOps.tableExists(o)}async createNamespaceIfNotExists(o,r){return this.namespaceOps.createNamespaceIfNotExists(o,r)}async createTableIfNotExists(o,r){return this.tableOps.createTableIfNotExists(o,r)}},Kl=class extends Error{constructor(o,r="storage",s,u){super(o),this.__isStorageError=!0,this.namespace=r,this.name=r==="vectors"?"StorageVectorsError":"StorageError",this.status=s,this.statusCode=u}};function Jl(o){return typeof o=="object"&&o!==null&&"__isStorageError"in o}var Dl=class extends Kl{constructor(o,r,s,u="storage"){super(o,u,r,s),this.name=u==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=r,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},qf=class extends Kl{constructor(o,r,s="storage"){super(o,s),this.name=s==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=r}};const ng=o=>o?(...r)=>o(...r):(...r)=>fetch(...r),rg=o=>{if(typeof o!="object"||o===null)return!1;const r=Object.getPrototypeOf(o);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(Symbol.toStringTag in o)&&!(Symbol.iterator in o)},Vc=o=>{if(Array.isArray(o))return o.map(s=>Vc(s));if(typeof o=="function"||o!==Object(o))return o;const r={};return Object.entries(o).forEach(([s,u])=>{const h=s.replace(/([-_][a-z])/gi,p=>p.toUpperCase().replace(/[-_]/g,""));r[h]=Vc(u)}),r},ig=o=>!o||typeof o!="string"||o.length===0||o.length>100||o.trim()!==o||o.includes("/")||o.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(o);function sa(o){"@babel/helpers - typeof";return sa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},sa(o)}function sg(o,r){if(sa(o)!="object"||!o)return o;var s=o[Symbol.toPrimitive];if(s!==void 0){var u=s.call(o,r);if(sa(u)!="object")return u;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(o)}function og(o){var r=sg(o,"string");return sa(r)=="symbol"?r:r+""}function ag(o,r,s){return(r=og(r))in o?Object.defineProperty(o,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):o[r]=s,o}function hf(o,r){var s=Object.keys(o);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(o);r&&(u=u.filter(function(h){return Object.getOwnPropertyDescriptor(o,h).enumerable})),s.push.apply(s,u)}return s}function Ee(o){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?hf(Object(s),!0).forEach(function(u){ag(o,u,s[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(s)):hf(Object(s)).forEach(function(u){Object.defineProperty(o,u,Object.getOwnPropertyDescriptor(s,u))})}return o}const df=o=>{var r;return o.msg||o.message||o.error_description||(typeof o.error=="string"?o.error:(r=o.error)===null||r===void 0?void 0:r.message)||JSON.stringify(o)},lg=async(o,r,s,u)=>{if(o&&typeof o=="object"&&"status"in o&&"ok"in o&&typeof o.status=="number"&&!s?.noResolveJson){const h=o,p=h.status||500;if(typeof h.json=="function")h.json().then(m=>{const _=m?.statusCode||m?.code||p+"";r(new Dl(df(m),p,_,u))}).catch(()=>{if(u==="vectors"){const m=p+"";r(new Dl(h.statusText||`HTTP ${p} error`,p,m,u))}else{const m=p+"";r(new Dl(h.statusText||`HTTP ${p} error`,p,m,u))}});else{const m=p+"";r(new Dl(h.statusText||`HTTP ${p} error`,p,m,u))}}else r(new qf(df(o),o,u))},ug=(o,r,s,u)=>{const h={method:o,headers:r?.headers||{}};return o==="GET"||o==="HEAD"||!u?Ee(Ee({},h),s):(rg(u)?(h.headers=Ee({"Content-Type":"application/json"},r?.headers),h.body=JSON.stringify(u)):h.body=u,r?.duplex&&(h.duplex=r.duplex),Ee(Ee({},h),s))};async function Xo(o,r,s,u,h,p,m){return new Promise((_,y)=>{o(s,ug(r,u,h,p)).then(S=>{if(!S.ok)throw S;if(u?.noResolveJson)return S;if(m==="vectors"){const P=S.headers.get("content-type");if(!P||!P.includes("application/json"))return{}}return S.json()}).then(S=>_(S)).catch(S=>lg(S,y,u,m))})}function cg(o="storage"){return{get:async(r,s,u,h)=>Xo(r,"GET",s,u,h,void 0,o),post:async(r,s,u,h,p)=>Xo(r,"POST",s,h,p,u,o),put:async(r,s,u,h,p)=>Xo(r,"PUT",s,h,p,u,o),head:async(r,s,u,h)=>Xo(r,"HEAD",s,Ee(Ee({},u),{},{noResolveJson:!0}),h,void 0,o),remove:async(r,s,u,h,p)=>Xo(r,"DELETE",s,h,p,u,o)}}const hg=cg("storage"),{get:oa,post:et,put:Zc,head:dg,remove:ih}=hg;var Js=class{constructor(o,r={},s,u="storage"){this.shouldThrowOnError=!1,this.url=o,this.headers=r,this.fetch=ng(s),this.namespace=u}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(o){var r=this;try{return{data:await o(),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(Jl(s))return{data:null,error:s};throw s}}},fg=class{constructor(o,r){this.downloadFn=o,this.shouldThrowOnError=r}then(o,r){return this.execute().then(o,r)}async execute(){var o=this;try{return{data:(await o.downloadFn()).body,error:null}}catch(r){if(o.shouldThrowOnError)throw r;if(Jl(r))return{data:null,error:r};throw r}}};let Gf;Gf=Symbol.toStringTag;var pg=class{constructor(o,r){this.downloadFn=o,this.shouldThrowOnError=r,this[Gf]="BlobDownloadBuilder",this.promise=null}asStream(){return new fg(this.downloadFn,this.shouldThrowOnError)}then(o,r){return this.getPromise().then(o,r)}catch(o){return this.getPromise().catch(o)}finally(o){return this.getPromise().finally(o)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var o=this;try{return{data:await(await o.downloadFn()).blob(),error:null}}catch(r){if(o.shouldThrowOnError)throw r;if(Jl(r))return{data:null,error:r};throw r}}};const mg={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},ff={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var gg=class extends Js{constructor(o,r={},s,u){super(o,r,u,"storage"),this.bucketId=s}async uploadOrUpdate(o,r,s,u){var h=this;return h.handleOperation(async()=>{let p;const m=Ee(Ee({},ff),u);let _=Ee(Ee({},h.headers),o==="POST"&&{"x-upsert":String(m.upsert)});const y=m.metadata;typeof Blob<"u"&&s instanceof Blob?(p=new FormData,p.append("cacheControl",m.cacheControl),y&&p.append("metadata",h.encodeMetadata(y)),p.append("",s)):typeof FormData<"u"&&s instanceof FormData?(p=s,p.has("cacheControl")||p.append("cacheControl",m.cacheControl),y&&!p.has("metadata")&&p.append("metadata",h.encodeMetadata(y))):(p=s,_["cache-control"]=`max-age=${m.cacheControl}`,_["content-type"]=m.contentType,y&&(_["x-metadata"]=h.toBase64(h.encodeMetadata(y))),(typeof ReadableStream<"u"&&p instanceof ReadableStream||p&&typeof p=="object"&&"pipe"in p&&typeof p.pipe=="function")&&!m.duplex&&(m.duplex="half")),u?.headers&&(_=Ee(Ee({},_),u.headers));const S=h._removeEmptyFolders(r),P=h._getFinalPath(S),O=await(o=="PUT"?Zc:et)(h.fetch,`${h.url}/object/${P}`,p,Ee({headers:_},m?.duplex?{duplex:m.duplex}:{}));return{path:S,id:O.Id,fullPath:O.Key}})}async upload(o,r,s){return this.uploadOrUpdate("POST",o,r,s)}async uploadToSignedUrl(o,r,s,u){var h=this;const p=h._removeEmptyFolders(o),m=h._getFinalPath(p),_=new URL(h.url+`/object/upload/sign/${m}`);return _.searchParams.set("token",r),h.handleOperation(async()=>{let y;const S=Ee({upsert:ff.upsert},u),P=Ee(Ee({},h.headers),{"x-upsert":String(S.upsert)});return typeof Blob<"u"&&s instanceof Blob?(y=new FormData,y.append("cacheControl",S.cacheControl),y.append("",s)):typeof FormData<"u"&&s instanceof FormData?(y=s,y.append("cacheControl",S.cacheControl)):(y=s,P["cache-control"]=`max-age=${S.cacheControl}`,P["content-type"]=S.contentType),{path:p,fullPath:(await Zc(h.fetch,_.toString(),y,{headers:P})).Key}})}async createSignedUploadUrl(o,r){var s=this;return s.handleOperation(async()=>{let u=s._getFinalPath(o);const h=Ee({},s.headers);r?.upsert&&(h["x-upsert"]="true");const p=await et(s.fetch,`${s.url}/object/upload/sign/${u}`,{},{headers:h}),m=new URL(s.url+p.url),_=m.searchParams.get("token");if(!_)throw new Kl("No token returned by API");return{signedUrl:m.toString(),path:o,token:_}})}async update(o,r,s){return this.uploadOrUpdate("PUT",o,r,s)}async move(o,r,s){var u=this;return u.handleOperation(async()=>await et(u.fetch,`${u.url}/object/move`,{bucketId:u.bucketId,sourceKey:o,destinationKey:r,destinationBucket:s?.destinationBucket},{headers:u.headers}))}async copy(o,r,s){var u=this;return u.handleOperation(async()=>({path:(await et(u.fetch,`${u.url}/object/copy`,{bucketId:u.bucketId,sourceKey:o,destinationKey:r,destinationBucket:s?.destinationBucket},{headers:u.headers})).Key}))}async createSignedUrl(o,r,s){var u=this;return u.handleOperation(async()=>{let h=u._getFinalPath(o),p=await et(u.fetch,`${u.url}/object/sign/${h}`,Ee({expiresIn:r},s?.transform?{transform:s.transform}:{}),{headers:u.headers});const m=s?.download?`&download=${s.download===!0?"":s.download}`:"";return{signedUrl:encodeURI(`${u.url}${p.signedURL}${m}`)}})}async createSignedUrls(o,r,s){var u=this;return u.handleOperation(async()=>{const h=await et(u.fetch,`${u.url}/object/sign/${u.bucketId}`,{expiresIn:r,paths:o},{headers:u.headers}),p=s?.download?`&download=${s.download===!0?"":s.download}`:"";return h.map(m=>Ee(Ee({},m),{},{signedUrl:m.signedURL?encodeURI(`${u.url}${m.signedURL}${p}`):null}))})}download(o,r){const s=typeof r?.transform<"u"?"render/image/authenticated":"object",u=this.transformOptsToQueryString(r?.transform||{}),h=u?`?${u}`:"",p=this._getFinalPath(o),m=()=>oa(this.fetch,`${this.url}/${s}/${p}${h}`,{headers:this.headers,noResolveJson:!0});return new pg(m,this.shouldThrowOnError)}async info(o){var r=this;const s=r._getFinalPath(o);return r.handleOperation(async()=>Vc(await oa(r.fetch,`${r.url}/object/info/${s}`,{headers:r.headers})))}async exists(o){var r=this;const s=r._getFinalPath(o);try{return await dg(r.fetch,`${r.url}/object/${s}`,{headers:r.headers}),{data:!0,error:null}}catch(u){if(r.shouldThrowOnError)throw u;if(Jl(u)&&u instanceof qf){const h=u.originalError;if([400,404].includes(h?.status))return{data:!1,error:u}}throw u}}getPublicUrl(o,r){const s=this._getFinalPath(o),u=[],h=r?.download?`download=${r.download===!0?"":r.download}`:"";h!==""&&u.push(h);const p=typeof r?.transform<"u"?"render/image":"object",m=this.transformOptsToQueryString(r?.transform||{});m!==""&&u.push(m);let _=u.join("&");return _!==""&&(_=`?${_}`),{data:{publicUrl:encodeURI(`${this.url}/${p}/public/${s}${_}`)}}}async remove(o){var r=this;return r.handleOperation(async()=>await ih(r.fetch,`${r.url}/object/${r.bucketId}`,{prefixes:o},{headers:r.headers}))}async list(o,r,s){var u=this;return u.handleOperation(async()=>{const h=Ee(Ee(Ee({},mg),r),{},{prefix:o||""});return await et(u.fetch,`${u.url}/object/list/${u.bucketId}`,h,{headers:u.headers},s)})}async listV2(o,r){var s=this;return s.handleOperation(async()=>{const u=Ee({},o);return await et(s.fetch,`${s.url}/object/list-v2/${s.bucketId}`,u,{headers:s.headers},r)})}encodeMetadata(o){return JSON.stringify(o)}toBase64(o){return typeof Buffer<"u"?Buffer.from(o).toString("base64"):btoa(o)}_getFinalPath(o){return`${this.bucketId}/${o.replace(/^\/+/,"")}`}_removeEmptyFolders(o){return o.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(o){const r=[];return o.width&&r.push(`width=${o.width}`),o.height&&r.push(`height=${o.height}`),o.resize&&r.push(`resize=${o.resize}`),o.format&&r.push(`format=${o.format}`),o.quality&&r.push(`quality=${o.quality}`),r.join("&")}};const vg="2.93.1",ca={"X-Client-Info":`storage-js/${vg}`};var _g=class extends Js{constructor(o,r={},s,u){const h=new URL(o);u?.useNewHostname&&/supabase\.(co|in|red)$/.test(h.hostname)&&!h.hostname.includes("storage.supabase.")&&(h.hostname=h.hostname.replace("supabase.","storage.supabase."));const p=h.href.replace(/\/$/,""),m=Ee(Ee({},ca),r);super(p,m,s,"storage")}async listBuckets(o){var r=this;return r.handleOperation(async()=>{const s=r.listBucketOptionsToQueryString(o);return await oa(r.fetch,`${r.url}/bucket${s}`,{headers:r.headers})})}async getBucket(o){var r=this;return r.handleOperation(async()=>await oa(r.fetch,`${r.url}/bucket/${o}`,{headers:r.headers}))}async createBucket(o,r={public:!1}){var s=this;return s.handleOperation(async()=>await et(s.fetch,`${s.url}/bucket`,{id:o,name:o,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:s.headers}))}async updateBucket(o,r){var s=this;return s.handleOperation(async()=>await Zc(s.fetch,`${s.url}/bucket/${o}`,{id:o,name:o,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:s.headers}))}async emptyBucket(o){var r=this;return r.handleOperation(async()=>await et(r.fetch,`${r.url}/bucket/${o}/empty`,{},{headers:r.headers}))}async deleteBucket(o){var r=this;return r.handleOperation(async()=>await ih(r.fetch,`${r.url}/bucket/${o}`,{},{headers:r.headers}))}listBucketOptionsToQueryString(o){const r={};return o&&("limit"in o&&(r.limit=String(o.limit)),"offset"in o&&(r.offset=String(o.offset)),o.search&&(r.search=o.search),o.sortColumn&&(r.sortColumn=o.sortColumn),o.sortOrder&&(r.sortOrder=o.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}},yg=class extends Js{constructor(o,r={},s){const u=o.replace(/\/$/,""),h=Ee(Ee({},ca),r);super(u,h,s,"storage")}async createBucket(o){var r=this;return r.handleOperation(async()=>await et(r.fetch,`${r.url}/bucket`,{name:o},{headers:r.headers}))}async listBuckets(o){var r=this;return r.handleOperation(async()=>{const s=new URLSearchParams;o?.limit!==void 0&&s.set("limit",o.limit.toString()),o?.offset!==void 0&&s.set("offset",o.offset.toString()),o?.sortColumn&&s.set("sortColumn",o.sortColumn),o?.sortOrder&&s.set("sortOrder",o.sortOrder),o?.search&&s.set("search",o.search);const u=s.toString(),h=u?`${r.url}/bucket?${u}`:`${r.url}/bucket`;return await oa(r.fetch,h,{headers:r.headers})})}async deleteBucket(o){var r=this;return r.handleOperation(async()=>await ih(r.fetch,`${r.url}/bucket/${o}`,{},{headers:r.headers}))}from(o){var r=this;if(!ig(o))throw new Kl("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const s=new tg({baseUrl:this.url,catalogName:o,auth:{type:"custom",getHeaders:async()=>r.headers},fetch:this.fetch}),u=this.shouldThrowOnError;return new Proxy(s,{get(h,p){const m=h[p];return typeof m!="function"?m:async(..._)=>{try{return{data:await m.apply(h,_),error:null}}catch(y){if(u)throw y;return{data:null,error:y}}}}})}},wg=class extends Js{constructor(o,r={},s){const u=o.replace(/\/$/,""),h=Ee(Ee({},ca),{},{"Content-Type":"application/json"},r);super(u,h,s,"vectors")}async createIndex(o){var r=this;return r.handleOperation(async()=>await et(r.fetch,`${r.url}/CreateIndex`,o,{headers:r.headers})||{})}async getIndex(o,r){var s=this;return s.handleOperation(async()=>await et(s.fetch,`${s.url}/GetIndex`,{vectorBucketName:o,indexName:r},{headers:s.headers}))}async listIndexes(o){var r=this;return r.handleOperation(async()=>await et(r.fetch,`${r.url}/ListIndexes`,o,{headers:r.headers}))}async deleteIndex(o,r){var s=this;return s.handleOperation(async()=>await et(s.fetch,`${s.url}/DeleteIndex`,{vectorBucketName:o,indexName:r},{headers:s.headers})||{})}},xg=class extends Js{constructor(o,r={},s){const u=o.replace(/\/$/,""),h=Ee(Ee({},ca),{},{"Content-Type":"application/json"},r);super(u,h,s,"vectors")}async putVectors(o){var r=this;if(o.vectors.length<1||o.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return r.handleOperation(async()=>await et(r.fetch,`${r.url}/PutVectors`,o,{headers:r.headers})||{})}async getVectors(o){var r=this;return r.handleOperation(async()=>await et(r.fetch,`${r.url}/GetVectors`,o,{headers:r.headers}))}async listVectors(o){var r=this;if(o.segmentCount!==void 0){if(o.segmentCount<1||o.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(o.segmentIndex!==void 0&&(o.segmentIndex<0||o.segmentIndex>=o.segmentCount))throw new Error(`segmentIndex must be between 0 and ${o.segmentCount-1}`)}return r.handleOperation(async()=>await et(r.fetch,`${r.url}/ListVectors`,o,{headers:r.headers}))}async queryVectors(o){var r=this;return r.handleOperation(async()=>await et(r.fetch,`${r.url}/QueryVectors`,o,{headers:r.headers}))}async deleteVectors(o){var r=this;if(o.keys.length<1||o.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return r.handleOperation(async()=>await et(r.fetch,`${r.url}/DeleteVectors`,o,{headers:r.headers})||{})}},bg=class extends Js{constructor(o,r={},s){const u=o.replace(/\/$/,""),h=Ee(Ee({},ca),{},{"Content-Type":"application/json"},r);super(u,h,s,"vectors")}async createBucket(o){var r=this;return r.handleOperation(async()=>await et(r.fetch,`${r.url}/CreateVectorBucket`,{vectorBucketName:o},{headers:r.headers})||{})}async getBucket(o){var r=this;return r.handleOperation(async()=>await et(r.fetch,`${r.url}/GetVectorBucket`,{vectorBucketName:o},{headers:r.headers}))}async listBuckets(o={}){var r=this;return r.handleOperation(async()=>await et(r.fetch,`${r.url}/ListVectorBuckets`,o,{headers:r.headers}))}async deleteBucket(o){var r=this;return r.handleOperation(async()=>await et(r.fetch,`${r.url}/DeleteVectorBucket`,{vectorBucketName:o},{headers:r.headers})||{})}},Sg=class extends bg{constructor(o,r={}){super(o,r.headers||{},r.fetch)}from(o){return new kg(this.url,this.headers,o,this.fetch)}async createBucket(o){var r=()=>super.createBucket,s=this;return r().call(s,o)}async getBucket(o){var r=()=>super.getBucket,s=this;return r().call(s,o)}async listBuckets(o={}){var r=()=>super.listBuckets,s=this;return r().call(s,o)}async deleteBucket(o){var r=()=>super.deleteBucket,s=this;return r().call(s,o)}},kg=class extends wg{constructor(o,r,s,u){super(o,r,u),this.vectorBucketName=s}async createIndex(o){var r=()=>super.createIndex,s=this;return r().call(s,Ee(Ee({},o),{},{vectorBucketName:s.vectorBucketName}))}async listIndexes(o={}){var r=()=>super.listIndexes,s=this;return r().call(s,Ee(Ee({},o),{},{vectorBucketName:s.vectorBucketName}))}async getIndex(o){var r=()=>super.getIndex,s=this;return r().call(s,s.vectorBucketName,o)}async deleteIndex(o){var r=()=>super.deleteIndex,s=this;return r().call(s,s.vectorBucketName,o)}index(o){return new Pg(this.url,this.headers,this.vectorBucketName,o,this.fetch)}},Pg=class extends xg{constructor(o,r,s,u,h){super(o,r,h),this.vectorBucketName=s,this.indexName=u}async putVectors(o){var r=()=>super.putVectors,s=this;return r().call(s,Ee(Ee({},o),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async getVectors(o){var r=()=>super.getVectors,s=this;return r().call(s,Ee(Ee({},o),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async listVectors(o={}){var r=()=>super.listVectors,s=this;return r().call(s,Ee(Ee({},o),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async queryVectors(o){var r=()=>super.queryVectors,s=this;return r().call(s,Ee(Ee({},o),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async deleteVectors(o){var r=()=>super.deleteVectors,s=this;return r().call(s,Ee(Ee({},o),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}},Eg=class extends _g{constructor(o,r={},s,u){super(o,r,s,u)}from(o){return new gg(this.url,this.headers,o,this.fetch)}get vectors(){return new Sg(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new yg(this.url+"/iceberg",this.headers,this.fetch)}};const Kf="2.93.1",Zs=30*1e3,qc=3,Lc=qc*Zs,Tg="http://localhost:9999",Cg="supabase.auth.token",Og={"X-Client-Info":`gotrue-js/${Kf}`},Gc="X-Supabase-Api-Version",Jf={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Lg=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Ag=600*1e3;class aa extends Error{constructor(r,s,u){super(r),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=u}}function we(o){return typeof o=="object"&&o!==null&&"__isAuthError"in o}class Ng extends aa{constructor(r,s,u){super(r,s,u),this.name="AuthApiError",this.status=s,this.code=u}}function jg(o){return we(o)&&o.name==="AuthApiError"}class $i extends aa{constructor(r,s){super(r),this.name="AuthUnknownError",this.originalError=s}}class gr extends aa{constructor(r,s,u,h){super(r,u,h),this.name=s,this.status=u}}class on extends gr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Ac(o){return we(o)&&o.name==="AuthSessionMissingError"}class Bs extends gr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Bl extends gr{constructor(r){super(r,"AuthInvalidCredentialsError",400,void 0)}}class Ul extends gr{constructor(r,s=null){super(r,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Rg(o){return we(o)&&o.name==="AuthImplicitGrantRedirectError"}class pf extends gr{constructor(r,s=null){super(r,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Ig extends gr{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Kc extends gr{constructor(r,s){super(r,"AuthRetryableFetchError",s,void 0)}}function Nc(o){return we(o)&&o.name==="AuthRetryableFetchError"}class mf extends gr{constructor(r,s,u){super(r,"AuthWeakPasswordError",s,"weak_password"),this.reasons=u}}class Jc extends gr{constructor(r){super(r,"AuthInvalidJwtError",400,"invalid_jwt")}}const Hl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),gf=` 	
\r=`.split(""),Mg=(()=>{const o=new Array(128);for(let r=0;r<o.length;r+=1)o[r]=-1;for(let r=0;r<gf.length;r+=1)o[gf[r].charCodeAt(0)]=-2;for(let r=0;r<Hl.length;r+=1)o[Hl[r].charCodeAt(0)]=r;return o})();function vf(o,r,s){if(o!==null)for(r.queue=r.queue<<8|o,r.queuedBits+=8;r.queuedBits>=6;){const u=r.queue>>r.queuedBits-6&63;s(Hl[u]),r.queuedBits-=6}else if(r.queuedBits>0)for(r.queue=r.queue<<6-r.queuedBits,r.queuedBits=6;r.queuedBits>=6;){const u=r.queue>>r.queuedBits-6&63;s(Hl[u]),r.queuedBits-=6}}function Qf(o,r,s){const u=Mg[o];if(u>-1)for(r.queue=r.queue<<6|u,r.queuedBits+=6;r.queuedBits>=8;)s(r.queue>>r.queuedBits-8&255),r.queuedBits-=8;else{if(u===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(o)}"`)}}function _f(o){const r=[],s=m=>{r.push(String.fromCodePoint(m))},u={utf8seq:0,codepoint:0},h={queue:0,queuedBits:0},p=m=>{Bg(m,u,s)};for(let m=0;m<o.length;m+=1)Qf(o.charCodeAt(m),h,p);return r.join("")}function zg(o,r){if(o<=127){r(o);return}else if(o<=2047){r(192|o>>6),r(128|o&63);return}else if(o<=65535){r(224|o>>12),r(128|o>>6&63),r(128|o&63);return}else if(o<=1114111){r(240|o>>18),r(128|o>>12&63),r(128|o>>6&63),r(128|o&63);return}throw new Error(`Unrecognized Unicode codepoint: ${o.toString(16)}`)}function Dg(o,r){for(let s=0;s<o.length;s+=1){let u=o.charCodeAt(s);if(u>55295&&u<=56319){const h=(u-55296)*1024&65535;u=(o.charCodeAt(s+1)-56320&65535|h)+65536,s+=1}zg(u,r)}}function Bg(o,r,s){if(r.utf8seq===0){if(o<=127){s(o);return}for(let u=1;u<6;u+=1)if((o>>7-u&1)===0){r.utf8seq=u;break}if(r.utf8seq===2)r.codepoint=o&31;else if(r.utf8seq===3)r.codepoint=o&15;else if(r.utf8seq===4)r.codepoint=o&7;else throw new Error("Invalid UTF-8 sequence");r.utf8seq-=1}else if(r.utf8seq>0){if(o<=127)throw new Error("Invalid UTF-8 sequence");r.codepoint=r.codepoint<<6|o&63,r.utf8seq-=1,r.utf8seq===0&&s(r.codepoint)}}function Ks(o){const r=[],s={queue:0,queuedBits:0},u=h=>{r.push(h)};for(let h=0;h<o.length;h+=1)Qf(o.charCodeAt(h),s,u);return new Uint8Array(r)}function Ug(o){const r=[];return Dg(o,s=>r.push(s)),new Uint8Array(r)}function Wi(o){const r=[],s={queue:0,queuedBits:0},u=h=>{r.push(h)};return o.forEach(h=>vf(h,s,u)),vf(null,s,u),r.join("")}function Fg(o){return Math.round(Date.now()/1e3)+o}function $g(){return Symbol("auth-callback")}const Pt=()=>typeof window<"u"&&typeof document<"u",Di={tested:!1,writable:!1},Yf=()=>{if(!Pt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Di.tested)return Di.writable;const o=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(o,o),globalThis.localStorage.removeItem(o),Di.tested=!0,Di.writable=!0}catch{Di.tested=!0,Di.writable=!1}return Di.writable};function Hg(o){const r={},s=new URL(o);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((h,p)=>{r[p]=h})}catch{}return s.searchParams.forEach((u,h)=>{r[h]=u}),r}const Xf=o=>o?(...r)=>o(...r):(...r)=>fetch(...r),Wg=o=>typeof o=="object"&&o!==null&&"status"in o&&"ok"in o&&"json"in o&&typeof o.json=="function",qs=async(o,r,s)=>{await o.setItem(r,JSON.stringify(s))},Bi=async(o,r)=>{const s=await o.getItem(r);if(!s)return null;try{return JSON.parse(s)}catch{return s}},kt=async(o,r)=>{await o.removeItem(r)};class Ql{constructor(){this.promise=new Ql.promiseConstructor((r,s)=>{this.resolve=r,this.reject=s})}}Ql.promiseConstructor=Promise;function Fl(o){const r=o.split(".");if(r.length!==3)throw new Jc("Invalid JWT structure");for(let u=0;u<r.length;u++)if(!Lg.test(r[u]))throw new Jc("JWT not in base64url format");return{header:JSON.parse(_f(r[0])),payload:JSON.parse(_f(r[1])),signature:Ks(r[2]),raw:{header:r[0],payload:r[1]}}}async function Vg(o){return await new Promise(r=>{setTimeout(()=>r(null),o)})}function Zg(o,r){return new Promise((u,h)=>{(async()=>{for(let p=0;p<1/0;p++)try{const m=await o(p);if(!r(p,null,m)){u(m);return}}catch(m){if(!r(p,m)){h(m);return}}})()})}function qg(o){return("0"+o.toString(16)).substr(-2)}function Gg(){const r=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",u=s.length;let h="";for(let p=0;p<56;p++)h+=s.charAt(Math.floor(Math.random()*u));return h}return crypto.getRandomValues(r),Array.from(r,qg).join("")}async function Kg(o){const s=new TextEncoder().encode(o),u=await crypto.subtle.digest("SHA-256",s),h=new Uint8Array(u);return Array.from(h).map(p=>String.fromCharCode(p)).join("")}async function Jg(o){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),o;const s=await Kg(o);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Us(o,r,s=!1){const u=Gg();let h=u;s&&(h+="/PASSWORD_RECOVERY"),await qs(o,`${r}-code-verifier`,h);const p=await Jg(u);return[p,u===p?"plain":"s256"]}const Qg=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Yg(o){const r=o.headers.get(Gc);if(!r||!r.match(Qg))return null;try{return new Date(`${r}T00:00:00.0Z`)}catch{return null}}function Xg(o){if(!o)throw new Error("Missing exp claim");const r=Math.floor(Date.now()/1e3);if(o<=r)throw new Error("JWT has expired")}function ev(o){switch(o){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const tv=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Fs(o){if(!tv.test(o))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function jc(){const o={};return new Proxy(o,{get:(r,s)=>{if(s==="__isUserNotAvailableProxy")return!0;if(typeof s=="symbol"){const u=s.toString();if(u==="Symbol(Symbol.toPrimitive)"||u==="Symbol(Symbol.toStringTag)"||u==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${s}" property of the session object is not supported. Please use getUser() instead.`)},set:(r,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(r,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function nv(o,r){return new Proxy(o,{get:(s,u,h)=>{if(u==="__isInsecureUserWarningProxy")return!0;if(typeof u=="symbol"){const p=u.toString();if(p==="Symbol(Symbol.toPrimitive)"||p==="Symbol(Symbol.toStringTag)"||p==="Symbol(util.inspect.custom)"||p==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(s,u,h)}return!r.value&&typeof u=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),r.value=!0),Reflect.get(s,u,h)}})}function yf(o){return JSON.parse(JSON.stringify(o))}const Ui=o=>o.msg||o.message||o.error_description||o.error||JSON.stringify(o),rv=[502,503,504];async function wf(o){var r;if(!Wg(o))throw new Kc(Ui(o),0);if(rv.includes(o.status))throw new Kc(Ui(o),o.status);let s;try{s=await o.json()}catch(p){throw new $i(Ui(p),p)}let u;const h=Yg(o);if(h&&h.getTime()>=Jf["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?u=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(u=s.error_code),u){if(u==="weak_password")throw new mf(Ui(s),o.status,((r=s.weak_password)===null||r===void 0?void 0:r.reasons)||[]);if(u==="session_not_found")throw new on}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((p,m)=>p&&typeof m=="string",!0))throw new mf(Ui(s),o.status,s.weak_password.reasons);throw new Ng(Ui(s),o.status||500,u)}const iv=(o,r,s,u)=>{const h={method:o,headers:r?.headers||{}};return o==="GET"?h:(h.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},r?.headers),h.body=JSON.stringify(u),Object.assign(Object.assign({},h),s))};async function Pe(o,r,s,u){var h;const p=Object.assign({},u?.headers);p[Gc]||(p[Gc]=Jf["2024-01-01"].name),u?.jwt&&(p.Authorization=`Bearer ${u.jwt}`);const m=(h=u?.query)!==null&&h!==void 0?h:{};u?.redirectTo&&(m.redirect_to=u.redirectTo);const _=Object.keys(m).length?"?"+new URLSearchParams(m).toString():"",y=await sv(o,r,s+_,{headers:p,noResolveJson:u?.noResolveJson},{},u?.body);return u?.xform?u?.xform(y):{data:Object.assign({},y),error:null}}async function sv(o,r,s,u,h,p){const m=iv(r,u,h,p);let _;try{_=await o(s,Object.assign({},m))}catch(y){throw console.error(y),new Kc(Ui(y),0)}if(_.ok||await wf(_),u?.noResolveJson)return _;try{return await _.json()}catch(y){await wf(y)}}function An(o){var r;let s=null;lv(o)&&(s=Object.assign({},o),o.expires_at||(s.expires_at=Fg(o.expires_in)));const u=(r=o.user)!==null&&r!==void 0?r:o;return{data:{session:s,user:u},error:null}}function xf(o){const r=An(o);return!r.error&&o.weak_password&&typeof o.weak_password=="object"&&Array.isArray(o.weak_password.reasons)&&o.weak_password.reasons.length&&o.weak_password.message&&typeof o.weak_password.message=="string"&&o.weak_password.reasons.reduce((s,u)=>s&&typeof u=="string",!0)&&(r.data.weak_password=o.weak_password),r}function si(o){var r;return{data:{user:(r=o.user)!==null&&r!==void 0?r:o},error:null}}function ov(o){return{data:o,error:null}}function av(o){const{action_link:r,email_otp:s,hashed_token:u,redirect_to:h,verification_type:p}=o,m=Gl(o,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),_={action_link:r,email_otp:s,hashed_token:u,redirect_to:h,verification_type:p},y=Object.assign({},m);return{data:{properties:_,user:y},error:null}}function bf(o){return o}function lv(o){return o.access_token&&o.refresh_token&&o.expires_in}const Rc=["global","local","others"];class uv{constructor({url:r="",headers:s={},fetch:u}){this.url=r,this.headers=s,this.fetch=Xf(u),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(r,s=Rc[0]){if(Rc.indexOf(s)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Rc.join(", ")}`);try{return await Pe(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:r,noResolveJson:!0}),{data:null,error:null}}catch(u){if(we(u))return{data:null,error:u};throw u}}async inviteUserByEmail(r,s={}){try{return await Pe(this.fetch,"POST",`${this.url}/invite`,{body:{email:r,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:si})}catch(u){if(we(u))return{data:{user:null},error:u};throw u}}async generateLink(r){try{const{options:s}=r,u=Gl(r,["options"]),h=Object.assign(Object.assign({},u),s);return"newEmail"in u&&(h.new_email=u?.newEmail,delete h.newEmail),await Pe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:h,headers:this.headers,xform:av,redirectTo:s?.redirectTo})}catch(s){if(we(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(r){try{return await Pe(this.fetch,"POST",`${this.url}/admin/users`,{body:r,headers:this.headers,xform:si})}catch(s){if(we(s))return{data:{user:null},error:s};throw s}}async listUsers(r){var s,u,h,p,m,_,y;try{const S={nextPage:null,lastPage:0,total:0},P=await Pe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(u=(s=r?.page)===null||s===void 0?void 0:s.toString())!==null&&u!==void 0?u:"",per_page:(p=(h=r?.perPage)===null||h===void 0?void 0:h.toString())!==null&&p!==void 0?p:""},xform:bf});if(P.error)throw P.error;const O=await P.json(),E=(m=P.headers.get("x-total-count"))!==null&&m!==void 0?m:0,R=(y=(_=P.headers.get("link"))===null||_===void 0?void 0:_.split(","))!==null&&y!==void 0?y:[];return R.length>0&&(R.forEach(U=>{const j=parseInt(U.split(";")[0].split("=")[1].substring(0,1)),D=JSON.parse(U.split(";")[1].split("=")[1]);S[`${D}Page`]=j}),S.total=parseInt(E)),{data:Object.assign(Object.assign({},O),S),error:null}}catch(S){if(we(S))return{data:{users:[]},error:S};throw S}}async getUserById(r){Fs(r);try{return await Pe(this.fetch,"GET",`${this.url}/admin/users/${r}`,{headers:this.headers,xform:si})}catch(s){if(we(s))return{data:{user:null},error:s};throw s}}async updateUserById(r,s){Fs(r);try{return await Pe(this.fetch,"PUT",`${this.url}/admin/users/${r}`,{body:s,headers:this.headers,xform:si})}catch(u){if(we(u))return{data:{user:null},error:u};throw u}}async deleteUser(r,s=!1){Fs(r);try{return await Pe(this.fetch,"DELETE",`${this.url}/admin/users/${r}`,{headers:this.headers,body:{should_soft_delete:s},xform:si})}catch(u){if(we(u))return{data:{user:null},error:u};throw u}}async _listFactors(r){Fs(r.userId);try{const{data:s,error:u}=await Pe(this.fetch,"GET",`${this.url}/admin/users/${r.userId}/factors`,{headers:this.headers,xform:h=>({data:{factors:h},error:null})});return{data:s,error:u}}catch(s){if(we(s))return{data:null,error:s};throw s}}async _deleteFactor(r){Fs(r.userId),Fs(r.id);try{return{data:await Pe(this.fetch,"DELETE",`${this.url}/admin/users/${r.userId}/factors/${r.id}`,{headers:this.headers}),error:null}}catch(s){if(we(s))return{data:null,error:s};throw s}}async _listOAuthClients(r){var s,u,h,p,m,_,y;try{const S={nextPage:null,lastPage:0,total:0},P=await Pe(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(u=(s=r?.page)===null||s===void 0?void 0:s.toString())!==null&&u!==void 0?u:"",per_page:(p=(h=r?.perPage)===null||h===void 0?void 0:h.toString())!==null&&p!==void 0?p:""},xform:bf});if(P.error)throw P.error;const O=await P.json(),E=(m=P.headers.get("x-total-count"))!==null&&m!==void 0?m:0,R=(y=(_=P.headers.get("link"))===null||_===void 0?void 0:_.split(","))!==null&&y!==void 0?y:[];return R.length>0&&(R.forEach(U=>{const j=parseInt(U.split(";")[0].split("=")[1].substring(0,1)),D=JSON.parse(U.split(";")[1].split("=")[1]);S[`${D}Page`]=j}),S.total=parseInt(E)),{data:Object.assign(Object.assign({},O),S),error:null}}catch(S){if(we(S))return{data:{clients:[]},error:S};throw S}}async _createOAuthClient(r){try{return await Pe(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:r,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(we(s))return{data:null,error:s};throw s}}async _getOAuthClient(r){try{return await Pe(this.fetch,"GET",`${this.url}/admin/oauth/clients/${r}`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(we(s))return{data:null,error:s};throw s}}async _updateOAuthClient(r,s){try{return await Pe(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${r}`,{body:s,headers:this.headers,xform:u=>({data:u,error:null})})}catch(u){if(we(u))return{data:null,error:u};throw u}}async _deleteOAuthClient(r){try{return await Pe(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${r}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(s){if(we(s))return{data:null,error:s};throw s}}async _regenerateOAuthClientSecret(r){try{return await Pe(this.fetch,"POST",`${this.url}/admin/oauth/clients/${r}/regenerate_secret`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(we(s))return{data:null,error:s};throw s}}}function Sf(o={}){return{getItem:r=>o[r]||null,setItem:(r,s)=>{o[r]=s},removeItem:r=>{delete o[r]}}}const $s={debug:!!(globalThis&&Yf()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class ep extends Error{constructor(r){super(r),this.isAcquireTimeout=!0}}class cv extends ep{}async function hv(o,r,s){$s.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",o,r);const u=new globalThis.AbortController;return r>0&&setTimeout(()=>{u.abort(),$s.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",o)},r),await Promise.resolve().then(()=>globalThis.navigator.locks.request(o,r===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:u.signal},async h=>{if(h){$s.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",o,h.name);try{return await s()}finally{$s.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",o,h.name)}}else{if(r===0)throw $s.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",o),new cv(`Acquiring an exclusive Navigator LockManager lock "${o}" immediately failed`);if($s.debug)try{const p=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(p,null,"  "))}catch(p){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",p)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}function dv(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function tp(o){if(!/^0x[a-fA-F0-9]{40}$/.test(o))throw new Error(`@supabase/auth-js: Address "${o}" is invalid.`);return o.toLowerCase()}function fv(o){return parseInt(o,16)}function pv(o){const r=new TextEncoder().encode(o);return"0x"+Array.from(r,u=>u.toString(16).padStart(2,"0")).join("")}function mv(o){var r;const{chainId:s,domain:u,expirationTime:h,issuedAt:p=new Date,nonce:m,notBefore:_,requestId:y,resources:S,scheme:P,uri:O,version:E}=o;{if(!Number.isInteger(s))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${s}`);if(!u)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(m&&m.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${m}`);if(!O)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(E!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${E}`);if(!((r=o.statement)===null||r===void 0)&&r.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${o.statement}`)}const R=tp(o.address),U=P?`${P}://${u}`:u,j=o.statement?`${o.statement}
`:"",D=`${U} wants you to sign in with your Ethereum account:
${R}

${j}`;let X=`URI: ${O}
Version: ${E}
Chain ID: ${s}${m?`
Nonce: ${m}`:""}
Issued At: ${p.toISOString()}`;if(h&&(X+=`
Expiration Time: ${h.toISOString()}`),_&&(X+=`
Not Before: ${_.toISOString()}`),y&&(X+=`
Request ID: ${y}`),S){let te=`
Resources:`;for(const J of S){if(!J||typeof J!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${J}`);te+=`
- ${J}`}X+=te}return`${D}
${X}`}class ht extends Error{constructor({message:r,code:s,cause:u,name:h}){var p;super(r,{cause:u}),this.__isWebAuthnError=!0,this.name=(p=h??(u instanceof Error?u.name:void 0))!==null&&p!==void 0?p:"Unknown Error",this.code=s}}class Wl extends ht{constructor(r,s){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s,message:r}),this.name="WebAuthnUnknownError",this.originalError=s}}function gv({error:o,options:r}){var s,u,h;const{publicKey:p}=r;if(!p)throw Error("options was missing required publicKey property");if(o.name==="AbortError"){if(r.signal instanceof AbortSignal)return new ht({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:o})}else if(o.name==="ConstraintError"){if(((s=p.authenticatorSelection)===null||s===void 0?void 0:s.requireResidentKey)===!0)return new ht({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:o});if(r.mediation==="conditional"&&((u=p.authenticatorSelection)===null||u===void 0?void 0:u.userVerification)==="required")return new ht({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:o});if(((h=p.authenticatorSelection)===null||h===void 0?void 0:h.userVerification)==="required")return new ht({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:o})}else{if(o.name==="InvalidStateError")return new ht({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:o});if(o.name==="NotAllowedError")return new ht({message:o.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:o});if(o.name==="NotSupportedError")return p.pubKeyCredParams.filter(_=>_.type==="public-key").length===0?new ht({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:o}):new ht({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:o});if(o.name==="SecurityError"){const m=window.location.hostname;if(np(m)){if(p.rp.id!==m)return new ht({message:`The RP ID "${p.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:o})}else return new ht({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:o})}else if(o.name==="TypeError"){if(p.user.id.byteLength<1||p.user.id.byteLength>64)return new ht({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:o})}else if(o.name==="UnknownError")return new ht({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:o})}return new ht({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:o})}function vv({error:o,options:r}){const{publicKey:s}=r;if(!s)throw Error("options was missing required publicKey property");if(o.name==="AbortError"){if(r.signal instanceof AbortSignal)return new ht({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:o})}else{if(o.name==="NotAllowedError")return new ht({message:o.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:o});if(o.name==="SecurityError"){const u=window.location.hostname;if(np(u)){if(s.rpId!==u)return new ht({message:`The RP ID "${s.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:o})}else return new ht({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:o})}else if(o.name==="UnknownError")return new ht({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:o})}return new ht({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:o})}class _v{createNewAbortSignal(){if(this.controller){const s=new Error("Cancelling existing WebAuthn API call for new one");s.name="AbortError",this.controller.abort(s)}const r=new AbortController;return this.controller=r,r.signal}cancelCeremony(){if(this.controller){const r=new Error("Manually cancelling existing WebAuthn API call");r.name="AbortError",this.controller.abort(r),this.controller=void 0}}}const yv=new _v;function wv(o){if(!o)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(o);const{challenge:r,user:s,excludeCredentials:u}=o,h=Gl(o,["challenge","user","excludeCredentials"]),p=Ks(r).buffer,m=Object.assign(Object.assign({},s),{id:Ks(s.id).buffer}),_=Object.assign(Object.assign({},h),{challenge:p,user:m});if(u&&u.length>0){_.excludeCredentials=new Array(u.length);for(let y=0;y<u.length;y++){const S=u[y];_.excludeCredentials[y]=Object.assign(Object.assign({},S),{id:Ks(S.id).buffer,type:S.type||"public-key",transports:S.transports})}}return _}function xv(o){if(!o)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(o);const{challenge:r,allowCredentials:s}=o,u=Gl(o,["challenge","allowCredentials"]),h=Ks(r).buffer,p=Object.assign(Object.assign({},u),{challenge:h});if(s&&s.length>0){p.allowCredentials=new Array(s.length);for(let m=0;m<s.length;m++){const _=s[m];p.allowCredentials[m]=Object.assign(Object.assign({},_),{id:Ks(_.id).buffer,type:_.type||"public-key",transports:_.transports})}}return p}function bv(o){var r;if("toJSON"in o&&typeof o.toJSON=="function")return o.toJSON();const s=o;return{id:o.id,rawId:o.id,response:{attestationObject:Wi(new Uint8Array(o.response.attestationObject)),clientDataJSON:Wi(new Uint8Array(o.response.clientDataJSON))},type:"public-key",clientExtensionResults:o.getClientExtensionResults(),authenticatorAttachment:(r=s.authenticatorAttachment)!==null&&r!==void 0?r:void 0}}function Sv(o){var r;if("toJSON"in o&&typeof o.toJSON=="function")return o.toJSON();const s=o,u=o.getClientExtensionResults(),h=o.response;return{id:o.id,rawId:o.id,response:{authenticatorData:Wi(new Uint8Array(h.authenticatorData)),clientDataJSON:Wi(new Uint8Array(h.clientDataJSON)),signature:Wi(new Uint8Array(h.signature)),userHandle:h.userHandle?Wi(new Uint8Array(h.userHandle)):void 0},type:"public-key",clientExtensionResults:u,authenticatorAttachment:(r=s.authenticatorAttachment)!==null&&r!==void 0?r:void 0}}function np(o){return o==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(o)}function kf(){var o,r;return!!(Pt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((o=navigator?.credentials)===null||o===void 0?void 0:o.create)=="function"&&typeof((r=navigator?.credentials)===null||r===void 0?void 0:r.get)=="function")}async function kv(o){try{const r=await navigator.credentials.create(o);return r?r instanceof PublicKeyCredential?{data:r,error:null}:{data:null,error:new Wl("Browser returned unexpected credential type",r)}:{data:null,error:new Wl("Empty credential response",r)}}catch(r){return{data:null,error:gv({error:r,options:o})}}}async function Pv(o){try{const r=await navigator.credentials.get(o);return r?r instanceof PublicKeyCredential?{data:r,error:null}:{data:null,error:new Wl("Browser returned unexpected credential type",r)}:{data:null,error:new Wl("Empty credential response",r)}}catch(r){return{data:null,error:vv({error:r,options:o})}}}const Ev={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},Tv={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Vl(...o){const r=h=>h!==null&&typeof h=="object"&&!Array.isArray(h),s=h=>h instanceof ArrayBuffer||ArrayBuffer.isView(h),u={};for(const h of o)if(h)for(const p in h){const m=h[p];if(m!==void 0)if(Array.isArray(m))u[p]=m;else if(s(m))u[p]=m;else if(r(m)){const _=u[p];r(_)?u[p]=Vl(_,m):u[p]=Vl(m)}else u[p]=m}return u}function Cv(o,r){return Vl(Ev,o,r||{})}function Ov(o,r){return Vl(Tv,o,r||{})}class Lv{constructor(r){this.client=r,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(r){return this.client.mfa.enroll(Object.assign(Object.assign({},r),{factorType:"webauthn"}))}async _challenge({factorId:r,webauthn:s,friendlyName:u,signal:h},p){try{const{data:m,error:_}=await this.client.mfa.challenge({factorId:r,webauthn:s});if(!m)return{data:null,error:_};const y=h??yv.createNewAbortSignal();if(m.webauthn.type==="create"){const{user:S}=m.webauthn.credential_options.publicKey;S.name||(S.name=`${S.id}:${u}`),S.displayName||(S.displayName=S.name)}switch(m.webauthn.type){case"create":{const S=Cv(m.webauthn.credential_options.publicKey,p?.create),{data:P,error:O}=await kv({publicKey:S,signal:y});return P?{data:{factorId:r,challengeId:m.id,webauthn:{type:m.webauthn.type,credential_response:P}},error:null}:{data:null,error:O}}case"request":{const S=Ov(m.webauthn.credential_options.publicKey,p?.request),{data:P,error:O}=await Pv(Object.assign(Object.assign({},m.webauthn.credential_options),{publicKey:S,signal:y}));return P?{data:{factorId:r,challengeId:m.id,webauthn:{type:m.webauthn.type,credential_response:P}},error:null}:{data:null,error:O}}}}catch(m){return we(m)?{data:null,error:m}:{data:null,error:new $i("Unexpected error in challenge",m)}}}async _verify({challengeId:r,factorId:s,webauthn:u}){return this.client.mfa.verify({factorId:s,challengeId:r,webauthn:u})}async _authenticate({factorId:r,webauthn:{rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:u=typeof window<"u"?[window.location.origin]:void 0,signal:h}={}},p){if(!s)return{data:null,error:new aa("rpId is required for WebAuthn authentication")};try{if(!kf())return{data:null,error:new $i("Browser does not support WebAuthn",null)};const{data:m,error:_}=await this.challenge({factorId:r,webauthn:{rpId:s,rpOrigins:u},signal:h},{request:p});if(!m)return{data:null,error:_};const{webauthn:y}=m;return this._verify({factorId:r,challengeId:m.challengeId,webauthn:{type:y.type,rpId:s,rpOrigins:u,credential_response:y.credential_response}})}catch(m){return we(m)?{data:null,error:m}:{data:null,error:new $i("Unexpected error in authenticate",m)}}}async _register({friendlyName:r,webauthn:{rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:u=typeof window<"u"?[window.location.origin]:void 0,signal:h}={}},p){if(!s)return{data:null,error:new aa("rpId is required for WebAuthn registration")};try{if(!kf())return{data:null,error:new $i("Browser does not support WebAuthn",null)};const{data:m,error:_}=await this._enroll({friendlyName:r});if(!m)return await this.client.mfa.listFactors().then(P=>{var O;return(O=P.data)===null||O===void 0?void 0:O.all.find(E=>E.factor_type==="webauthn"&&E.friendly_name===r&&E.status!=="unverified")}).then(P=>P?this.client.mfa.unenroll({factorId:P?.id}):void 0),{data:null,error:_};const{data:y,error:S}=await this._challenge({factorId:m.id,friendlyName:m.friendly_name,webauthn:{rpId:s,rpOrigins:u},signal:h},{create:p});return y?this._verify({factorId:m.id,challengeId:y.challengeId,webauthn:{rpId:s,rpOrigins:u,type:y.webauthn.type,credential_response:y.webauthn.credential_response}}):{data:null,error:S}}catch(m){return we(m)?{data:null,error:m}:{data:null,error:new $i("Unexpected error in register",m)}}}}dv();const Av={url:Tg,storageKey:Cg,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Og,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function Pf(o,r,s){return await s()}const Hs={};class la{get jwks(){var r,s;return(s=(r=Hs[this.storageKey])===null||r===void 0?void 0:r.jwks)!==null&&s!==void 0?s:{keys:[]}}set jwks(r){Hs[this.storageKey]=Object.assign(Object.assign({},Hs[this.storageKey]),{jwks:r})}get jwks_cached_at(){var r,s;return(s=(r=Hs[this.storageKey])===null||r===void 0?void 0:r.cachedAt)!==null&&s!==void 0?s:Number.MIN_SAFE_INTEGER}set jwks_cached_at(r){Hs[this.storageKey]=Object.assign(Object.assign({},Hs[this.storageKey]),{cachedAt:r})}constructor(r){var s,u,h;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const p=Object.assign(Object.assign({},Av),r);if(this.storageKey=p.storageKey,this.instanceID=(s=la.nextInstanceID[this.storageKey])!==null&&s!==void 0?s:0,la.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!p.debug,typeof p.debug=="function"&&(this.logger=p.debug),this.instanceID>0&&Pt()){const m=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(m),this.logDebugMessages&&console.trace(m)}if(this.persistSession=p.persistSession,this.autoRefreshToken=p.autoRefreshToken,this.admin=new uv({url:p.url,headers:p.headers,fetch:p.fetch}),this.url=p.url,this.headers=p.headers,this.fetch=Xf(p.fetch),this.lock=p.lock||Pf,this.detectSessionInUrl=p.detectSessionInUrl,this.flowType=p.flowType,this.hasCustomAuthorizationHeader=p.hasCustomAuthorizationHeader,this.throwOnError=p.throwOnError,this.lockAcquireTimeout=p.lockAcquireTimeout,p.lock?this.lock=p.lock:this.persistSession&&Pt()&&(!((u=globalThis?.navigator)===null||u===void 0)&&u.locks)?this.lock=hv:this.lock=Pf,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Lv(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(p.storage?this.storage=p.storage:Yf()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Sf(this.memoryStorage)),p.userStorage&&(this.userStorage=p.userStorage)):(this.memoryStorage={},this.storage=Sf(this.memoryStorage)),Pt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(m){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",m)}(h=this.broadcastChannel)===null||h===void 0||h.addEventListener("message",async m=>{this._debug("received broadcast notification from other tab or client",m);try{await this._notifyAllSubscribers(m.data.event,m.data.session,!1)}catch(_){this._debug("#broadcastChannel","error",_)}})}this.initialize().catch(m=>{this._debug("#initialize()","error",m)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(r){if(this.throwOnError&&r&&r.error)throw r.error;return r}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Kf}) ${new Date().toISOString()}`}_debug(...r){return this.logDebugMessages&&this.logger(this._logPrefix(),...r),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var r;try{let s={},u="none";if(Pt()&&(s=Hg(window.location.href),this._isImplicitGrantCallback(s)?u="implicit":await this._isPKCECallback(s)&&(u="pkce")),Pt()&&this.detectSessionInUrl&&u!=="none"){const{data:h,error:p}=await this._getSessionFromURL(s,u);if(p){if(this._debug("#_initialize()","error detecting session from URL",p),Rg(p)){const y=(r=p.details)===null||r===void 0?void 0:r.code;if(y==="identity_already_exists"||y==="identity_not_found"||y==="single_identity_not_deletable")return{error:p}}return{error:p}}const{session:m,redirectType:_}=h;return this._debug("#_initialize()","detected session in URL",m,"redirect type",_),await this._saveSession(m),setTimeout(async()=>{_==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",m):await this._notifyAllSubscribers("SIGNED_IN",m)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return we(s)?this._returnResult({error:s}):this._returnResult({error:new $i("Unexpected error during initialization",s)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(r){var s,u,h;try{const p=await Pe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(u=(s=r?.options)===null||s===void 0?void 0:s.data)!==null&&u!==void 0?u:{},gotrue_meta_security:{captcha_token:(h=r?.options)===null||h===void 0?void 0:h.captchaToken}},xform:An}),{data:m,error:_}=p;if(_||!m)return this._returnResult({data:{user:null,session:null},error:_});const y=m.session,S=m.user;return m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",y)),this._returnResult({data:{user:S,session:y},error:null})}catch(p){if(we(p))return this._returnResult({data:{user:null,session:null},error:p});throw p}}async signUp(r){var s,u,h;try{let p;if("email"in r){const{email:P,password:O,options:E}=r;let R=null,U=null;this.flowType==="pkce"&&([R,U]=await Us(this.storage,this.storageKey)),p=await Pe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:E?.emailRedirectTo,body:{email:P,password:O,data:(s=E?.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:E?.captchaToken},code_challenge:R,code_challenge_method:U},xform:An})}else if("phone"in r){const{phone:P,password:O,options:E}=r;p=await Pe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:P,password:O,data:(u=E?.data)!==null&&u!==void 0?u:{},channel:(h=E?.channel)!==null&&h!==void 0?h:"sms",gotrue_meta_security:{captcha_token:E?.captchaToken}},xform:An})}else throw new Bl("You must provide either an email or phone number and a password");const{data:m,error:_}=p;if(_||!m)return await kt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:_});const y=m.session,S=m.user;return m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",y)),this._returnResult({data:{user:S,session:y},error:null})}catch(p){if(await kt(this.storage,`${this.storageKey}-code-verifier`),we(p))return this._returnResult({data:{user:null,session:null},error:p});throw p}}async signInWithPassword(r){try{let s;if("email"in r){const{email:p,password:m,options:_}=r;s=await Pe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:p,password:m,gotrue_meta_security:{captcha_token:_?.captchaToken}},xform:xf})}else if("phone"in r){const{phone:p,password:m,options:_}=r;s=await Pe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:p,password:m,gotrue_meta_security:{captcha_token:_?.captchaToken}},xform:xf})}else throw new Bl("You must provide either an email or phone number and a password");const{data:u,error:h}=s;if(h)return this._returnResult({data:{user:null,session:null},error:h});if(!u||!u.session||!u.user){const p=new Bs;return this._returnResult({data:{user:null,session:null},error:p})}return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),this._returnResult({data:Object.assign({user:u.user,session:u.session},u.weak_password?{weakPassword:u.weak_password}:null),error:h})}catch(s){if(we(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithOAuth(r){var s,u,h,p;return await this._handleProviderSignIn(r.provider,{redirectTo:(s=r.options)===null||s===void 0?void 0:s.redirectTo,scopes:(u=r.options)===null||u===void 0?void 0:u.scopes,queryParams:(h=r.options)===null||h===void 0?void 0:h.queryParams,skipBrowserRedirect:(p=r.options)===null||p===void 0?void 0:p.skipBrowserRedirect})}async exchangeCodeForSession(r){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(r))}async signInWithWeb3(r){const{chain:s}=r;switch(s){case"ethereum":return await this.signInWithEthereum(r);case"solana":return await this.signInWithSolana(r);default:throw new Error(`@supabase/auth-js: Unsupported chain "${s}"`)}}async signInWithEthereum(r){var s,u,h,p,m,_,y,S,P,O,E;let R,U;if("message"in r)R=r.message,U=r.signature;else{const{chain:j,wallet:D,statement:X,options:te}=r;let J;if(Pt())if(typeof D=="object")J=D;else{const xe=window;if("ethereum"in xe&&typeof xe.ethereum=="object"&&"request"in xe.ethereum&&typeof xe.ethereum.request=="function")J=xe.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof D!="object"||!te?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");J=D}const se=new URL((s=te?.url)!==null&&s!==void 0?s:window.location.href),le=await J.request({method:"eth_requestAccounts"}).then(xe=>xe).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!le||le.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const ue=tp(le[0]);let fe=(u=te?.signInWithEthereum)===null||u===void 0?void 0:u.chainId;if(!fe){const xe=await J.request({method:"eth_chainId"});fe=fv(xe)}const Ae={domain:se.host,address:ue,statement:X,uri:se.href,version:"1",chainId:fe,nonce:(h=te?.signInWithEthereum)===null||h===void 0?void 0:h.nonce,issuedAt:(m=(p=te?.signInWithEthereum)===null||p===void 0?void 0:p.issuedAt)!==null&&m!==void 0?m:new Date,expirationTime:(_=te?.signInWithEthereum)===null||_===void 0?void 0:_.expirationTime,notBefore:(y=te?.signInWithEthereum)===null||y===void 0?void 0:y.notBefore,requestId:(S=te?.signInWithEthereum)===null||S===void 0?void 0:S.requestId,resources:(P=te?.signInWithEthereum)===null||P===void 0?void 0:P.resources};R=mv(Ae),U=await J.request({method:"personal_sign",params:[pv(R),ue]})}try{const{data:j,error:D}=await Pe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:R,signature:U},!((O=r.options)===null||O===void 0)&&O.captchaToken?{gotrue_meta_security:{captcha_token:(E=r.options)===null||E===void 0?void 0:E.captchaToken}}:null),xform:An});if(D)throw D;if(!j||!j.session||!j.user){const X=new Bs;return this._returnResult({data:{user:null,session:null},error:X})}return j.session&&(await this._saveSession(j.session),await this._notifyAllSubscribers("SIGNED_IN",j.session)),this._returnResult({data:Object.assign({},j),error:D})}catch(j){if(we(j))return this._returnResult({data:{user:null,session:null},error:j});throw j}}async signInWithSolana(r){var s,u,h,p,m,_,y,S,P,O,E,R;let U,j;if("message"in r)U=r.message,j=r.signature;else{const{chain:D,wallet:X,statement:te,options:J}=r;let se;if(Pt())if(typeof X=="object")se=X;else{const ue=window;if("solana"in ue&&typeof ue.solana=="object"&&("signIn"in ue.solana&&typeof ue.solana.signIn=="function"||"signMessage"in ue.solana&&typeof ue.solana.signMessage=="function"))se=ue.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof X!="object"||!J?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");se=X}const le=new URL((s=J?.url)!==null&&s!==void 0?s:window.location.href);if("signIn"in se&&se.signIn){const ue=await se.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},J?.signInWithSolana),{version:"1",domain:le.host,uri:le.href}),te?{statement:te}:null));let fe;if(Array.isArray(ue)&&ue[0]&&typeof ue[0]=="object")fe=ue[0];else if(ue&&typeof ue=="object"&&"signedMessage"in ue&&"signature"in ue)fe=ue;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in fe&&"signature"in fe&&(typeof fe.signedMessage=="string"||fe.signedMessage instanceof Uint8Array)&&fe.signature instanceof Uint8Array)U=typeof fe.signedMessage=="string"?fe.signedMessage:new TextDecoder().decode(fe.signedMessage),j=fe.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in se)||typeof se.signMessage!="function"||!("publicKey"in se)||typeof se!="object"||!se.publicKey||!("toBase58"in se.publicKey)||typeof se.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");U=[`${le.host} wants you to sign in with your Solana account:`,se.publicKey.toBase58(),...te?["",te,""]:[""],"Version: 1",`URI: ${le.href}`,`Issued At: ${(h=(u=J?.signInWithSolana)===null||u===void 0?void 0:u.issuedAt)!==null&&h!==void 0?h:new Date().toISOString()}`,...!((p=J?.signInWithSolana)===null||p===void 0)&&p.notBefore?[`Not Before: ${J.signInWithSolana.notBefore}`]:[],...!((m=J?.signInWithSolana)===null||m===void 0)&&m.expirationTime?[`Expiration Time: ${J.signInWithSolana.expirationTime}`]:[],...!((_=J?.signInWithSolana)===null||_===void 0)&&_.chainId?[`Chain ID: ${J.signInWithSolana.chainId}`]:[],...!((y=J?.signInWithSolana)===null||y===void 0)&&y.nonce?[`Nonce: ${J.signInWithSolana.nonce}`]:[],...!((S=J?.signInWithSolana)===null||S===void 0)&&S.requestId?[`Request ID: ${J.signInWithSolana.requestId}`]:[],...!((O=(P=J?.signInWithSolana)===null||P===void 0?void 0:P.resources)===null||O===void 0)&&O.length?["Resources",...J.signInWithSolana.resources.map(fe=>`- ${fe}`)]:[]].join(`
`);const ue=await se.signMessage(new TextEncoder().encode(U),"utf8");if(!ue||!(ue instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");j=ue}}try{const{data:D,error:X}=await Pe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:U,signature:Wi(j)},!((E=r.options)===null||E===void 0)&&E.captchaToken?{gotrue_meta_security:{captcha_token:(R=r.options)===null||R===void 0?void 0:R.captchaToken}}:null),xform:An});if(X)throw X;if(!D||!D.session||!D.user){const te=new Bs;return this._returnResult({data:{user:null,session:null},error:te})}return D.session&&(await this._saveSession(D.session),await this._notifyAllSubscribers("SIGNED_IN",D.session)),this._returnResult({data:Object.assign({},D),error:X})}catch(D){if(we(D))return this._returnResult({data:{user:null,session:null},error:D});throw D}}async _exchangeCodeForSession(r){const s=await Bi(this.storage,`${this.storageKey}-code-verifier`),[u,h]=(s??"").split("/");try{if(!u&&this.flowType==="pkce")throw new Ig;const{data:p,error:m}=await Pe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:r,code_verifier:u},xform:An});if(await kt(this.storage,`${this.storageKey}-code-verifier`),m)throw m;if(!p||!p.session||!p.user){const _=new Bs;return this._returnResult({data:{user:null,session:null,redirectType:null},error:_})}return p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),this._returnResult({data:Object.assign(Object.assign({},p),{redirectType:h??null}),error:m})}catch(p){if(await kt(this.storage,`${this.storageKey}-code-verifier`),we(p))return this._returnResult({data:{user:null,session:null,redirectType:null},error:p});throw p}}async signInWithIdToken(r){try{const{options:s,provider:u,token:h,access_token:p,nonce:m}=r,_=await Pe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:u,id_token:h,access_token:p,nonce:m,gotrue_meta_security:{captcha_token:s?.captchaToken}},xform:An}),{data:y,error:S}=_;if(S)return this._returnResult({data:{user:null,session:null},error:S});if(!y||!y.session||!y.user){const P=new Bs;return this._returnResult({data:{user:null,session:null},error:P})}return y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),this._returnResult({data:y,error:S})}catch(s){if(we(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithOtp(r){var s,u,h,p,m;try{if("email"in r){const{email:_,options:y}=r;let S=null,P=null;this.flowType==="pkce"&&([S,P]=await Us(this.storage,this.storageKey));const{error:O}=await Pe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:_,data:(s=y?.data)!==null&&s!==void 0?s:{},create_user:(u=y?.shouldCreateUser)!==null&&u!==void 0?u:!0,gotrue_meta_security:{captcha_token:y?.captchaToken},code_challenge:S,code_challenge_method:P},redirectTo:y?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:O})}if("phone"in r){const{phone:_,options:y}=r,{data:S,error:P}=await Pe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:_,data:(h=y?.data)!==null&&h!==void 0?h:{},create_user:(p=y?.shouldCreateUser)!==null&&p!==void 0?p:!0,gotrue_meta_security:{captcha_token:y?.captchaToken},channel:(m=y?.channel)!==null&&m!==void 0?m:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:S?.message_id},error:P})}throw new Bl("You must provide either an email or phone number.")}catch(_){if(await kt(this.storage,`${this.storageKey}-code-verifier`),we(_))return this._returnResult({data:{user:null,session:null},error:_});throw _}}async verifyOtp(r){var s,u;try{let h,p;"options"in r&&(h=(s=r.options)===null||s===void 0?void 0:s.redirectTo,p=(u=r.options)===null||u===void 0?void 0:u.captchaToken);const{data:m,error:_}=await Pe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},r),{gotrue_meta_security:{captcha_token:p}}),redirectTo:h,xform:An});if(_)throw _;if(!m)throw new Error("An error occurred on token verification.");const y=m.session,S=m.user;return y?.access_token&&(await this._saveSession(y),await this._notifyAllSubscribers(r.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",y)),this._returnResult({data:{user:S,session:y},error:null})}catch(h){if(we(h))return this._returnResult({data:{user:null,session:null},error:h});throw h}}async signInWithSSO(r){var s,u,h,p,m;try{let _=null,y=null;this.flowType==="pkce"&&([_,y]=await Us(this.storage,this.storageKey));const S=await Pe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in r?{provider_id:r.providerId}:null),"domain"in r?{domain:r.domain}:null),{redirect_to:(u=(s=r.options)===null||s===void 0?void 0:s.redirectTo)!==null&&u!==void 0?u:void 0}),!((h=r?.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:r.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:_,code_challenge_method:y}),headers:this.headers,xform:ov});return!((p=S.data)===null||p===void 0)&&p.url&&Pt()&&!(!((m=r.options)===null||m===void 0)&&m.skipBrowserRedirect)&&window.location.assign(S.data.url),this._returnResult(S)}catch(_){if(await kt(this.storage,`${this.storageKey}-code-verifier`),we(_))return this._returnResult({data:null,error:_});throw _}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async r=>{const{data:{session:s},error:u}=r;if(u)throw u;if(!s)throw new on;const{error:h}=await Pe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return this._returnResult({data:{user:null,session:null},error:h})})}catch(r){if(we(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async resend(r){try{const s=`${this.url}/resend`;if("email"in r){const{email:u,type:h,options:p}=r,{error:m}=await Pe(this.fetch,"POST",s,{headers:this.headers,body:{email:u,type:h,gotrue_meta_security:{captcha_token:p?.captchaToken}},redirectTo:p?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:m})}else if("phone"in r){const{phone:u,type:h,options:p}=r,{data:m,error:_}=await Pe(this.fetch,"POST",s,{headers:this.headers,body:{phone:u,type:h,gotrue_meta_security:{captcha_token:p?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:m?.message_id},error:_})}throw new Bl("You must provide either an email or phone number and a type")}catch(s){if(we(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async s=>s))}async _acquireLock(r,s){this._debug("#_acquireLock","begin",r);try{if(this.lockAcquired){const u=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),h=(async()=>(await u,await s()))();return this.pendingInLock.push((async()=>{try{await h}catch{}})()),h}return await this.lock(`lock:${this.storageKey}`,r,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const u=s();for(this.pendingInLock.push((async()=>{try{await u}catch{}})()),await u;this.pendingInLock.length;){const h=[...this.pendingInLock];await Promise.all(h),this.pendingInLock.splice(0,h.length)}return await u}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(r){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await r(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let r=null;const s=await Bi(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?r=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!r)return{data:{session:null},error:null};const u=r.expires_at?r.expires_at*1e3-Date.now()<Lc:!1;if(this._debug("#__loadSession()",`session has${u?"":" not"} expired`,"expires_at",r.expires_at),!u){if(this.userStorage){const m=await Bi(this.userStorage,this.storageKey+"-user");m?.user?r.user=m.user:r.user=jc()}if(this.storage.isServer&&r.user&&!r.user.__isUserNotAvailableProxy){const m={value:this.suppressGetSessionWarning};r.user=nv(r.user,m),m.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:r},error:null}}const{data:h,error:p}=await this._callRefreshToken(r.refresh_token);return p?this._returnResult({data:{session:null},error:p}):this._returnResult({data:{session:h},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(r){if(r)return await this._getUser(r);await this.initializePromise;const s=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return s.data.user&&(this.suppressGetSessionWarning=!0),s}async _getUser(r){try{return r?await Pe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:r,xform:si}):await this._useSession(async s=>{var u,h,p;const{data:m,error:_}=s;if(_)throw _;return!(!((u=m.session)===null||u===void 0)&&u.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new on}:await Pe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(p=(h=m.session)===null||h===void 0?void 0:h.access_token)!==null&&p!==void 0?p:void 0,xform:si})})}catch(s){if(we(s))return Ac(s)&&(await this._removeSession(),await kt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:s});throw s}}async updateUser(r,s={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(r,s))}async _updateUser(r,s={}){try{return await this._useSession(async u=>{const{data:h,error:p}=u;if(p)throw p;if(!h.session)throw new on;const m=h.session;let _=null,y=null;this.flowType==="pkce"&&r.email!=null&&([_,y]=await Us(this.storage,this.storageKey));const{data:S,error:P}=await Pe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s?.emailRedirectTo,body:Object.assign(Object.assign({},r),{code_challenge:_,code_challenge_method:y}),jwt:m.access_token,xform:si});if(P)throw P;return m.user=S.user,await this._saveSession(m),await this._notifyAllSubscribers("USER_UPDATED",m),this._returnResult({data:{user:m.user},error:null})})}catch(u){if(await kt(this.storage,`${this.storageKey}-code-verifier`),we(u))return this._returnResult({data:{user:null},error:u});throw u}}async setSession(r){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(r))}async _setSession(r){try{if(!r.access_token||!r.refresh_token)throw new on;const s=Date.now()/1e3;let u=s,h=!0,p=null;const{payload:m}=Fl(r.access_token);if(m.exp&&(u=m.exp,h=u<=s),h){const{data:_,error:y}=await this._callRefreshToken(r.refresh_token);if(y)return this._returnResult({data:{user:null,session:null},error:y});if(!_)return{data:{user:null,session:null},error:null};p=_}else{const{data:_,error:y}=await this._getUser(r.access_token);if(y)return this._returnResult({data:{user:null,session:null},error:y});p={access_token:r.access_token,refresh_token:r.refresh_token,user:_.user,token_type:"bearer",expires_in:u-s,expires_at:u},await this._saveSession(p),await this._notifyAllSubscribers("SIGNED_IN",p)}return this._returnResult({data:{user:p.user,session:p},error:null})}catch(s){if(we(s))return this._returnResult({data:{session:null,user:null},error:s});throw s}}async refreshSession(r){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(r))}async _refreshSession(r){try{return await this._useSession(async s=>{var u;if(!r){const{data:m,error:_}=s;if(_)throw _;r=(u=m.session)!==null&&u!==void 0?u:void 0}if(!r?.refresh_token)throw new on;const{data:h,error:p}=await this._callRefreshToken(r.refresh_token);return p?this._returnResult({data:{user:null,session:null},error:p}):h?this._returnResult({data:{user:h.user,session:h},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(s){if(we(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async _getSessionFromURL(r,s){try{if(!Pt())throw new Ul("No browser detected.");if(r.error||r.error_description||r.error_code)throw new Ul(r.error_description||"Error in URL with unspecified error_description",{error:r.error||"unspecified_error",code:r.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new pf("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ul("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!r.code)throw new pf("No code detected.");const{data:te,error:J}=await this._exchangeCodeForSession(r.code);if(J)throw J;const se=new URL(window.location.href);return se.searchParams.delete("code"),window.history.replaceState(window.history.state,"",se.toString()),{data:{session:te.session,redirectType:null},error:null}}const{provider_token:u,provider_refresh_token:h,access_token:p,refresh_token:m,expires_in:_,expires_at:y,token_type:S}=r;if(!p||!_||!m||!S)throw new Ul("No session defined in URL");const P=Math.round(Date.now()/1e3),O=parseInt(_);let E=P+O;y&&(E=parseInt(y));const R=E-P;R*1e3<=Zs&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${R}s, should have been closer to ${O}s`);const U=E-O;P-U>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",U,E,P):P-U<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",U,E,P);const{data:j,error:D}=await this._getUser(p);if(D)throw D;const X={provider_token:u,provider_refresh_token:h,access_token:p,expires_in:O,expires_at:E,refresh_token:m,token_type:S,user:j.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:X,redirectType:r.type},error:null})}catch(u){if(we(u))return this._returnResult({data:{session:null,redirectType:null},error:u});throw u}}_isImplicitGrantCallback(r){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),r):!!(r.access_token||r.error_description)}async _isPKCECallback(r){const s=await Bi(this.storage,`${this.storageKey}-code-verifier`);return!!(r.code&&s)}async signOut(r={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(r))}async _signOut({scope:r}={scope:"global"}){return await this._useSession(async s=>{var u;const{data:h,error:p}=s;if(p&&!Ac(p))return this._returnResult({error:p});const m=(u=h.session)===null||u===void 0?void 0:u.access_token;if(m){const{error:_}=await this.admin.signOut(m,r);if(_&&!(jg(_)&&(_.status===404||_.status===401||_.status===403)||Ac(_)))return this._returnResult({error:_})}return r!=="others"&&(await this._removeSession(),await kt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(r){const s=$g(),u={id:s,callback:r,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,u),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:u}}}async _emitInitialSession(r){return await this._useSession(async s=>{var u,h;try{const{data:{session:p},error:m}=s;if(m)throw m;await((u=this.stateChangeEmitters.get(r))===null||u===void 0?void 0:u.callback("INITIAL_SESSION",p)),this._debug("INITIAL_SESSION","callback id",r,"session",p)}catch(p){await((h=this.stateChangeEmitters.get(r))===null||h===void 0?void 0:h.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",r,"error",p),console.error(p)}})}async resetPasswordForEmail(r,s={}){let u=null,h=null;this.flowType==="pkce"&&([u,h]=await Us(this.storage,this.storageKey,!0));try{return await Pe(this.fetch,"POST",`${this.url}/recover`,{body:{email:r,code_challenge:u,code_challenge_method:h,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(p){if(await kt(this.storage,`${this.storageKey}-code-verifier`),we(p))return this._returnResult({data:null,error:p});throw p}}async getUserIdentities(){var r;try{const{data:s,error:u}=await this.getUser();if(u)throw u;return this._returnResult({data:{identities:(r=s.user.identities)!==null&&r!==void 0?r:[]},error:null})}catch(s){if(we(s))return this._returnResult({data:null,error:s});throw s}}async linkIdentity(r){return"token"in r?this.linkIdentityIdToken(r):this.linkIdentityOAuth(r)}async linkIdentityOAuth(r){var s;try{const{data:u,error:h}=await this._useSession(async p=>{var m,_,y,S,P;const{data:O,error:E}=p;if(E)throw E;const R=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,r.provider,{redirectTo:(m=r.options)===null||m===void 0?void 0:m.redirectTo,scopes:(_=r.options)===null||_===void 0?void 0:_.scopes,queryParams:(y=r.options)===null||y===void 0?void 0:y.queryParams,skipBrowserRedirect:!0});return await Pe(this.fetch,"GET",R,{headers:this.headers,jwt:(P=(S=O.session)===null||S===void 0?void 0:S.access_token)!==null&&P!==void 0?P:void 0})});if(h)throw h;return Pt()&&!(!((s=r.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(u?.url),this._returnResult({data:{provider:r.provider,url:u?.url},error:null})}catch(u){if(we(u))return this._returnResult({data:{provider:r.provider,url:null},error:u});throw u}}async linkIdentityIdToken(r){return await this._useSession(async s=>{var u;try{const{error:h,data:{session:p}}=s;if(h)throw h;const{options:m,provider:_,token:y,access_token:S,nonce:P}=r,O=await Pe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(u=p?.access_token)!==null&&u!==void 0?u:void 0,body:{provider:_,id_token:y,access_token:S,nonce:P,link_identity:!0,gotrue_meta_security:{captcha_token:m?.captchaToken}},xform:An}),{data:E,error:R}=O;return R?this._returnResult({data:{user:null,session:null},error:R}):!E||!E.session||!E.user?this._returnResult({data:{user:null,session:null},error:new Bs}):(E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("USER_UPDATED",E.session)),this._returnResult({data:E,error:R}))}catch(h){if(await kt(this.storage,`${this.storageKey}-code-verifier`),we(h))return this._returnResult({data:{user:null,session:null},error:h});throw h}})}async unlinkIdentity(r){try{return await this._useSession(async s=>{var u,h;const{data:p,error:m}=s;if(m)throw m;return await Pe(this.fetch,"DELETE",`${this.url}/user/identities/${r.identity_id}`,{headers:this.headers,jwt:(h=(u=p.session)===null||u===void 0?void 0:u.access_token)!==null&&h!==void 0?h:void 0})})}catch(s){if(we(s))return this._returnResult({data:null,error:s});throw s}}async _refreshAccessToken(r){const s=`#_refreshAccessToken(${r.substring(0,5)}...)`;this._debug(s,"begin");try{const u=Date.now();return await Zg(async h=>(h>0&&await Vg(200*Math.pow(2,h-1)),this._debug(s,"refreshing attempt",h),await Pe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:r},headers:this.headers,xform:An})),(h,p)=>{const m=200*Math.pow(2,h);return p&&Nc(p)&&Date.now()+m-u<Zs})}catch(u){if(this._debug(s,"error",u),we(u))return this._returnResult({data:{session:null,user:null},error:u});throw u}finally{this._debug(s,"end")}}_isValidSession(r){return typeof r=="object"&&r!==null&&"access_token"in r&&"refresh_token"in r&&"expires_at"in r}async _handleProviderSignIn(r,s){const u=await this._getUrlForProvider(`${this.url}/authorize`,r,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",r,"options",s,"url",u),Pt()&&!s.skipBrowserRedirect&&window.location.assign(u),{data:{provider:r,url:u},error:null}}async _recoverAndRefresh(){var r,s;const u="#_recoverAndRefresh()";this._debug(u,"begin");try{const h=await Bi(this.storage,this.storageKey);if(h&&this.userStorage){let m=await Bi(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!m&&(m={user:h.user},await qs(this.userStorage,this.storageKey+"-user",m)),h.user=(r=m?.user)!==null&&r!==void 0?r:jc()}else if(h&&!h.user&&!h.user){const m=await Bi(this.storage,this.storageKey+"-user");m&&m?.user?(h.user=m.user,await kt(this.storage,this.storageKey+"-user"),await qs(this.storage,this.storageKey,h)):h.user=jc()}if(this._debug(u,"session from storage",h),!this._isValidSession(h)){this._debug(u,"session is not valid"),h!==null&&await this._removeSession();return}const p=((s=h.expires_at)!==null&&s!==void 0?s:1/0)*1e3-Date.now()<Lc;if(this._debug(u,`session has${p?"":" not"} expired with margin of ${Lc}s`),p){if(this.autoRefreshToken&&h.refresh_token){const{error:m}=await this._callRefreshToken(h.refresh_token);m&&(console.error(m),Nc(m)||(this._debug(u,"refresh failed with a non-retryable error, removing the session",m),await this._removeSession()))}}else if(h.user&&h.user.__isUserNotAvailableProxy===!0)try{const{data:m,error:_}=await this._getUser(h.access_token);!_&&m?.user?(h.user=m.user,await this._saveSession(h),await this._notifyAllSubscribers("SIGNED_IN",h)):this._debug(u,"could not get user data, skipping SIGNED_IN notification")}catch(m){console.error("Error getting user data:",m),this._debug(u,"error getting user data, skipping SIGNED_IN notification",m)}else await this._notifyAllSubscribers("SIGNED_IN",h)}catch(h){this._debug(u,"error",h),console.error(h);return}finally{this._debug(u,"end")}}async _callRefreshToken(r){var s,u;if(!r)throw new on;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const h=`#_callRefreshToken(${r.substring(0,5)}...)`;this._debug(h,"begin");try{this.refreshingDeferred=new Ql;const{data:p,error:m}=await this._refreshAccessToken(r);if(m)throw m;if(!p.session)throw new on;await this._saveSession(p.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",p.session);const _={data:p.session,error:null};return this.refreshingDeferred.resolve(_),_}catch(p){if(this._debug(h,"error",p),we(p)){const m={data:null,error:p};return Nc(p)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(m),m}throw(u=this.refreshingDeferred)===null||u===void 0||u.reject(p),p}finally{this.refreshingDeferred=null,this._debug(h,"end")}}async _notifyAllSubscribers(r,s,u=!0){const h=`#_notifyAllSubscribers(${r})`;this._debug(h,"begin",s,`broadcast = ${u}`);try{this.broadcastChannel&&u&&this.broadcastChannel.postMessage({event:r,session:s});const p=[],m=Array.from(this.stateChangeEmitters.values()).map(async _=>{try{await _.callback(r,s)}catch(y){p.push(y)}});if(await Promise.all(m),p.length>0){for(let _=0;_<p.length;_+=1)console.error(p[_]);throw p[0]}}finally{this._debug(h,"end")}}async _saveSession(r){this._debug("#_saveSession()",r),this.suppressGetSessionWarning=!0,await kt(this.storage,`${this.storageKey}-code-verifier`);const s=Object.assign({},r),u=s.user&&s.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!u&&s.user&&await qs(this.userStorage,this.storageKey+"-user",{user:s.user});const h=Object.assign({},s);delete h.user;const p=yf(h);await qs(this.storage,this.storageKey,p)}else{const h=yf(s);await qs(this.storage,this.storageKey,h)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await kt(this.storage,this.storageKey),await kt(this.storage,this.storageKey+"-code-verifier"),await kt(this.storage,this.storageKey+"-user"),this.userStorage&&await kt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const r=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{r&&Pt()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",r)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const r=setInterval(()=>this._autoRefreshTokenTick(),Zs);this.autoRefreshTicker=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r);const s=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=s,s&&typeof s=="object"&&typeof s.unref=="function"?s.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(s)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const r=this.autoRefreshTicker;this.autoRefreshTicker=null,r&&clearInterval(r);const s=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,s&&clearTimeout(s)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const r=Date.now();try{return await this._useSession(async s=>{const{data:{session:u}}=s;if(!u||!u.refresh_token||!u.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const h=Math.floor((u.expires_at*1e3-r)/Zs);this._debug("#_autoRefreshTokenTick()",`access token expires in ${h} ticks, a tick lasts ${Zs}ms, refresh threshold is ${qc} ticks`),h<=qc&&await this._callRefreshToken(u.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(r){if(r.isAcquireTimeout||r instanceof ep)this._debug("auto refresh token tick lock not available");else throw r}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Pt()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(r){this._debug("#visibilityChangedCallback","error",r)}},window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(r){console.error("_handleVisibilityChange",r)}}async _onVisibilityChanged(r){const s=`#_onVisibilityChanged(${r})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),r||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(r,s,u){const h=[`provider=${encodeURIComponent(s)}`];if(u?.redirectTo&&h.push(`redirect_to=${encodeURIComponent(u.redirectTo)}`),u?.scopes&&h.push(`scopes=${encodeURIComponent(u.scopes)}`),this.flowType==="pkce"){const[p,m]=await Us(this.storage,this.storageKey),_=new URLSearchParams({code_challenge:`${encodeURIComponent(p)}`,code_challenge_method:`${encodeURIComponent(m)}`});h.push(_.toString())}if(u?.queryParams){const p=new URLSearchParams(u.queryParams);h.push(p.toString())}return u?.skipBrowserRedirect&&h.push(`skip_http_redirect=${u.skipBrowserRedirect}`),`${r}?${h.join("&")}`}async _unenroll(r){try{return await this._useSession(async s=>{var u;const{data:h,error:p}=s;return p?this._returnResult({data:null,error:p}):await Pe(this.fetch,"DELETE",`${this.url}/factors/${r.factorId}`,{headers:this.headers,jwt:(u=h?.session)===null||u===void 0?void 0:u.access_token})})}catch(s){if(we(s))return this._returnResult({data:null,error:s});throw s}}async _enroll(r){try{return await this._useSession(async s=>{var u,h;const{data:p,error:m}=s;if(m)return this._returnResult({data:null,error:m});const _=Object.assign({friendly_name:r.friendlyName,factor_type:r.factorType},r.factorType==="phone"?{phone:r.phone}:r.factorType==="totp"?{issuer:r.issuer}:{}),{data:y,error:S}=await Pe(this.fetch,"POST",`${this.url}/factors`,{body:_,headers:this.headers,jwt:(u=p?.session)===null||u===void 0?void 0:u.access_token});return S?this._returnResult({data:null,error:S}):(r.factorType==="totp"&&y.type==="totp"&&(!((h=y?.totp)===null||h===void 0)&&h.qr_code)&&(y.totp.qr_code=`data:image/svg+xml;utf-8,${y.totp.qr_code}`),this._returnResult({data:y,error:null}))})}catch(s){if(we(s))return this._returnResult({data:null,error:s});throw s}}async _verify(r){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async s=>{var u;const{data:h,error:p}=s;if(p)return this._returnResult({data:null,error:p});const m=Object.assign({challenge_id:r.challengeId},"webauthn"in r?{webauthn:Object.assign(Object.assign({},r.webauthn),{credential_response:r.webauthn.type==="create"?bv(r.webauthn.credential_response):Sv(r.webauthn.credential_response)})}:{code:r.code}),{data:_,error:y}=await Pe(this.fetch,"POST",`${this.url}/factors/${r.factorId}/verify`,{body:m,headers:this.headers,jwt:(u=h?.session)===null||u===void 0?void 0:u.access_token});return y?this._returnResult({data:null,error:y}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+_.expires_in},_)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",_),this._returnResult({data:_,error:y}))})}catch(s){if(we(s))return this._returnResult({data:null,error:s});throw s}})}async _challenge(r){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async s=>{var u;const{data:h,error:p}=s;if(p)return this._returnResult({data:null,error:p});const m=await Pe(this.fetch,"POST",`${this.url}/factors/${r.factorId}/challenge`,{body:r,headers:this.headers,jwt:(u=h?.session)===null||u===void 0?void 0:u.access_token});if(m.error)return m;const{data:_}=m;if(_.type!=="webauthn")return{data:_,error:null};switch(_.webauthn.type){case"create":return{data:Object.assign(Object.assign({},_),{webauthn:Object.assign(Object.assign({},_.webauthn),{credential_options:Object.assign(Object.assign({},_.webauthn.credential_options),{publicKey:wv(_.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},_),{webauthn:Object.assign(Object.assign({},_.webauthn),{credential_options:Object.assign(Object.assign({},_.webauthn.credential_options),{publicKey:xv(_.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(s){if(we(s))return this._returnResult({data:null,error:s});throw s}})}async _challengeAndVerify(r){const{data:s,error:u}=await this._challenge({factorId:r.factorId});return u?this._returnResult({data:null,error:u}):await this._verify({factorId:r.factorId,challengeId:s.id,code:r.code})}async _listFactors(){var r;const{data:{user:s},error:u}=await this.getUser();if(u)return{data:null,error:u};const h={all:[],phone:[],totp:[],webauthn:[]};for(const p of(r=s?.factors)!==null&&r!==void 0?r:[])h.all.push(p),p.status==="verified"&&h[p.factor_type].push(p);return{data:h,error:null}}async _getAuthenticatorAssuranceLevel(r){var s,u,h,p;if(r)try{const{payload:R}=Fl(r);let U=null;R.aal&&(U=R.aal);let j=U;const{data:{user:D},error:X}=await this.getUser(r);if(X)return this._returnResult({data:null,error:X});((u=(s=D?.factors)===null||s===void 0?void 0:s.filter(se=>se.status==="verified"))!==null&&u!==void 0?u:[]).length>0&&(j="aal2");const J=R.amr||[];return{data:{currentLevel:U,nextLevel:j,currentAuthenticationMethods:J},error:null}}catch(R){if(we(R))return this._returnResult({data:null,error:R});throw R}const{data:{session:m},error:_}=await this.getSession();if(_)return this._returnResult({data:null,error:_});if(!m)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:y}=Fl(m.access_token);let S=null;y.aal&&(S=y.aal);let P=S;((p=(h=m.user.factors)===null||h===void 0?void 0:h.filter(R=>R.status==="verified"))!==null&&p!==void 0?p:[]).length>0&&(P="aal2");const E=y.amr||[];return{data:{currentLevel:S,nextLevel:P,currentAuthenticationMethods:E},error:null}}async _getAuthorizationDetails(r){try{return await this._useSession(async s=>{const{data:{session:u},error:h}=s;return h?this._returnResult({data:null,error:h}):u?await Pe(this.fetch,"GET",`${this.url}/oauth/authorizations/${r}`,{headers:this.headers,jwt:u.access_token,xform:p=>({data:p,error:null})}):this._returnResult({data:null,error:new on})})}catch(s){if(we(s))return this._returnResult({data:null,error:s});throw s}}async _approveAuthorization(r,s){try{return await this._useSession(async u=>{const{data:{session:h},error:p}=u;if(p)return this._returnResult({data:null,error:p});if(!h)return this._returnResult({data:null,error:new on});const m=await Pe(this.fetch,"POST",`${this.url}/oauth/authorizations/${r}/consent`,{headers:this.headers,jwt:h.access_token,body:{action:"approve"},xform:_=>({data:_,error:null})});return m.data&&m.data.redirect_url&&Pt()&&!s?.skipBrowserRedirect&&window.location.assign(m.data.redirect_url),m})}catch(u){if(we(u))return this._returnResult({data:null,error:u});throw u}}async _denyAuthorization(r,s){try{return await this._useSession(async u=>{const{data:{session:h},error:p}=u;if(p)return this._returnResult({data:null,error:p});if(!h)return this._returnResult({data:null,error:new on});const m=await Pe(this.fetch,"POST",`${this.url}/oauth/authorizations/${r}/consent`,{headers:this.headers,jwt:h.access_token,body:{action:"deny"},xform:_=>({data:_,error:null})});return m.data&&m.data.redirect_url&&Pt()&&!s?.skipBrowserRedirect&&window.location.assign(m.data.redirect_url),m})}catch(u){if(we(u))return this._returnResult({data:null,error:u});throw u}}async _listOAuthGrants(){try{return await this._useSession(async r=>{const{data:{session:s},error:u}=r;return u?this._returnResult({data:null,error:u}):s?await Pe(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:s.access_token,xform:h=>({data:h,error:null})}):this._returnResult({data:null,error:new on})})}catch(r){if(we(r))return this._returnResult({data:null,error:r});throw r}}async _revokeOAuthGrant(r){try{return await this._useSession(async s=>{const{data:{session:u},error:h}=s;return h?this._returnResult({data:null,error:h}):u?(await Pe(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:u.access_token,query:{client_id:r.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new on})})}catch(s){if(we(s))return this._returnResult({data:null,error:s});throw s}}async fetchJwk(r,s={keys:[]}){let u=s.keys.find(_=>_.kid===r);if(u)return u;const h=Date.now();if(u=this.jwks.keys.find(_=>_.kid===r),u&&this.jwks_cached_at+Ag>h)return u;const{data:p,error:m}=await Pe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(m)throw m;return!p.keys||p.keys.length===0||(this.jwks=p,this.jwks_cached_at=h,u=p.keys.find(_=>_.kid===r),!u)?null:u}async getClaims(r,s={}){try{let u=r;if(!u){const{data:R,error:U}=await this.getSession();if(U||!R.session)return this._returnResult({data:null,error:U});u=R.session.access_token}const{header:h,payload:p,signature:m,raw:{header:_,payload:y}}=Fl(u);s?.allowExpired||Xg(p.exp);const S=!h.alg||h.alg.startsWith("HS")||!h.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(h.kid,s?.keys?{keys:s.keys}:s?.jwks);if(!S){const{error:R}=await this.getUser(u);if(R)throw R;return{data:{claims:p,header:h,signature:m},error:null}}const P=ev(h.alg),O=await crypto.subtle.importKey("jwk",S,P,!0,["verify"]);if(!await crypto.subtle.verify(P,O,m,Ug(`${_}.${y}`)))throw new Jc("Invalid JWT signature");return{data:{claims:p,header:h,signature:m},error:null}}catch(u){if(we(u))return this._returnResult({data:null,error:u});throw u}}}la.nextInstanceID={};const Nv=la,jv="2.93.1";let ea="";typeof Deno<"u"?ea="deno":typeof document<"u"?ea="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ea="react-native":ea="node";function Rv(){const o=globalThis.process;if(o&&o.platform){const r=o.platform;if(r==="darwin")return"macOS";if(r==="win32")return"Windows";if(r==="linux")return"Linux";if(r==="android")return"Android"}if(typeof navigator<"u"&&navigator.userAgentData&&navigator.userAgentData.platform){const r=navigator.userAgentData.platform;if(r==="macOS")return"macOS";if(r==="Windows")return"Windows";if(r==="Linux")return"Linux";if(r==="Android")return"Android";if(r==="iOS")return"iOS"}return null}function Iv(){const o=globalThis.process;if(o){const r=o.versions;if(r&&r.node&&typeof window>"u")try{const s=globalThis.require;if(s)return s("os").release()}catch{return null}}if(typeof Deno<"u"&&Deno.osRelease)try{return Deno.osRelease()}catch{return null}return typeof navigator<"u"&&navigator.userAgentData&&navigator.userAgentData.platformVersion?navigator.userAgentData.platformVersion:null}function Mv(){if(typeof Deno<"u")return"deno";if(typeof Bun<"u")return"bun";const o=globalThis.process;if(o){const r=o.versions;if(r&&r.node)return"node"}return null}function zv(){if(typeof Deno<"u"&&Deno.version)return Deno.version.deno;if(typeof Bun<"u"&&Bun.version)return Bun.version;const o=globalThis.process;if(o){const r=o.versions;if(r&&r.node)return r.node}return null}function Dv(){const o={"X-Client-Info":`supabase-js-${ea}/${jv}`},r=Rv();r&&(o["X-Supabase-Client-Platform"]=r);const s=Iv();s&&(o["X-Supabase-Client-Platform-Version"]=s);const u=Mv();u&&(o["X-Supabase-Client-Runtime"]=u);const h=zv();return h&&(o["X-Supabase-Client-Runtime-Version"]=h),o}const Bv=Dv(),Uv={headers:Bv},Fv={schema:"public"},$v={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Hv={};function ua(o){"@babel/helpers - typeof";return ua=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},ua(o)}function Wv(o,r){if(ua(o)!="object"||!o)return o;var s=o[Symbol.toPrimitive];if(s!==void 0){var u=s.call(o,r);if(ua(u)!="object")return u;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(o)}function Vv(o){var r=Wv(o,"string");return ua(r)=="symbol"?r:r+""}function Zv(o,r,s){return(r=Vv(r))in o?Object.defineProperty(o,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):o[r]=s,o}function Ef(o,r){var s=Object.keys(o);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(o);r&&(u=u.filter(function(h){return Object.getOwnPropertyDescriptor(o,h).enumerable})),s.push.apply(s,u)}return s}function at(o){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?Ef(Object(s),!0).forEach(function(u){Zv(o,u,s[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(s)):Ef(Object(s)).forEach(function(u){Object.defineProperty(o,u,Object.getOwnPropertyDescriptor(s,u))})}return o}const qv=o=>o?(...r)=>o(...r):(...r)=>fetch(...r),Gv=()=>Headers,Kv=(o,r,s)=>{const u=qv(s),h=Gv();return async(p,m)=>{var _;const y=(_=await r())!==null&&_!==void 0?_:o;let S=new h(m?.headers);return S.has("apikey")||S.set("apikey",o),S.has("Authorization")||S.set("Authorization",`Bearer ${y}`),u(p,at(at({},m),{},{headers:S}))}};function Jv(o){return o.endsWith("/")?o:o+"/"}function Qv(o,r){var s,u;const{db:h,auth:p,realtime:m,global:_}=o,{db:y,auth:S,realtime:P,global:O}=r,E={db:at(at({},y),h),auth:at(at({},S),p),realtime:at(at({},P),m),storage:{},global:at(at(at({},O),_),{},{headers:at(at({},(s=O?.headers)!==null&&s!==void 0?s:{}),(u=_?.headers)!==null&&u!==void 0?u:{})}),accessToken:async()=>""};return o.accessToken?E.accessToken=o.accessToken:delete E.accessToken,E}function Yv(o){const r=o?.trim();if(!r)throw new Error("supabaseUrl is required.");if(!r.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Jv(r))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var Xv=class extends Nv{constructor(o){super(o)}},e_=class{constructor(o,r,s){var u,h;this.supabaseUrl=o,this.supabaseKey=r;const p=Yv(o);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",p),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",p),this.storageUrl=new URL("storage/v1",p),this.functionsUrl=new URL("functions/v1",p);const m=`sb-${p.hostname.split(".")[0]}-auth-token`,_={db:Fv,realtime:Hv,auth:at(at({},$v),{},{storageKey:m}),global:Uv},y=Qv(s??{},_);if(this.storageKey=(u=y.auth.storageKey)!==null&&u!==void 0?u:"",this.headers=(h=y.global.headers)!==null&&h!==void 0?h:{},y.accessToken)this.accessToken=y.accessToken,this.auth=new Proxy({},{get:(P,O)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(O)} is not possible`)}});else{var S;this.auth=this._initSupabaseAuthClient((S=y.auth)!==null&&S!==void 0?S:{},this.headers,y.global.fetch)}this.fetch=Kv(r,this._getAccessToken.bind(this),y.global.fetch),this.realtime=this._initRealtimeClient(at({headers:this.headers,accessToken:this._getAccessToken.bind(this)},y.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(P=>this.realtime.setAuth(P)).catch(P=>console.warn("Failed to set initial Realtime auth token:",P)),this.rest=new Nm(new URL("rest/v1",p).href,{headers:this.headers,schema:y.db.schema,fetch:this.fetch}),this.storage=new Eg(this.storageUrl.href,this.headers,this.fetch,s?.storage),y.accessToken||this._listenForAuthEvents()}get functions(){return new Tm(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(o){return this.rest.from(o)}schema(o){return this.rest.schema(o)}rpc(o,r={},s={head:!1,get:!1,count:void 0}){return this.rest.rpc(o,r,s)}channel(o,r={config:{}}){return this.realtime.channel(o,r)}getChannels(){return this.realtime.getChannels()}removeChannel(o){return this.realtime.removeChannel(o)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var o=this,r,s;if(o.accessToken)return await o.accessToken();const{data:u}=await o.auth.getSession();return(r=(s=u.session)===null||s===void 0?void 0:s.access_token)!==null&&r!==void 0?r:o.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:o,persistSession:r,detectSessionInUrl:s,storage:u,userStorage:h,storageKey:p,flowType:m,lock:_,debug:y,throwOnError:S},P,O){const E={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Xv({url:this.authUrl.href,headers:at(at({},E),P),storageKey:p,autoRefreshToken:o,persistSession:r,detectSessionInUrl:s,storage:u,userStorage:h,flowType:m,lock:_,debug:y,throwOnError:S,fetch:O,hasCustomAuthorizationHeader:Object.keys(this.headers).some(R=>R.toLowerCase()==="authorization")})}_initRealtimeClient(o){return new Km(this.realtimeUrl.href,at(at({},o),{},{params:at(at({},{apikey:this.supabaseKey}),o?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((o,r)=>{this._handleTokenChanged(o,"CLIENT",r?.access_token)})}_handleTokenChanged(o,r,s){(o==="TOKEN_REFRESHED"||o==="SIGNED_IN")&&this.changedAccessToken!==s?(this.changedAccessToken=s,this.realtime.setAuth(s)):o==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const t_=(o,r,s)=>new e_(o,r,s);function n_(){if(typeof window<"u")return!1;const o=globalThis.process;if(!o)return!1;const r=o.version;if(r==null)return!1;const s=r.match(/^v(\d+)\./);return s?parseInt(s[1],10)<=18:!1}n_()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const r_=void 0,i_=void 0;console.error("Missing Supabase environment variables");const Bt=t_(r_,i_),sh=G.createContext({}),ha=()=>G.useContext(sh),s_=({children:o})=>{const[r,s]=G.useState(null),[u,h]=G.useState(null),[p,m]=G.useState(!0);G.useEffect(()=>{(async()=>{const{data:{session:j}}=await Bt.auth.getSession();s(j?.user??null),j?.user&&await _(j.user.id),m(!1)})();const{data:{subscription:U}}=Bt.auth.onAuthStateChange(async(j,D)=>{s(D?.user??null),D?.user?await _(D.user.id):h(null)});return()=>U.unsubscribe()},[]);const _=async R=>{const{data:U,error:j}=await Bt.from("profiles").select("*").eq("id",R).single();j?console.error("Error fetching profile:",j):h(U)},E={user:r,profile:u,loading:p,signUp:async(R,U,j)=>{m(!0);try{const{data:D,error:X}=await Bt.auth.signUp({email:R,password:U,options:{data:{username:j}}});if(X)throw X;return D.user&&(await Bt.from("profiles").insert({id:D.user.id,username:j,display_name:j,created_at:new Date().toISOString()}),await _(D.user.id)),{data:D,error:null}}catch(D){return{data:null,error:D}}finally{m(!1)}},signIn:async(R,U)=>{m(!0);try{const{data:j,error:D}=await Bt.auth.signInWithPassword({email:R,password:U});if(D)throw D;return{data:j,error:null}}catch(j){return{data:null,error:j}}finally{m(!1)}},signOut:async()=>{m(!0);try{const{error:R}=await Bt.auth.signOut();if(R)throw R;s(null),h(null)}catch(R){console.error("Sign out error:",R)}finally{m(!1)}},updateProfile:async R=>{if(!r)return{error:"No user logged in"};try{const{data:U,error:j}=await Bt.from("profiles").update(R).eq("id",r.id).select().single();return j||h(U),{data:U,error:j}}catch(U){return{data:null,error:U}}}};return x.jsx(sh.Provider,{value:E,children:o})},ii=[{id:"bar",name:"Bars",icon:"Beer",color:"bg-blue-500"},{id:"club",name:"Clubs",icon:"Music",color:"bg-purple-500"},{id:"lounge",name:"Lounges",icon:"Cocktail",color:"bg-pink-500"},{id:"brewery",name:"Breweries",icon:"Beer",color:"bg-amber-600"},{id:"sportsbar",name:"Sports Bars",icon:"Tv",color:"bg-green-500"},{id:"karaoke",name:"Karaoke",icon:"Microphone",color:"bg-red-500"},{id:"live_music",name:"Live Music",icon:"Guitar",color:"bg-yellow-500"},{id:"dance",name:"Dance Clubs",icon:"Users",color:"bg-indigo-500"},{id:"rooftop",name:"Rooftop",icon:"Umbrella",color:"bg-teal-500"},{id:"wine_bar",name:"Wine Bars",icon:"Wine",color:"bg-rose-500"}],Ws={lat:39.7589,lng:-84.1916,zoom:15},rp=G.createContext({}),Vi=()=>G.useContext(rp),o_=({children:o})=>{const[r,s]=G.useState(null),[u,h]=G.useState([Ws.lat,Ws.lng]),[p,m]=G.useState(Ws.zoom),[_,y]=G.useState(null),[S,P]=G.useState(["bar","club","lounge","brewery","sportsbar"]),[O,E]=G.useState(""),[R,U]=G.useState(0),j=G.useCallback(()=>{if(!navigator.geolocation){console.error("Geolocation not supported");return}return new Promise((le,ue)=>{navigator.geolocation.getCurrentPosition(fe=>{const Ae={lat:fe.coords.latitude,lng:fe.coords.longitude};s(Ae),h([Ae.lat,Ae.lng]),le(Ae)},fe=>{console.error("Error getting location:",fe),ue(fe)})})},[]),D=G.useCallback(le=>{P(ue=>ue.includes(le)?ue.filter(fe=>fe!==le):[...ue,le])},[]),X=G.useCallback((le,ue,fe=16)=>{h([le,ue]),m(fe)},[]),te=G.useCallback(()=>{h([Ws.lat,Ws.lng]),m(Ws.zoom),y(null)},[]),J=G.useCallback(()=>{r?(h([r.lat,r.lng]),m(16)):j()},[r,j]),se={userLocation:r,mapCenter:u,zoom:p,selectedPOI:_,activeFilters:S,searchQuery:O,northOrientation:R,setMapCenter:h,setZoom:m,setSelectedPOI:y,setSearchQuery:E,setNorthOrientation:U,getUserLocation:j,toggleFilter:D,flyToLocation:X,resetToDefault:te,resetToUserLocation:J,setActiveFilters:P};return x.jsx(rp.Provider,{value:se,children:o})},ip=G.createContext({}),vr=()=>G.useContext(ip),a_=({children:o})=>{const[r,s]=G.useState(!1),[u,h]=G.useState(!1),[p,m]=G.useState(!1),[_,y]=G.useState(!1),[S,P]=G.useState(!1),[O,E]=G.useState(!0),R=()=>{s(!0),h(!1)},U=()=>s(!1),j=()=>{h(Je=>!Je),s(!1)},D=()=>h(!1),xe={isSettingsOpen:r,isUserMenuOpen:u,isLoginModalOpen:p,isPOIRequestModalOpen:_,isProfileModalOpen:S,isFilterMenuOpen:O,openSettings:R,closeSettings:U,toggleUserMenu:j,closeUserMenu:D,openLoginModal:()=>{m(!0),D(),U()},closeLoginModal:()=>m(!1),openPOIRequestModal:()=>{y(!0),D()},closePOIRequestModal:()=>y(!1),openProfileModal:()=>{P(!0),D()},closeProfileModal:()=>P(!1),toggleFilterMenu:()=>E(Je=>!Je),closeAllModals:()=>{s(!1),h(!1),m(!1),y(!1),P(!1)}};return x.jsx(ip.Provider,{value:xe,children:o})};var sp={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Tf=yn.createContext&&yn.createContext(sp),oi=function(){return oi=Object.assign||function(o){for(var r,s=1,u=arguments.length;s<u;s++){r=arguments[s];for(var h in r)Object.prototype.hasOwnProperty.call(r,h)&&(o[h]=r[h])}return o},oi.apply(this,arguments)},l_=function(o,r){var s={};for(var u in o)Object.prototype.hasOwnProperty.call(o,u)&&r.indexOf(u)<0&&(s[u]=o[u]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var h=0,u=Object.getOwnPropertySymbols(o);h<u.length;h++)r.indexOf(u[h])<0&&Object.prototype.propertyIsEnumerable.call(o,u[h])&&(s[u[h]]=o[u[h]]);return s};function op(o){return o&&o.map(function(r,s){return yn.createElement(r.tag,oi({key:s},r.attr),op(r.child))})}function Ie(o){return function(r){return yn.createElement(u_,oi({attr:oi({},o.attr)},r),op(o.child))}}function u_(o){var r=function(s){var u=o.attr,h=o.size,p=o.title,m=l_(o,["attr","size","title"]),_=h||s.size||"1em",y;return s.className&&(y=s.className),o.className&&(y=(y?y+" ":"")+o.className),yn.createElement("svg",oi({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},s.attr,u,m,{className:y,style:oi(oi({color:o.color||s.color},s.style),o.style),height:_,width:_,xmlns:"http://www.w3.org/2000/svg"}),p&&yn.createElement("title",null,p),o.children)};return Tf!==void 0?yn.createElement(Tf.Consumer,null,function(s){return r(s)}):r(sp)}function ap(o){return Ie({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"}}]})(o)}function c_(o){return Ie({attr:{viewBox:"0 0 488 512"},child:[{tag:"path",attr:{d:"M488 261.8C488 403.3 391.1 504 248 504 110.8 504 0 393.2 0 256S110.8 8 248 8c66.8 0 123 24.5 166.3 64.9l-67.5 64.9C258.5 52.6 94.3 116.6 94.3 256c0 86.5 69.1 156.6 153.7 156.6 98.2 0 135-70.4 140.8-106.9H248v-85.3h236.1c2.3 12.7 3.9 24.9 3.9 41.4z"}}]})(o)}function h_(o){return Ie({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"}}]})(o)}function Qc(o){return Ie({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M368 96h-48V56c0-13.255-10.745-24-24-24H24C10.745 32 0 42.745 0 56v400c0 13.255 10.745 24 24 24h272c13.255 0 24-10.745 24-24v-42.11l80.606-35.977C429.396 365.063 448 336.388 448 304.86V176c0-44.112-35.888-80-80-80zm16 208.86a16.018 16.018 0 0 1-9.479 14.611L320 343.805V160h48c8.822 0 16 7.178 16 16v128.86zM208 384c-8.836 0-16-7.164-16-16V144c0-8.836 7.164-16 16-16s16 7.164 16 16v224c0 8.836-7.164 16-16 16zm-96 0c-8.836 0-16-7.164-16-16V144c0-8.836 7.164-16 16-16s16 7.164 16 16v224c0 8.836-7.164 16-16 16z"}}]})(o)}function d_(o){return Ie({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M512.509 192.001c-16.373-.064-32.03 2.955-46.436 8.495l-77.68-125.153A24 24 0 0 0 368.001 64h-64c-8.837 0-16 7.163-16 16v16c0 8.837 7.163 16 16 16h50.649l14.896 24H256.002v-16c0-8.837-7.163-16-16-16h-87.459c-13.441 0-24.777 10.999-24.536 24.437.232 13.044 10.876 23.563 23.995 23.563h48.726l-29.417 47.52c-13.433-4.83-27.904-7.483-42.992-7.52C58.094 191.83.412 249.012.002 319.236-.413 390.279 57.055 448 128.002 448c59.642 0 109.758-40.793 123.967-96h52.033a24 24 0 0 0 20.406-11.367L410.37 201.77l14.938 24.067c-25.455 23.448-41.385 57.081-41.307 94.437.145 68.833 57.899 127.051 126.729 127.719 70.606.685 128.181-55.803 129.255-125.996 1.086-70.941-56.526-129.72-127.476-129.996zM186.75 265.772c9.727 10.529 16.673 23.661 19.642 38.228h-43.306l23.664-38.228zM128.002 400c-44.112 0-80-35.888-80-80s35.888-80 80-80c5.869 0 11.586.653 17.099 1.859l-45.505 73.509C89.715 331.327 101.213 352 120.002 352h81.3c-12.37 28.225-40.562 48-73.3 48zm162.63-96h-35.624c-3.96-31.756-19.556-59.894-42.383-80.026L237.371 184h127.547l-74.286 120zm217.057 95.886c-41.036-2.165-74.049-35.692-75.627-76.755-.812-21.121 6.633-40.518 19.335-55.263l44.433 71.586c4.66 7.508 14.524 9.816 22.032 5.156l13.594-8.437c7.508-4.66 9.817-14.524 5.156-22.032l-44.468-71.643a79.901 79.901 0 0 1 19.858-2.497c44.112 0 80 35.888 80 80-.001 45.54-38.252 82.316-84.313 79.885z"}}]})(o)}function f_(o){return Ie({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M12 192h424c6.6 0 12 5.4 12 12v260c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V204c0-6.6 5.4-12 12-12zm436-44v-36c0-26.5-21.5-48-48-48h-48V12c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v52H160V12c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v52H48C21.5 64 0 85.5 0 112v36c0 6.6 5.4 12 12 12h424c6.6 0 12-5.4 12-12z"}}]})(o)}function p_(o){return Ie({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M512 144v288c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V144c0-26.5 21.5-48 48-48h88l12.3-32.9c7-18.7 24.9-31.1 44.9-31.1h125.5c20 0 37.9 12.4 44.9 31.1L376 96h88c26.5 0 48 21.5 48 48zM376 288c0-66.2-53.8-120-120-120s-120 53.8-120 120 53.8 120 120 120 120-53.8 120-120zm-32 0c0 48.5-39.5 88-88 88s-88-39.5-88-88 39.5-88 88-88 88 39.5 88 88z"}}]})(o)}function m_(o){return Ie({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M499.99 176h-59.87l-16.64-41.6C406.38 91.63 365.57 64 319.5 64h-127c-46.06 0-86.88 27.63-103.99 70.4L71.87 176H12.01C4.2 176-1.53 183.34.37 190.91l6 24C7.7 220.25 12.5 224 18.01 224h20.07C24.65 235.73 16 252.78 16 272v48c0 16.12 6.16 30.67 16 41.93V416c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32v-32h256v32c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32v-54.07c9.84-11.25 16-25.8 16-41.93v-48c0-19.22-8.65-36.27-22.07-48H494c5.51 0 10.31-3.75 11.64-9.09l6-24c1.89-7.57-3.84-14.91-11.65-14.91zm-352.06-17.83c7.29-18.22 24.94-30.17 44.57-30.17h127c19.63 0 37.28 11.95 44.57 30.17L384 208H128l19.93-49.83zM96 319.8c-19.2 0-32-12.76-32-31.9S76.8 256 96 256s48 28.71 48 47.85-28.8 15.95-48 15.95zm320 0c-19.2 0-48 3.19-48-15.95S396.8 256 416 256s32 12.76 32 31.9-12.8 31.9-32 31.9z"}}]})(o)}function g_(o){return Ie({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M296 464h-56V338.78l168.74-168.73c15.52-15.52 4.53-42.05-17.42-42.05H24.68c-21.95 0-32.94 26.53-17.42 42.05L176 338.78V464h-56c-22.09 0-40 17.91-40 40 0 4.42 3.58 8 8 8h240c4.42 0 8-3.58 8-8 0-22.09-17.91-40-40-40zM432 0c-62.61 0-115.35 40.2-135.18 96h52.54c16.65-28.55 47.27-48 82.64-48 52.93 0 96 43.06 96 96s-43.07 96-96 96c-14.04 0-27.29-3.2-39.32-8.64l-35.26 35.26C379.23 279.92 404.59 288 432 288c79.53 0 144-64.47 144-144S511.53 0 432 0z"}}]})(o)}function v_(o){return Ie({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"}}]})(o)}function lp(o){return Ie({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M225.38 233.37c-12.5 12.5-12.5 32.76 0 45.25 12.49 12.5 32.76 12.5 45.25 0 12.5-12.5 12.5-32.76 0-45.25-12.5-12.49-32.76-12.49-45.25 0zM248 8C111.03 8 0 119.03 0 256s111.03 248 248 248 248-111.03 248-248S384.97 8 248 8zm126.14 148.05L308.17 300.4a31.938 31.938 0 0 1-15.77 15.77l-144.34 65.97c-16.65 7.61-33.81-9.55-26.2-26.2l65.98-144.35a31.938 31.938 0 0 1 15.77-15.77l144.34-65.97c16.65-7.6 33.8 9.55 26.19 26.2z"}}]})(o)}function __(o){return Ie({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M500 224h-30.364C455.724 130.325 381.675 56.276 288 42.364V12c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v30.364C130.325 56.276 56.276 130.325 42.364 224H12c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h30.364C56.276 381.675 130.325 455.724 224 469.636V500c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12v-30.364C381.675 455.724 455.724 381.675 469.636 288H500c6.627 0 12-5.373 12-12v-40c0-6.627-5.373-12-12-12zM288 404.634V364c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40.634C165.826 392.232 119.783 346.243 107.366 288H148c6.627 0 12-5.373 12-12v-40c0-6.627-5.373-12-12-12h-40.634C119.768 165.826 165.757 119.783 224 107.366V148c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12v-40.634C346.174 119.768 392.217 165.757 404.634 224H364c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40.634C392.232 346.174 346.243 392.217 288 404.634zM288 256c0 17.673-14.327 32-32 32s-32-14.327-32-32c0-17.673 14.327-32 32-32s32 14.327 32 32z"}}]})(o)}function Cf(o){return Ie({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.61 233.32L278.68 9.39c-12.52-12.52-32.83-12.52-45.36 0L9.39 233.32c-12.52 12.53-12.52 32.83 0 45.36l223.93 223.93c12.52 12.53 32.83 12.53 45.36 0l223.93-223.93c12.52-12.53 12.52-32.83 0-45.36zm-100.98 12.56l-84.21 77.73c-5.12 4.73-13.43 1.1-13.43-5.88V264h-96v64c0 4.42-3.58 8-8 8h-32c-4.42 0-8-3.58-8-8v-80c0-17.67 14.33-32 32-32h112v-53.73c0-6.97 8.3-10.61 13.43-5.88l84.21 77.73c3.43 3.17 3.43 8.59 0 11.76z"}}]})(o)}function up(o){return Ie({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"}}]})(o)}function y_(o){return Ie({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"}}]})(o)}function w_(o){return Ie({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M432,320H400a16,16,0,0,0-16,16V448H64V128H208a16,16,0,0,0,16-16V80a16,16,0,0,0-16-16H48A48,48,0,0,0,0,112V464a48,48,0,0,0,48,48H400a48,48,0,0,0,48-48V336A16,16,0,0,0,432,320ZM488,0h-128c-21.37,0-32.05,25.91-17,41l35.73,35.73L135,320.37a24,24,0,0,0,0,34L157.67,377a24,24,0,0,0,34,0L435.28,133.32,471,169c15,15,41,4.5,41-17V24A24,24,0,0,0,488,0Z"}}]})(o)}function Yc(o){return Ie({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.976 0H24.028C2.71 0-8.047 25.866 7.058 40.971L192 225.941V432c0 7.831 3.821 15.17 10.237 19.662l80 55.98C298.02 518.69 320 507.493 320 487.98V225.941l184.947-184.97C520.021 25.896 509.338 0 487.976 0z"}}]})(o)}function x_(o){return Ie({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.63 39L473 9.37a32 32 0 0 0-45.26 0L381.46 55.7a35.14 35.14 0 0 0-8.53 13.79L360.77 106l-76.26 76.26c-12.16-8.76-25.5-15.74-40.1-19.14-33.45-7.78-67-.88-89.88 22a82.45 82.45 0 0 0-20.24 33.47c-6 18.56-23.21 32.69-42.15 34.46-23.7 2.27-45.73 11.45-62.61 28.44C-16.11 327-7.9 409 47.58 464.45S185 528 230.56 482.52c17-16.88 26.16-38.9 28.45-62.71 1.76-18.85 15.89-36.13 34.43-42.14a82.6 82.6 0 0 0 33.48-20.25c22.87-22.88 29.74-56.36 22-89.75-3.39-14.64-10.37-28-19.16-40.2L406 151.23l36.48-12.16a35.14 35.14 0 0 0 13.79-8.53l46.33-46.32a32 32 0 0 0 .03-45.22zM208 352a48 48 0 1 1 48-48 48 48 0 0 1-48 48z"}}]})(o)}function b_(o){return Ie({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M462.3 62.6C407.5 15.9 326 24.3 275.7 76.2L256 96.5l-19.7-20.3C186.1 24.3 104.5 15.9 49.7 62.6c-62.8 53.6-66.1 149.8-9.9 207.9l193.5 199.8c12.5 12.9 32.8 12.9 45.3 0l193.5-199.8c56.3-58.1 53-154.3-9.8-207.9z"}}]})(o)}function cp(o){return Ie({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"}}]})(o)}function S_(o){return Ie({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"}}]})(o)}function Of(o){return Ie({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zm-104 0H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z"}}]})(o)}function Xc(o){return Ie({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"}}]})(o)}function k_(o){return Ie({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M176 352c53.02 0 96-42.98 96-96V96c0-53.02-42.98-96-96-96S80 42.98 80 96v160c0 53.02 42.98 96 96 96zm160-160h-16c-8.84 0-16 7.16-16 16v48c0 74.8-64.49 134.82-140.79 127.38C96.71 376.89 48 317.11 48 250.3V208c0-8.84-7.16-16-16-16H16c-8.84 0-16 7.16-16 16v40.16c0 89.64 63.97 169.55 152 181.69V464H96c-8.84 0-16 7.16-16 16v16c0 8.84 7.16 16 16 16h160c8.84 0 16-7.16 16-16v-16c0-8.84-7.16-16-16-16h-56v-33.77C285.71 418.47 352 344.9 352 256v-48c0-8.84-7.16-16-16-16z"}}]})(o)}function P_(o){return Ie({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h384c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"}}]})(o)}function E_(o){return Ie({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M470.38 1.51L150.41 96A32 32 0 0 0 128 126.51v261.41A139 139 0 0 0 96 384c-53 0-96 28.66-96 64s43 64 96 64 96-28.66 96-64V214.32l256-75v184.61a138.4 138.4 0 0 0-32-3.93c-53 0-96 28.66-96 64s43 64 96 64 96-28.65 96-64V32a32 32 0 0 0-41.62-30.49z"}}]})(o)}function eh(o){return Ie({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"}}]})(o)}function Lf(o){return Ie({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M500.33 0h-47.41a12 12 0 0 0-12 12.57l4 82.76A247.42 247.42 0 0 0 256 8C119.34 8 7.9 119.53 8 256.19 8.1 393.07 119.1 504 256 504a247.1 247.1 0 0 0 166.18-63.91 12 12 0 0 0 .48-17.43l-34-34a12 12 0 0 0-16.38-.55A176 176 0 1 1 402.1 157.8l-101.53-4.87a12 12 0 0 0-12.57 12v47.41a12 12 0 0 0 12 12h200.33a12 12 0 0 0 12-12V12a12 12 0 0 0-12-12z"}}]})(o)}function T_(o){return Ie({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z"}}]})(o)}function C_(o){return Ie({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"}}]})(o)}function O_(o){return Ie({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M416 448h-84c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h84c17.7 0 32-14.3 32-32V160c0-17.7-14.3-32-32-32h-84c-6.6 0-12-5.4-12-12V76c0-6.6 5.4-12 12-12h84c53 0 96 43 96 96v192c0 53-43 96-96 96zm-47-201L201 79c-15-15-41-4.5-41 17v96H24c-13.3 0-24 10.7-24 24v96c0 13.3 10.7 24 24 24h136v96c0 21.5 26 32 41 17l168-168c9.3-9.4 9.3-24.6 0-34z"}}]})(o)}function L_(o){return Ie({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"}}]})(o)}function Yl(o){return Ie({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"}}]})(o)}function A_(o){return Ie({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M592 0H48A48 48 0 0 0 0 48v320a48 48 0 0 0 48 48h240v32H112a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16H352v-32h240a48 48 0 0 0 48-48V48a48 48 0 0 0-48-48zm-16 352H64V64h512z"}}]})(o)}function N_(o){return Ie({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M115.38 136.9l102.11 37.18c35.19-81.54 86.21-144.29 139-173.7-95.88-4.89-188.78 36.96-248.53 111.8-6.69 8.4-2.66 21.05 7.42 24.72zm132.25 48.16l238.48 86.83c35.76-121.38 18.7-231.66-42.63-253.98-7.4-2.7-15.13-4-23.09-4-58.02.01-128.27 69.17-172.76 171.15zM521.48 60.5c6.22 16.3 10.83 34.6 13.2 55.19 5.74 49.89-1.42 108.23-18.95 166.98l102.62 37.36c10.09 3.67 21.31-3.43 21.57-14.17 2.32-95.69-41.91-187.44-118.44-245.36zM560 447.98H321.06L386 269.5l-60.14-21.9-72.9 200.37H16c-8.84 0-16 7.16-16 16.01v32.01C0 504.83 7.16 512 16 512h544c8.84 0 16-7.17 16-16.01v-32.01c0-8.84-7.16-16-16-16z"}}]})(o)}function j_(o){return Ie({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M296 384h-80c-13.3 0-24-10.7-24-24V192h-87.7c-17.8 0-26.7-21.5-14.1-34.1L242.3 5.7c7.5-7.5 19.8-7.5 27.3 0l152.2 152.2c12.6 12.6 3.7 34.1-14.1 34.1H320v168c0 13.3-10.7 24-24 24zm216-8v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h136v8c0 30.9 25.1 56 56 56h80c30.9 0 56-25.1 56-56v-8h136c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"}}]})(o)}function R_(o){return Ie({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 96c48.6 0 88 39.4 88 88s-39.4 88-88 88-88-39.4-88-88 39.4-88 88-88zm0 344c-58.7 0-111.3-26.6-146.5-68.2 18.8-35.4 55.6-59.8 98.5-59.8 2.4 0 4.8.4 7.1 1.1 13 4.2 26.6 6.9 40.9 6.9 14.3 0 28-2.7 40.9-6.9 2.3-.7 4.7-1.1 7.1-1.1 42.9 0 79.7 24.4 98.5 59.8C359.3 421.4 306.7 448 248 448z"}}]})(o)}function Zl(o){return Ie({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"}}]})(o)}function I_(o){return Ie({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"}}]})(o)}function M_(o){return Ie({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M208 96c26.5 0 48-21.5 48-48S234.5 0 208 0s-48 21.5-48 48 21.5 48 48 48zm94.5 149.1l-23.3-11.8-9.7-29.4c-14.7-44.6-55.7-75.8-102.2-75.9-36-.1-55.9 10.1-93.3 25.2-21.6 8.7-39.3 25.2-49.7 46.2L17.6 213c-7.8 15.8-1.5 35 14.2 42.9 15.6 7.9 34.6 1.5 42.5-14.3L81 228c3.5-7 9.3-12.5 16.5-15.4l26.8-10.8-15.2 60.7c-5.2 20.8.4 42.9 14.9 58.8l59.9 65.4c7.2 7.9 12.3 17.4 14.9 27.7l18.3 73.3c4.3 17.1 21.7 27.6 38.8 23.3 17.1-4.3 27.6-21.7 23.3-38.8l-22.2-89c-2.6-10.3-7.7-19.9-14.9-27.7l-45.5-49.7 17.2-68.7 5.5 16.5c5.3 16.1 16.7 29.4 31.7 37l23.3 11.8c15.6 7.9 34.6 1.5 42.5-14.3 7.7-15.7 1.4-35.1-14.3-43zM73.6 385.8c-3.2 8.1-8 15.4-14.2 21.5l-50 50.1c-12.5 12.5-12.5 32.8 0 45.3s32.7 12.5 45.2 0l59.4-59.4c6.1-6.1 10.9-13.4 14.2-21.5l13.5-33.8c-55.3-60.3-38.7-41.8-47.4-53.7l-20.7 51.5z"}}]})(o)}function z_(o){return Ie({attr:{viewBox:"0 0 288 512"},child:[{tag:"path",attr:{d:"M216 464h-40V346.81c68.47-15.89 118.05-79.91 111.4-154.16l-15.95-178.1C270.71 6.31 263.9 0 255.74 0H32.26c-8.15 0-14.97 6.31-15.7 14.55L.6 192.66C-6.05 266.91 43.53 330.93 112 346.82V464H72c-22.09 0-40 17.91-40 40 0 4.42 3.58 8 8 8h208c4.42 0 8-3.58 8-8 0-22.09-17.91-40-40-40zM61.75 48h164.5l7.17 80H54.58l7.17-80z"}}]})(o)}const D_=()=>{const{resetToUserLocation:o,resetToDefault:r,northOrientation:s,setNorthOrientation:u}=Vi(),{toggleFilterMenu:h}=vr();return x.jsx("div",{className:"absolute right-2 top-16 w-64 bg-gray-800 rounded-xl shadow-2xl border border-gray-700 animate-slide-down z-50",children:x.jsxs("div",{className:"p-4",children:[x.jsx("h3",{className:"font-semibold text-lg mb-3 text-white",children:"Map Settings"}),x.jsxs("div",{className:"space-y-3",children:[x.jsxs("button",{onClick:o,className:"flex items-center w-full p-3 hover:bg-gray-700 rounded-lg transition-colors text-left",children:[x.jsx(Xc,{className:"mr-3 text-blue-400"}),x.jsxs("div",{children:[x.jsx("div",{className:"font-medium text-white",children:"Go to My Location"}),x.jsx("div",{className:"text-sm text-gray-400",children:"Center map on your position"})]})]}),x.jsxs("button",{onClick:r,className:"flex items-center w-full p-3 hover:bg-gray-700 rounded-lg transition-colors text-left",children:[x.jsx(Xc,{className:"mr-3 text-purple-400"}),x.jsxs("div",{children:[x.jsx("div",{className:"font-medium text-white",children:"Reset to Dayton"}),x.jsx("div",{className:"text-sm text-gray-400",children:"Center map on downtown"})]})]}),x.jsxs("button",{onClick:h,className:"flex items-center w-full p-3 hover:bg-gray-700 rounded-lg transition-colors text-left",children:[x.jsx(Yc,{className:"mr-3 text-green-400"}),x.jsxs("div",{children:[x.jsx("div",{className:"font-medium text-white",children:"Toggle Filters"}),x.jsx("div",{className:"text-sm text-gray-400",children:"Show/hide category filter"})]})]}),x.jsxs("div",{className:"pt-3 border-t border-gray-700",children:[x.jsxs("div",{className:"flex items-center justify-between mb-2",children:[x.jsxs("div",{className:"flex items-center",children:[x.jsx(lp,{className:"mr-3 text-yellow-400"}),x.jsx("span",{className:"font-medium text-white",children:"North Orientation"})]}),x.jsxs("span",{className:"text-gray-400",children:[s,""]})]}),x.jsx("input",{type:"range",min:"0",max:"360",value:s,onChange:p=>u(parseInt(p.target.value)),className:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer"})]})]})]})})},B_=()=>{const{user:o,profile:r,signOut:s}=ha(),{openLoginModal:u,openProfileModal:h,openPOIRequestModal:p,closeUserMenu:m}=vr(),_=async()=>{await s(),m()};return o?x.jsx("div",{className:"absolute right-2 top-16 w-72 bg-gray-800 rounded-xl shadow-2xl border border-gray-700 animate-slide-down z-50",children:x.jsxs("div",{className:"p-4",children:[x.jsxs("div",{className:"flex items-center mb-4",children:[x.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white font-bold text-xl",children:r?.username?.charAt(0).toUpperCase()||"U"}),x.jsxs("div",{className:"ml-3",children:[x.jsx("div",{className:"font-bold text-white",children:r?.display_name||r?.username||"User"}),x.jsxs("div",{className:"text-sm text-gray-400",children:["@",r?.username||"user"]})]})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsxs("button",{onClick:h,className:"flex items-center w-full p-3 hover:bg-gray-700 rounded-lg transition-colors text-left",children:[x.jsx(Zl,{className:"mr-3 text-blue-400"}),x.jsx("span",{className:"text-white",children:"My Profile"})]}),x.jsxs("button",{onClick:p,className:"flex items-center w-full p-3 hover:bg-gray-700 rounded-lg transition-colors text-left",children:[x.jsx(eh,{className:"mr-3 text-green-400"}),x.jsx("span",{className:"text-white",children:"Submit New Venue"})]}),x.jsxs("button",{onClick:_,className:"flex items-center w-full p-3 hover:bg-gray-700 rounded-lg transition-colors text-left text-red-400",children:[x.jsx(L_,{className:"mr-3"}),x.jsx("span",{children:"Sign Out"})]})]})]})}):x.jsx("div",{className:"absolute right-2 top-16 w-64 bg-gray-800 rounded-xl shadow-2xl border border-gray-700 animate-slide-down z-50",children:x.jsxs("div",{className:"p-4",children:[x.jsx("h3",{className:"font-semibold text-lg mb-3 text-white",children:"Guest User"}),x.jsx("p",{className:"text-gray-400 text-sm mb-4",children:"Create an account to save favorite places and submit new locations."}),x.jsxs("button",{onClick:u,className:"w-full bg-gradient-to-r from-blue-500 to-purple-600 text-white py-2 px-4 rounded-lg font-medium hover:opacity-90 transition-opacity flex items-center justify-center",children:[x.jsx(O_,{className:"mr-2"}),"Sign In / Register"]})]})})},U_=()=>{const{isSettingsOpen:o,isUserMenuOpen:r,openSettings:s,toggleUserMenu:u,closeAllModals:h}=vr();return x.jsxs("header",{className:"fixed top-0 left-0 right-0 z-50 bg-gray-900 bg-opacity-90 backdrop-blur-sm text-white p-3 flex justify-between items-center border-b border-gray-700 shadow-lg",children:[x.jsx("button",{className:"p-2 hover:bg-gray-800 rounded-lg transition-colors",onClick:h,children:x.jsx(h_,{size:22})}),x.jsx("div",{className:"text-xl font-bold tracking-tight",children:x.jsx("span",{className:"bg-gradient-to-r from-blue-400 to-purple-500 bg-clip-text text-transparent",children:"Dayton Nightlife"})}),x.jsxs("div",{className:"flex items-center space-x-2",children:[x.jsx("button",{onClick:s,className:`p-2 rounded-lg transition-colors ${o?"bg-gray-800":"hover:bg-gray-800"}`,children:x.jsx(v_,{size:22})}),x.jsx("button",{onClick:u,className:`p-2 rounded-lg transition-colors ${r?"bg-gray-800":"hover:bg-gray-800"}`,children:x.jsx(R_,{size:26})})]}),o&&x.jsx(D_,{}),r&&x.jsx(B_,{})]})};function hp(o,r){const s=G.useRef(r);G.useEffect(function(){r!==s.current&&o.attributionControl!=null&&(s.current!=null&&o.attributionControl.removeAttribution(s.current),r!=null&&o.attributionControl.addAttribution(r)),s.current=r},[o,r])}const F_=1;function $_(o){return Object.freeze({__version:F_,map:o})}function H_(o,r){return Object.freeze({...o,...r})}const dp=G.createContext(null),fp=dp.Provider;function oh(){const o=G.useContext(dp);if(o==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return o}function W_(o){function r(s,u){const{instance:h,context:p}=o(s).current;return G.useImperativeHandle(u,()=>h),s.children==null?null:yn.createElement(fp,{value:p},s.children)}return G.forwardRef(r)}function V_(o){function r(s,u){const[h,p]=G.useState(!1),{instance:m}=o(s,p).current;G.useImperativeHandle(u,()=>m),G.useEffect(function(){h&&m.update()},[m,h,s.children]);const _=m._contentNode;return _?hm.createPortal(s.children,_):null}return G.forwardRef(r)}function Z_(o){function r(s,u){const{instance:h}=o(s).current;return G.useImperativeHandle(u,()=>h),null}return G.forwardRef(r)}function pp(o,r){const s=G.useRef();G.useEffect(function(){return r!=null&&o.instance.on(r),s.current=r,function(){s.current!=null&&o.instance.off(s.current),s.current=null}},[o,r])}function ah(o,r){const s=o.pane??r.pane;return s?{...o,pane:s}:o}function q_(o,r){return function(u,h){const p=oh(),m=o(ah(u,p),p);return hp(p.map,u.attribution),pp(m.current,u.eventHandlers),r(m.current,p,u,h),m}}var ta={exports:{}};var G_=ta.exports,Af;function K_(){return Af||(Af=1,(function(o,r){(function(s,u){u(r)})(G_,(function(s){var u="1.9.4";function h(t){var i,l,d,v;for(l=1,d=arguments.length;l<d;l++){v=arguments[l];for(i in v)t[i]=v[i]}return t}var p=Object.create||(function(){function t(){}return function(i){return t.prototype=i,new t}})();function m(t,i){var l=Array.prototype.slice;if(t.bind)return t.bind.apply(t,l.call(arguments,1));var d=l.call(arguments,2);return function(){return t.apply(i,d.length?d.concat(l.call(arguments)):arguments)}}var _=0;function y(t){return"_leaflet_id"in t||(t._leaflet_id=++_),t._leaflet_id}function S(t,i,l){var d,v,b,T;return T=function(){d=!1,v&&(b.apply(l,v),v=!1)},b=function(){d?v=arguments:(t.apply(l,arguments),setTimeout(T,i),d=!0)},b}function P(t,i,l){var d=i[1],v=i[0],b=d-v;return t===d&&l?t:((t-v)%b+b)%b+v}function O(){return!1}function E(t,i){if(i===!1)return t;var l=Math.pow(10,i===void 0?6:i);return Math.round(t*l)/l}function R(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function U(t){return R(t).split(/\s+/)}function j(t,i){Object.prototype.hasOwnProperty.call(t,"options")||(t.options=t.options?p(t.options):{});for(var l in i)t.options[l]=i[l];return t.options}function D(t,i,l){var d=[];for(var v in t)d.push(encodeURIComponent(l?v.toUpperCase():v)+"="+encodeURIComponent(t[v]));return(!i||i.indexOf("?")===-1?"?":"&")+d.join("&")}var X=/\{ *([\w_ -]+) *\}/g;function te(t,i){return t.replace(X,function(l,d){var v=i[d];if(v===void 0)throw new Error("No value provided for variable "+l);return typeof v=="function"&&(v=v(i)),v})}var J=Array.isArray||function(t){return Object.prototype.toString.call(t)==="[object Array]"};function se(t,i){for(var l=0;l<t.length;l++)if(t[l]===i)return l;return-1}var le="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function ue(t){return window["webkit"+t]||window["moz"+t]||window["ms"+t]}var fe=0;function Ae(t){var i=+new Date,l=Math.max(0,16-(i-fe));return fe=i+l,window.setTimeout(t,l)}var xe=window.requestAnimationFrame||ue("RequestAnimationFrame")||Ae,Je=window.cancelAnimationFrame||ue("CancelAnimationFrame")||ue("CancelRequestAnimationFrame")||function(t){window.clearTimeout(t)};function Fe(t,i,l){if(l&&xe===Ae)t.call(i);else return xe.call(window,m(t,i))}function He(t){t&&Je.call(window,t)}var dt={__proto__:null,extend:h,create:p,bind:m,get lastId(){return _},stamp:y,throttle:S,wrapNum:P,falseFn:O,formatNum:E,trim:R,splitWords:U,setOptions:j,getParamString:D,template:te,isArray:J,indexOf:se,emptyImageUrl:le,requestFn:xe,cancelFn:Je,requestAnimFrame:Fe,cancelAnimFrame:He};function K(){}K.extend=function(t){var i=function(){j(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},l=i.__super__=this.prototype,d=p(l);d.constructor=i,i.prototype=d;for(var v in this)Object.prototype.hasOwnProperty.call(this,v)&&v!=="prototype"&&v!=="__super__"&&(i[v]=this[v]);return t.statics&&h(i,t.statics),t.includes&&(W(t.includes),h.apply(null,[d].concat(t.includes))),h(d,t),delete d.statics,delete d.includes,d.options&&(d.options=l.options?p(l.options):{},h(d.options,t.options)),d._initHooks=[],d.callInitHooks=function(){if(!this._initHooksCalled){l.callInitHooks&&l.callInitHooks.call(this),this._initHooksCalled=!0;for(var b=0,T=d._initHooks.length;b<T;b++)d._initHooks[b].call(this)}},i},K.include=function(t){var i=this.prototype.options;return h(this.prototype,t),t.options&&(this.prototype.options=i,this.mergeOptions(t.options)),this},K.mergeOptions=function(t){return h(this.prototype.options,t),this},K.addInitHook=function(t){var i=Array.prototype.slice.call(arguments,1),l=typeof t=="function"?t:function(){this[t].apply(this,i)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(l),this};function W(t){if(!(typeof L>"u"||!L||!L.Mixin)){t=J(t)?t:[t];for(var i=0;i<t.length;i++)t[i]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var M={on:function(t,i,l){if(typeof t=="object")for(var d in t)this._on(d,t[d],i);else{t=U(t);for(var v=0,b=t.length;v<b;v++)this._on(t[v],i,l)}return this},off:function(t,i,l){if(!arguments.length)delete this._events;else if(typeof t=="object")for(var d in t)this._off(d,t[d],i);else{t=U(t);for(var v=arguments.length===1,b=0,T=t.length;b<T;b++)v?this._off(t[b]):this._off(t[b],i,l)}return this},_on:function(t,i,l,d){if(typeof i!="function"){console.warn("wrong listener type: "+typeof i);return}if(this._listens(t,i,l)===!1){l===this&&(l=void 0);var v={fn:i,ctx:l};d&&(v.once=!0),this._events=this._events||{},this._events[t]=this._events[t]||[],this._events[t].push(v)}},_off:function(t,i,l){var d,v,b;if(this._events&&(d=this._events[t],!!d)){if(arguments.length===1){if(this._firingCount)for(v=0,b=d.length;v<b;v++)d[v].fn=O;delete this._events[t];return}if(typeof i!="function"){console.warn("wrong listener type: "+typeof i);return}var T=this._listens(t,i,l);if(T!==!1){var z=d[T];this._firingCount&&(z.fn=O,this._events[t]=d=d.slice()),d.splice(T,1)}}},fire:function(t,i,l){if(!this.listens(t,l))return this;var d=h({},i,{type:t,target:this,sourceTarget:i&&i.sourceTarget||this});if(this._events){var v=this._events[t];if(v){this._firingCount=this._firingCount+1||1;for(var b=0,T=v.length;b<T;b++){var z=v[b],$=z.fn;z.once&&this.off(t,$,z.ctx),$.call(z.ctx||this,d)}this._firingCount--}}return l&&this._propagateEvent(d),this},listens:function(t,i,l,d){typeof t!="string"&&console.warn('"string" type argument expected');var v=i;typeof i!="function"&&(d=!!i,v=void 0,l=void 0);var b=this._events&&this._events[t];if(b&&b.length&&this._listens(t,v,l)!==!1)return!0;if(d){for(var T in this._eventParents)if(this._eventParents[T].listens(t,i,l,d))return!0}return!1},_listens:function(t,i,l){if(!this._events)return!1;var d=this._events[t]||[];if(!i)return!!d.length;l===this&&(l=void 0);for(var v=0,b=d.length;v<b;v++)if(d[v].fn===i&&d[v].ctx===l)return v;return!1},once:function(t,i,l){if(typeof t=="object")for(var d in t)this._on(d,t[d],i,!0);else{t=U(t);for(var v=0,b=t.length;v<b;v++)this._on(t[v],i,l,!0)}return this},addEventParent:function(t){return this._eventParents=this._eventParents||{},this._eventParents[y(t)]=t,this},removeEventParent:function(t){return this._eventParents&&delete this._eventParents[y(t)],this},_propagateEvent:function(t){for(var i in this._eventParents)this._eventParents[i].fire(t.type,h({layer:t.target,propagatedFrom:t.target},t),!0)}};M.addEventListener=M.on,M.removeEventListener=M.clearAllEventListeners=M.off,M.addOneTimeEventListener=M.once,M.fireEvent=M.fire,M.hasEventListeners=M.listens;var q=K.extend(M);function I(t,i,l){this.x=l?Math.round(t):t,this.y=l?Math.round(i):i}var Q=Math.trunc||function(t){return t>0?Math.floor(t):Math.ceil(t)};I.prototype={clone:function(){return new I(this.x,this.y)},add:function(t){return this.clone()._add(V(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.clone()._subtract(V(t))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.x/=t,this.y/=t,this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){return this.x*=t,this.y*=t,this},scaleBy:function(t){return new I(this.x*t.x,this.y*t.y)},unscaleBy:function(t){return new I(this.x/t.x,this.y/t.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Q(this.x),this.y=Q(this.y),this},distanceTo:function(t){t=V(t);var i=t.x-this.x,l=t.y-this.y;return Math.sqrt(i*i+l*l)},equals:function(t){return t=V(t),t.x===this.x&&t.y===this.y},contains:function(t){return t=V(t),Math.abs(t.x)<=Math.abs(this.x)&&Math.abs(t.y)<=Math.abs(this.y)},toString:function(){return"Point("+E(this.x)+", "+E(this.y)+")"}};function V(t,i,l){return t instanceof I?t:J(t)?new I(t[0],t[1]):t==null?t:typeof t=="object"&&"x"in t&&"y"in t?new I(t.x,t.y):new I(t,i,l)}function C(t,i){if(t)for(var l=i?[t,i]:t,d=0,v=l.length;d<v;d++)this.extend(l[d])}C.prototype={extend:function(t){var i,l;if(!t)return this;if(t instanceof I||typeof t[0]=="number"||"x"in t)i=l=V(t);else if(t=Z(t),i=t.min,l=t.max,!i||!l)return this;return!this.min&&!this.max?(this.min=i.clone(),this.max=l.clone()):(this.min.x=Math.min(i.x,this.min.x),this.max.x=Math.max(l.x,this.max.x),this.min.y=Math.min(i.y,this.min.y),this.max.y=Math.max(l.y,this.max.y)),this},getCenter:function(t){return V((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return V(this.min.x,this.max.y)},getTopRight:function(){return V(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(t){var i,l;return typeof t[0]=="number"||t instanceof I?t=V(t):t=Z(t),t instanceof C?(i=t.min,l=t.max):i=l=t,i.x>=this.min.x&&l.x<=this.max.x&&i.y>=this.min.y&&l.y<=this.max.y},intersects:function(t){t=Z(t);var i=this.min,l=this.max,d=t.min,v=t.max,b=v.x>=i.x&&d.x<=l.x,T=v.y>=i.y&&d.y<=l.y;return b&&T},overlaps:function(t){t=Z(t);var i=this.min,l=this.max,d=t.min,v=t.max,b=v.x>i.x&&d.x<l.x,T=v.y>i.y&&d.y<l.y;return b&&T},isValid:function(){return!!(this.min&&this.max)},pad:function(t){var i=this.min,l=this.max,d=Math.abs(i.x-l.x)*t,v=Math.abs(i.y-l.y)*t;return Z(V(i.x-d,i.y-v),V(l.x+d,l.y+v))},equals:function(t){return t?(t=Z(t),this.min.equals(t.getTopLeft())&&this.max.equals(t.getBottomRight())):!1}};function Z(t,i){return!t||t instanceof C?t:new C(t,i)}function ce(t,i){if(t)for(var l=i?[t,i]:t,d=0,v=l.length;d<v;d++)this.extend(l[d])}ce.prototype={extend:function(t){var i=this._southWest,l=this._northEast,d,v;if(t instanceof me)d=t,v=t;else if(t instanceof ce){if(d=t._southWest,v=t._northEast,!d||!v)return this}else return t?this.extend(he(t)||oe(t)):this;return!i&&!l?(this._southWest=new me(d.lat,d.lng),this._northEast=new me(v.lat,v.lng)):(i.lat=Math.min(d.lat,i.lat),i.lng=Math.min(d.lng,i.lng),l.lat=Math.max(v.lat,l.lat),l.lng=Math.max(v.lng,l.lng)),this},pad:function(t){var i=this._southWest,l=this._northEast,d=Math.abs(i.lat-l.lat)*t,v=Math.abs(i.lng-l.lng)*t;return new ce(new me(i.lat-d,i.lng-v),new me(l.lat+d,l.lng+v))},getCenter:function(){return new me((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new me(this.getNorth(),this.getWest())},getSouthEast:function(){return new me(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(t){typeof t[0]=="number"||t instanceof me||"lat"in t?t=he(t):t=oe(t);var i=this._southWest,l=this._northEast,d,v;return t instanceof ce?(d=t.getSouthWest(),v=t.getNorthEast()):d=v=t,d.lat>=i.lat&&v.lat<=l.lat&&d.lng>=i.lng&&v.lng<=l.lng},intersects:function(t){t=oe(t);var i=this._southWest,l=this._northEast,d=t.getSouthWest(),v=t.getNorthEast(),b=v.lat>=i.lat&&d.lat<=l.lat,T=v.lng>=i.lng&&d.lng<=l.lng;return b&&T},overlaps:function(t){t=oe(t);var i=this._southWest,l=this._northEast,d=t.getSouthWest(),v=t.getNorthEast(),b=v.lat>i.lat&&d.lat<l.lat,T=v.lng>i.lng&&d.lng<l.lng;return b&&T},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(t,i){return t?(t=oe(t),this._southWest.equals(t.getSouthWest(),i)&&this._northEast.equals(t.getNorthEast(),i)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function oe(t,i){return t instanceof ce?t:new ce(t,i)}function me(t,i,l){if(isNaN(t)||isNaN(i))throw new Error("Invalid LatLng object: ("+t+", "+i+")");this.lat=+t,this.lng=+i,l!==void 0&&(this.alt=+l)}me.prototype={equals:function(t,i){if(!t)return!1;t=he(t);var l=Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng));return l<=(i===void 0?1e-9:i)},toString:function(t){return"LatLng("+E(this.lat,t)+", "+E(this.lng,t)+")"},distanceTo:function(t){return Re.distance(this,he(t))},wrap:function(){return Re.wrapLatLng(this)},toBounds:function(t){var i=180*t/40075017,l=i/Math.cos(Math.PI/180*this.lat);return oe([this.lat-i,this.lng-l],[this.lat+i,this.lng+l])},clone:function(){return new me(this.lat,this.lng,this.alt)}};function he(t,i,l){return t instanceof me?t:J(t)&&typeof t[0]!="object"?t.length===3?new me(t[0],t[1],t[2]):t.length===2?new me(t[0],t[1]):null:t==null?t:typeof t=="object"&&"lat"in t?new me(t.lat,"lng"in t?t.lng:t.lon,t.alt):i===void 0?null:new me(t,i,l)}var je={latLngToPoint:function(t,i){var l=this.projection.project(t),d=this.scale(i);return this.transformation._transform(l,d)},pointToLatLng:function(t,i){var l=this.scale(i),d=this.transformation.untransform(t,l);return this.projection.unproject(d)},project:function(t){return this.projection.project(t)},unproject:function(t){return this.projection.unproject(t)},scale:function(t){return 256*Math.pow(2,t)},zoom:function(t){return Math.log(t/256)/Math.LN2},getProjectedBounds:function(t){if(this.infinite)return null;var i=this.projection.bounds,l=this.scale(t),d=this.transformation.transform(i.min,l),v=this.transformation.transform(i.max,l);return new C(d,v)},infinite:!1,wrapLatLng:function(t){var i=this.wrapLng?P(t.lng,this.wrapLng,!0):t.lng,l=this.wrapLat?P(t.lat,this.wrapLat,!0):t.lat,d=t.alt;return new me(l,i,d)},wrapLatLngBounds:function(t){var i=t.getCenter(),l=this.wrapLatLng(i),d=i.lat-l.lat,v=i.lng-l.lng;if(d===0&&v===0)return t;var b=t.getSouthWest(),T=t.getNorthEast(),z=new me(b.lat-d,b.lng-v),$=new me(T.lat-d,T.lng-v);return new ce(z,$)}},Re=h({},je,{wrapLng:[-180,180],R:6371e3,distance:function(t,i){var l=Math.PI/180,d=t.lat*l,v=i.lat*l,b=Math.sin((i.lat-t.lat)*l/2),T=Math.sin((i.lng-t.lng)*l/2),z=b*b+Math.cos(d)*Math.cos(v)*T*T,$=2*Math.atan2(Math.sqrt(z),Math.sqrt(1-z));return this.R*$}}),Ze=6378137,xt={R:Ze,MAX_LATITUDE:85.0511287798,project:function(t){var i=Math.PI/180,l=this.MAX_LATITUDE,d=Math.max(Math.min(l,t.lat),-l),v=Math.sin(d*i);return new I(this.R*t.lng*i,this.R*Math.log((1+v)/(1-v))/2)},unproject:function(t){var i=180/Math.PI;return new me((2*Math.atan(Math.exp(t.y/this.R))-Math.PI/2)*i,t.x*i/this.R)},bounds:(function(){var t=Ze*Math.PI;return new C([-t,-t],[t,t])})()};function _r(t,i,l,d){if(J(t)){this._a=t[0],this._b=t[1],this._c=t[2],this._d=t[3];return}this._a=t,this._b=i,this._c=l,this._d=d}_r.prototype={transform:function(t,i){return this._transform(t.clone(),i)},_transform:function(t,i){return i=i||1,t.x=i*(this._a*t.x+this._b),t.y=i*(this._c*t.y+this._d),t},untransform:function(t,i){return i=i||1,new I((t.x/i-this._b)/this._a,(t.y/i-this._d)/this._c)}};function yr(t,i,l,d){return new _r(t,i,l,d)}var wr=h({},Re,{code:"EPSG:3857",projection:xt,transformation:(function(){var t=.5/(Math.PI*xt.R);return yr(t,.5,-t,.5)})()}),Qs=h({},wr,{code:"EPSG:900913"});function Ys(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function Xs(t,i){var l="",d,v,b,T,z,$;for(d=0,b=t.length;d<b;d++){for(z=t[d],v=0,T=z.length;v<T;v++)$=z[v],l+=(v?"L":"M")+$.x+" "+$.y;l+=i?_e.svg?"z":"x":""}return l||"M0 0"}var ai=document.documentElement.style,li="ActiveXObject"in window,eo=li&&!document.addEventListener,xr="msLaunchUri"in navigator&&!("documentMode"in document),jn=Et("webkit"),Zi=Et("android"),to=Et("android 2")||Et("android 3"),fa=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),pa=Zi&&Et("Google")&&fa<537&&!("AudioNode"in window),qi=!!window.opera,Gi=!xr&&Et("chrome"),ui=Et("gecko")&&!jn&&!qi&&!li,ma=!Gi&&Et("safari"),br=Et("phantom"),Sr="OTransition"in ai,Xl=navigator.platform.indexOf("Win")===0,no=li&&"transition"in ai,Ki="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!to,ga="MozPerspective"in ai,ro=!window.L_DISABLE_3D&&(no||Ki||ga)&&!Sr&&!br,Zn=typeof orientation<"u"||Et("mobile"),io=Zn&&jn,so=Zn&&Ki,Ji=!window.PointerEvent&&window.MSPointerEvent,qn=!!(window.PointerEvent||Ji),Gn="ontouchstart"in window||!!window.TouchEvent,va=!window.L_NO_TOUCH&&(Gn||qn),_a=Zn&&qi,ya=Zn&&ui,wa=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,xa=(function(){var t=!1;try{var i=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("testPassiveEventSupport",O,i),window.removeEventListener("testPassiveEventSupport",O,i)}catch{}return t})(),oo=(function(){return!!document.createElement("canvas").getContext})(),Qi=!!(document.createElementNS&&Ys("svg").createSVGRect),ci=!!Qi&&(function(){var t=document.createElement("div");return t.innerHTML="<svg/>",(t.firstChild&&t.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),ao=!Qi&&(function(){try{var t=document.createElement("div");t.innerHTML='<v:shape adj="1"/>';var i=t.firstChild;return i.style.behavior="url(#default#VML)",i&&typeof i.adj=="object"}catch{return!1}})(),hi=navigator.platform.indexOf("Mac")===0,eu=navigator.platform.indexOf("Linux")===0;function Et(t){return navigator.userAgent.toLowerCase().indexOf(t)>=0}var _e={ie:li,ielt9:eo,edge:xr,webkit:jn,android:Zi,android23:to,androidStock:pa,opera:qi,chrome:Gi,gecko:ui,safari:ma,phantom:br,opera12:Sr,win:Xl,ie3d:no,webkit3d:Ki,gecko3d:ga,any3d:ro,mobile:Zn,mobileWebkit:io,mobileWebkit3d:so,msPointer:Ji,pointer:qn,touch:va,touchNative:Gn,mobileOpera:_a,mobileGecko:ya,retina:wa,passiveEvents:xa,canvas:oo,svg:Qi,vml:ao,inlineSvg:ci,mac:hi,linux:eu},di=_e.msPointer?"MSPointerDown":"pointerdown",Yi=_e.msPointer?"MSPointerMove":"pointermove",ba=_e.msPointer?"MSPointerUp":"pointerup",Sa=_e.msPointer?"MSPointerCancel":"pointercancel",lo={touchstart:di,touchmove:Yi,touchend:ba,touchcancel:Sa},Rn={touchstart:tt,touchmove:Xi,touchend:Xi,touchcancel:Xi},Kn={},uo=!1;function tu(t,i,l){return i==="touchstart"&&nu(),Rn[i]?(l=Rn[i].bind(this,l),t.addEventListener(lo[i],l,!1),l):(console.warn("wrong event specified:",i),O)}function ka(t,i,l){if(!lo[i]){console.warn("wrong event specified:",i);return}t.removeEventListener(lo[i],l,!1)}function Pa(t){Kn[t.pointerId]=t}function Ea(t){Kn[t.pointerId]&&(Kn[t.pointerId]=t)}function co(t){delete Kn[t.pointerId]}function nu(){uo||(document.addEventListener(di,Pa,!0),document.addEventListener(Yi,Ea,!0),document.addEventListener(ba,co,!0),document.addEventListener(Sa,co,!0),uo=!0)}function Xi(t,i){if(i.pointerType!==(i.MSPOINTER_TYPE_MOUSE||"mouse")){i.touches=[];for(var l in Kn)i.touches.push(Kn[l]);i.changedTouches=[i],t(i)}}function tt(t,i){i.MSPOINTER_TYPE_TOUCH&&i.pointerType===i.MSPOINTER_TYPE_TOUCH&&nt(i),Xi(t,i)}function ru(t){var i={},l,d;for(d in t)l=t[d],i[d]=l&&l.bind?l.bind(t):l;return t=i,i.type="dblclick",i.detail=2,i.isTrusted=!1,i._simulated=!0,i}var ho=200;function Ta(t,i){t.addEventListener("dblclick",i);var l=0,d;function v(b){if(b.detail!==1){d=b.detail;return}if(!(b.pointerType==="mouse"||b.sourceCapabilities&&!b.sourceCapabilities.firesTouchEvents)){var T=Yn(b);if(!(T.some(function($){return $ instanceof HTMLLabelElement&&$.attributes.for})&&!T.some(function($){return $ instanceof HTMLInputElement||$ instanceof HTMLSelectElement}))){var z=Date.now();z-l<=ho?(d++,d===2&&i(ru(b))):d=1,l=z}}}return t.addEventListener("click",v),{dblclick:i,simDblclick:v}}function es(t,i){t.removeEventListener("dblclick",i.dblclick),t.removeEventListener("click",i.simDblclick)}var fo=Tr(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),kr=Tr(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),fi=kr==="webkitTransition"||kr==="OTransition"?kr+"End":"transitionend";function Gt(t){return typeof t=="string"?document.getElementById(t):t}function pi(t,i){var l=t.style[i]||t.currentStyle&&t.currentStyle[i];if((!l||l==="auto")&&document.defaultView){var d=document.defaultView.getComputedStyle(t,null);l=d?d[i]:null}return l==="auto"?null:l}function Le(t,i,l){var d=document.createElement(t);return d.className=i||"",l&&l.appendChild(d),d}function Qe(t){var i=t.parentNode;i&&i.removeChild(t)}function ts(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function Pr(t){var i=t.parentNode;i&&i.lastChild!==t&&i.appendChild(t)}function wn(t){var i=t.parentNode;i&&i.firstChild!==t&&i.insertBefore(t,i.firstChild)}function Er(t,i){if(t.classList!==void 0)return t.classList.contains(i);var l=ns(t);return l.length>0&&new RegExp("(^|\\s)"+i+"(\\s|$)").test(l)}function Oe(t,i){if(t.classList!==void 0)for(var l=U(i),d=0,v=l.length;d<v;d++)t.classList.add(l[d]);else if(!Er(t,i)){var b=ns(t);po(t,(b?b+" ":"")+i)}}function qe(t,i){t.classList!==void 0?t.classList.remove(i):po(t,R((" "+ns(t)+" ").replace(" "+i+" "," ")))}function po(t,i){t.className.baseVal===void 0?t.className=i:t.className.baseVal=i}function ns(t){return t.correspondingElement&&(t=t.correspondingElement),t.className.baseVal===void 0?t.className:t.className.baseVal}function Tt(t,i){"opacity"in t.style?t.style.opacity=i:"filter"in t.style&&Ca(t,i)}function Ca(t,i){var l=!1,d="DXImageTransform.Microsoft.Alpha";try{l=t.filters.item(d)}catch{if(i===1)return}i=Math.round(i*100),l?(l.Enabled=i!==100,l.Opacity=i):t.style.filter+=" progid:"+d+"(opacity="+i+")"}function Tr(t){for(var i=document.documentElement.style,l=0;l<t.length;l++)if(t[l]in i)return t[l];return!1}function Kt(t,i,l){var d=i||new I(0,0);t.style[fo]=(_e.ie3d?"translate("+d.x+"px,"+d.y+"px)":"translate3d("+d.x+"px,"+d.y+"px,0)")+(l?" scale("+l+")":"")}function st(t,i){t._leaflet_pos=i,_e.any3d?Kt(t,i):(t.style.left=i.x+"px",t.style.top=i.y+"px")}function xn(t){return t._leaflet_pos||new I(0,0)}var De,Cr,rs;if("onselectstart"in document)De=function(){Te(window,"selectstart",nt)},Cr=function(){We(window,"selectstart",nt)};else{var Jn=Tr(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);De=function(){if(Jn){var t=document.documentElement.style;rs=t[Jn],t[Jn]="none"}},Cr=function(){Jn&&(document.documentElement.style[Jn]=rs,rs=void 0)}}function is(){Te(window,"dragstart",nt)}function ss(){We(window,"dragstart",nt)}var mi,gi;function Or(t){for(;t.tabIndex===-1;)t=t.parentNode;t.style&&(Jt(),mi=t,gi=t.style.outlineStyle,t.style.outlineStyle="none",Te(window,"keydown",Jt))}function Jt(){mi&&(mi.style.outlineStyle=gi,mi=void 0,gi=void 0,We(window,"keydown",Jt))}function bn(t){do t=t.parentNode;while((!t.offsetWidth||!t.offsetHeight)&&t!==document.body);return t}function an(t){var i=t.getBoundingClientRect();return{x:i.width/t.offsetWidth||1,y:i.height/t.offsetHeight||1,boundingClientRect:i}}var vi={__proto__:null,TRANSFORM:fo,TRANSITION:kr,TRANSITION_END:fi,get:Gt,getStyle:pi,create:Le,remove:Qe,empty:ts,toFront:Pr,toBack:wn,hasClass:Er,addClass:Oe,removeClass:qe,setClass:po,getClass:ns,setOpacity:Tt,testProp:Tr,setTransform:Kt,setPosition:st,getPosition:xn,get disableTextSelection(){return De},get enableTextSelection(){return Cr},disableImageDrag:is,enableImageDrag:ss,preventOutline:Or,restoreOutline:Jt,getSizedParentNode:bn,getScale:an};function Te(t,i,l,d){if(i&&typeof i=="object")for(var v in i)go(t,v,i[v],l);else{i=U(i);for(var b=0,T=i.length;b<T;b++)go(t,i[b],l,d)}return this}var ft="_leaflet_events";function We(t,i,l,d){if(arguments.length===1)mo(t),delete t[ft];else if(i&&typeof i=="object")for(var v in i)os(t,v,i[v],l);else if(i=U(i),arguments.length===2)mo(t,function(z){return se(i,z)!==-1});else for(var b=0,T=i.length;b<T;b++)os(t,i[b],l,d);return this}function mo(t,i){for(var l in t[ft]){var d=l.split(/\d/)[0];(!i||i(d))&&os(t,d,null,null,l)}}var Qn={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function go(t,i,l,d){var v=i+y(l)+(d?"_"+y(d):"");if(t[ft]&&t[ft][v])return this;var b=function(z){return l.call(d||t,z||window.event)},T=b;!_e.touchNative&&_e.pointer&&i.indexOf("touch")===0?b=tu(t,i,b):_e.touch&&i==="dblclick"?b=Ta(t,b):"addEventListener"in t?i==="touchstart"||i==="touchmove"||i==="wheel"||i==="mousewheel"?t.addEventListener(Qn[i]||i,b,_e.passiveEvents?{passive:!1}:!1):i==="mouseenter"||i==="mouseleave"?(b=function(z){z=z||window.event,wi(t,z)&&T(z)},t.addEventListener(Qn[i],b,!1)):t.addEventListener(i,T,!1):t.attachEvent("on"+i,b),t[ft]=t[ft]||{},t[ft][v]=b}function os(t,i,l,d,v){v=v||i+y(l)+(d?"_"+y(d):"");var b=t[ft]&&t[ft][v];if(!b)return this;!_e.touchNative&&_e.pointer&&i.indexOf("touch")===0?ka(t,i,b):_e.touch&&i==="dblclick"?es(t,b):"removeEventListener"in t?t.removeEventListener(Qn[i]||i,b,!1):t.detachEvent("on"+i,b),t[ft][v]=null}function ln(t){return t.stopPropagation?t.stopPropagation():t.originalEvent?t.originalEvent._stopped=!0:t.cancelBubble=!0,this}function as(t){return go(t,"wheel",ln),this}function _i(t){return Te(t,"mousedown touchstart dblclick contextmenu",ln),t._leaflet_disable_click=!0,this}function nt(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this}function Qt(t){return nt(t),ln(t),this}function Yn(t){if(t.composedPath)return t.composedPath();for(var i=[],l=t.target;l;)i.push(l),l=l.parentNode;return i}function yi(t,i){if(!i)return new I(t.clientX,t.clientY);var l=an(i),d=l.boundingClientRect;return new I((t.clientX-d.left)/l.x-i.clientLeft,(t.clientY-d.top)/l.y-i.clientTop)}var iu=_e.linux&&_e.chrome?window.devicePixelRatio:_e.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Oa(t){return _e.edge?t.wheelDeltaY/2:t.deltaY&&t.deltaMode===0?-t.deltaY/iu:t.deltaY&&t.deltaMode===1?-t.deltaY*20:t.deltaY&&t.deltaMode===2?-t.deltaY*60:t.deltaX||t.deltaZ?0:t.wheelDelta?(t.wheelDeltaY||t.wheelDelta)/2:t.detail&&Math.abs(t.detail)<32765?-t.detail*20:t.detail?t.detail/-32765*60:0}function wi(t,i){var l=i.relatedTarget;if(!l)return!0;try{for(;l&&l!==t;)l=l.parentNode}catch{return!1}return l!==t}var ls={__proto__:null,on:Te,off:We,stopPropagation:ln,disableScrollPropagation:as,disableClickPropagation:_i,preventDefault:nt,stop:Qt,getPropagationPath:Yn,getMousePosition:yi,getWheelDelta:Oa,isExternalTarget:wi,addListener:Te,removeListener:We},us=q.extend({run:function(t,i,l,d){this.stop(),this._el=t,this._inProgress=!0,this._duration=l||.25,this._easeOutPower=1/Math.max(d||.5,.2),this._startPos=xn(t),this._offset=i.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=Fe(this._animate,this),this._step()},_step:function(t){var i=+new Date-this._startTime,l=this._duration*1e3;i<l?this._runFrame(this._easeOut(i/l),t):(this._runFrame(1),this._complete())},_runFrame:function(t,i){var l=this._startPos.add(this._offset.multiplyBy(t));i&&l._round(),st(this._el,l),this.fire("step")},_complete:function(){He(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),ze=q.extend({options:{crs:wr,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(t,i){i=j(this,i),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(t),this._initLayout(),this._onResize=m(this._onResize,this),this._initEvents(),i.maxBounds&&this.setMaxBounds(i.maxBounds),i.zoom!==void 0&&(this._zoom=this._limitZoom(i.zoom)),i.center&&i.zoom!==void 0&&this.setView(he(i.center),i.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=kr&&_e.any3d&&!_e.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Te(this._proxy,fi,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(t,i,l){if(i=i===void 0?this._zoom:this._limitZoom(i),t=this._limitCenter(he(t),i,this.options.maxBounds),l=l||{},this._stop(),this._loaded&&!l.reset&&l!==!0){l.animate!==void 0&&(l.zoom=h({animate:l.animate},l.zoom),l.pan=h({animate:l.animate,duration:l.duration},l.pan));var d=this._zoom!==i?this._tryAnimatedZoom&&this._tryAnimatedZoom(t,i,l.zoom):this._tryAnimatedPan(t,l.pan);if(d)return clearTimeout(this._sizeTimer),this}return this._resetView(t,i,l.pan&&l.pan.noMoveStart),this},setZoom:function(t,i){return this._loaded?this.setView(this.getCenter(),t,{zoom:i}):(this._zoom=t,this)},zoomIn:function(t,i){return t=t||(_e.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+t,i)},zoomOut:function(t,i){return t=t||(_e.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-t,i)},setZoomAround:function(t,i,l){var d=this.getZoomScale(i),v=this.getSize().divideBy(2),b=t instanceof I?t:this.latLngToContainerPoint(t),T=b.subtract(v).multiplyBy(1-1/d),z=this.containerPointToLatLng(v.add(T));return this.setView(z,i,{zoom:l})},_getBoundsCenterZoom:function(t,i){i=i||{},t=t.getBounds?t.getBounds():oe(t);var l=V(i.paddingTopLeft||i.padding||[0,0]),d=V(i.paddingBottomRight||i.padding||[0,0]),v=this.getBoundsZoom(t,!1,l.add(d));if(v=typeof i.maxZoom=="number"?Math.min(i.maxZoom,v):v,v===1/0)return{center:t.getCenter(),zoom:v};var b=d.subtract(l).divideBy(2),T=this.project(t.getSouthWest(),v),z=this.project(t.getNorthEast(),v),$=this.unproject(T.add(z).divideBy(2).add(b),v);return{center:$,zoom:v}},fitBounds:function(t,i){if(t=oe(t),!t.isValid())throw new Error("Bounds are not valid.");var l=this._getBoundsCenterZoom(t,i);return this.setView(l.center,l.zoom,i)},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},panTo:function(t,i){return this.setView(t,this._zoom,{pan:i})},panBy:function(t,i){if(t=V(t).round(),i=i||{},!t.x&&!t.y)return this.fire("moveend");if(i.animate!==!0&&!this.getSize().contains(t))return this._resetView(this.unproject(this.project(this.getCenter()).add(t)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new us,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),i.noMoveStart||this.fire("movestart"),i.animate!==!1){Oe(this._mapPane,"leaflet-pan-anim");var l=this._getMapPanePos().subtract(t).round();this._panAnim.run(this._mapPane,l,i.duration||.25,i.easeLinearity)}else this._rawPanBy(t),this.fire("move").fire("moveend");return this},flyTo:function(t,i,l){if(l=l||{},l.animate===!1||!_e.any3d)return this.setView(t,i,l);this._stop();var d=this.project(this.getCenter()),v=this.project(t),b=this.getSize(),T=this._zoom;t=he(t),i=i===void 0?T:i;var z=Math.max(b.x,b.y),$=z*this.getZoomScale(T,i),Y=v.distanceTo(d)||1,ae=1.42,be=ae*ae;function Ne($e){var Wr=$e?-1:1,_u=$e?$:z,yu=$*$-z*z+Wr*be*be*Y*Y,sr=2*_u*be*Y,or=yu/sr,ar=Math.sqrt(or*or+1)-or,Ss=ar<1e-9?-18:Math.log(ar);return Ss}function pt($e){return(Math.exp($e)-Math.exp(-$e))/2}function ut($e){return(Math.exp($e)+Math.exp(-$e))/2}function Mt($e){return pt($e)/ut($e)}var Ot=Ne(0);function $r($e){return z*(ut(Ot)/ut(Ot+ae*$e))}function zo($e){return z*(ut(Ot)*Mt(Ot+ae*$e)-pt(Ot))/be}function $n($e){return 1-Math.pow(1-$e,1.5)}var Ja=Date.now(),ir=(Ne(1)-Ot)/ae,dn=l.duration?1e3*l.duration:1e3*ir*.8;function Hr(){var $e=(Date.now()-Ja)/dn,Wr=$n($e)*ir;$e<=1?(this._flyToFrame=Fe(Hr,this),this._move(this.unproject(d.add(v.subtract(d).multiplyBy(zo(Wr)/Y)),T),this.getScaleZoom(z/$r(Wr),T),{flyTo:!0})):this._move(t,i)._moveEnd(!0)}return this._moveStart(!0,l.noMoveStart),Hr.call(this),this},flyToBounds:function(t,i){var l=this._getBoundsCenterZoom(t,i);return this.flyTo(l.center,l.zoom,i)},setMaxBounds:function(t){return t=oe(t),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),t.isValid()?(this.options.maxBounds=t,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(t){var i=this.options.minZoom;return this.options.minZoom=t,this._loaded&&i!==t&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(t):this},setMaxZoom:function(t){var i=this.options.maxZoom;return this.options.maxZoom=t,this._loaded&&i!==t&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(t):this},panInsideBounds:function(t,i){this._enforcingBounds=!0;var l=this.getCenter(),d=this._limitCenter(l,this._zoom,oe(t));return l.equals(d)||this.panTo(d,i),this._enforcingBounds=!1,this},panInside:function(t,i){i=i||{};var l=V(i.paddingTopLeft||i.padding||[0,0]),d=V(i.paddingBottomRight||i.padding||[0,0]),v=this.project(this.getCenter()),b=this.project(t),T=this.getPixelBounds(),z=Z([T.min.add(l),T.max.subtract(d)]),$=z.getSize();if(!z.contains(b)){this._enforcingBounds=!0;var Y=b.subtract(z.getCenter()),ae=z.extend(b).getSize().subtract($);v.x+=Y.x<0?-ae.x:ae.x,v.y+=Y.y<0?-ae.y:ae.y,this.panTo(this.unproject(v),i),this._enforcingBounds=!1}return this},invalidateSize:function(t){if(!this._loaded)return this;t=h({animate:!1,pan:!0},t===!0?{animate:!0}:t);var i=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var l=this.getSize(),d=i.divideBy(2).round(),v=l.divideBy(2).round(),b=d.subtract(v);return!b.x&&!b.y?this:(t.animate&&t.pan?this.panBy(b):(t.pan&&this._rawPanBy(b),this.fire("move"),t.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(m(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:i,newSize:l}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(t){if(t=this._locateOptions=h({timeout:1e4,watch:!1},t),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var i=m(this._handleGeolocationResponse,this),l=m(this._handleGeolocationError,this);return t.watch?this._locationWatchId=navigator.geolocation.watchPosition(i,l,t):navigator.geolocation.getCurrentPosition(i,l,t),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(t){if(this._container._leaflet_id){var i=t.code,l=t.message||(i===1?"permission denied":i===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:i,message:"Geolocation error: "+l+"."})}},_handleGeolocationResponse:function(t){if(this._container._leaflet_id){var i=t.coords.latitude,l=t.coords.longitude,d=new me(i,l),v=d.toBounds(t.coords.accuracy*2),b=this._locateOptions;if(b.setView){var T=this.getBoundsZoom(v);this.setView(d,b.maxZoom?Math.min(T,b.maxZoom):T)}var z={latlng:d,bounds:v,timestamp:t.timestamp};for(var $ in t.coords)typeof t.coords[$]=="number"&&(z[$]=t.coords[$]);this.fire("locationfound",z)}},addHandler:function(t,i){if(!i)return this;var l=this[t]=new i(this);return this._handlers.push(l),this.options[t]&&l.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Qe(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(He(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var t;for(t in this._layers)this._layers[t].remove();for(t in this._panes)Qe(this._panes[t]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(t,i){var l="leaflet-pane"+(t?" leaflet-"+t.replace("Pane","")+"-pane":""),d=Le("div",l,i||this._mapPane);return t&&(this._panes[t]=d),d},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var t=this.getPixelBounds(),i=this.unproject(t.getBottomLeft()),l=this.unproject(t.getTopRight());return new ce(i,l)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(t,i,l){t=oe(t),l=V(l||[0,0]);var d=this.getZoom()||0,v=this.getMinZoom(),b=this.getMaxZoom(),T=t.getNorthWest(),z=t.getSouthEast(),$=this.getSize().subtract(l),Y=Z(this.project(z,d),this.project(T,d)).getSize(),ae=_e.any3d?this.options.zoomSnap:1,be=$.x/Y.x,Ne=$.y/Y.y,pt=i?Math.max(be,Ne):Math.min(be,Ne);return d=this.getScaleZoom(pt,d),ae&&(d=Math.round(d/(ae/100))*(ae/100),d=i?Math.ceil(d/ae)*ae:Math.floor(d/ae)*ae),Math.max(v,Math.min(b,d))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new I(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(t,i){var l=this._getTopLeftPoint(t,i);return new C(l,l.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(t){return this.options.crs.getProjectedBounds(t===void 0?this.getZoom():t)},getPane:function(t){return typeof t=="string"?this._panes[t]:t},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t,i){var l=this.options.crs;return i=i===void 0?this._zoom:i,l.scale(t)/l.scale(i)},getScaleZoom:function(t,i){var l=this.options.crs;i=i===void 0?this._zoom:i;var d=l.zoom(t*l.scale(i));return isNaN(d)?1/0:d},project:function(t,i){return i=i===void 0?this._zoom:i,this.options.crs.latLngToPoint(he(t),i)},unproject:function(t,i){return i=i===void 0?this._zoom:i,this.options.crs.pointToLatLng(V(t),i)},layerPointToLatLng:function(t){var i=V(t).add(this.getPixelOrigin());return this.unproject(i)},latLngToLayerPoint:function(t){var i=this.project(he(t))._round();return i._subtract(this.getPixelOrigin())},wrapLatLng:function(t){return this.options.crs.wrapLatLng(he(t))},wrapLatLngBounds:function(t){return this.options.crs.wrapLatLngBounds(oe(t))},distance:function(t,i){return this.options.crs.distance(he(t),he(i))},containerPointToLayerPoint:function(t){return V(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return V(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){var i=this.containerPointToLayerPoint(V(t));return this.layerPointToLatLng(i)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint(he(t)))},mouseEventToContainerPoint:function(t){return yi(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){var i=this._container=Gt(t);if(i){if(i._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Te(i,"scroll",this._onScroll,this),this._containerId=y(i)},_initLayout:function(){var t=this._container;this._fadeAnimated=this.options.fadeAnimation&&_e.any3d,Oe(t,"leaflet-container"+(_e.touch?" leaflet-touch":"")+(_e.retina?" leaflet-retina":"")+(_e.ielt9?" leaflet-oldie":"")+(_e.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var i=pi(t,"position");i!=="absolute"&&i!=="relative"&&i!=="fixed"&&i!=="sticky"&&(t.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var t=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),st(this._mapPane,new I(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Oe(t.markerPane,"leaflet-zoom-hide"),Oe(t.shadowPane,"leaflet-zoom-hide"))},_resetView:function(t,i,l){st(this._mapPane,new I(0,0));var d=!this._loaded;this._loaded=!0,i=this._limitZoom(i),this.fire("viewprereset");var v=this._zoom!==i;this._moveStart(v,l)._move(t,i)._moveEnd(v),this.fire("viewreset"),d&&this.fire("load")},_moveStart:function(t,i){return t&&this.fire("zoomstart"),i||this.fire("movestart"),this},_move:function(t,i,l,d){i===void 0&&(i=this._zoom);var v=this._zoom!==i;return this._zoom=i,this._lastCenter=t,this._pixelOrigin=this._getNewPixelOrigin(t),d?l&&l.pinch&&this.fire("zoom",l):((v||l&&l.pinch)&&this.fire("zoom",l),this.fire("move",l)),this},_moveEnd:function(t){return t&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return He(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(t){st(this._mapPane,this._getMapPanePos().subtract(t))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(t){this._targets={},this._targets[y(this._container)]=this;var i=t?We:Te;i(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&i(window,"resize",this._onResize,this),_e.any3d&&this.options.transform3DLimit&&(t?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){He(this._resizeRequest),this._resizeRequest=Fe(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var t=this._getMapPanePos();Math.max(Math.abs(t.x),Math.abs(t.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(t,i){for(var l=[],d,v=i==="mouseout"||i==="mouseover",b=t.target||t.srcElement,T=!1;b;){if(d=this._targets[y(b)],d&&(i==="click"||i==="preclick")&&this._draggableMoved(d)){T=!0;break}if(d&&d.listens(i,!0)&&(v&&!wi(b,t)||(l.push(d),v))||b===this._container)break;b=b.parentNode}return!l.length&&!T&&!v&&this.listens(i,!0)&&(l=[this]),l},_isClickDisabled:function(t){for(;t&&t!==this._container;){if(t._leaflet_disable_click)return!0;t=t.parentNode}},_handleDOMEvent:function(t){var i=t.target||t.srcElement;if(!(!this._loaded||i._leaflet_disable_events||t.type==="click"&&this._isClickDisabled(i))){var l=t.type;l==="mousedown"&&Or(i),this._fireDOMEvent(t,l)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(t,i,l){if(t.type==="click"){var d=h({},t);d.type="preclick",this._fireDOMEvent(d,d.type,l)}var v=this._findEventTargets(t,i);if(l){for(var b=[],T=0;T<l.length;T++)l[T].listens(i,!0)&&b.push(l[T]);v=b.concat(v)}if(v.length){i==="contextmenu"&&nt(t);var z=v[0],$={originalEvent:t};if(t.type!=="keypress"&&t.type!=="keydown"&&t.type!=="keyup"){var Y=z.getLatLng&&(!z._radius||z._radius<=10);$.containerPoint=Y?this.latLngToContainerPoint(z.getLatLng()):this.mouseEventToContainerPoint(t),$.layerPoint=this.containerPointToLayerPoint($.containerPoint),$.latlng=Y?z.getLatLng():this.layerPointToLatLng($.layerPoint)}for(T=0;T<v.length;T++)if(v[T].fire(i,$,!0),$.originalEvent._stopped||v[T].options.bubblingMouseEvents===!1&&se(this._mouseEvents,i)!==-1)return}},_draggableMoved:function(t){return t=t.dragging&&t.dragging.enabled()?t:this,t.dragging&&t.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var t=0,i=this._handlers.length;t<i;t++)this._handlers[t].disable()},whenReady:function(t,i){return this._loaded?t.call(i||this,{target:this}):this.on("load",t,i),this},_getMapPanePos:function(){return xn(this._mapPane)||new I(0,0)},_moved:function(){var t=this._getMapPanePos();return t&&!t.equals([0,0])},_getTopLeftPoint:function(t,i){var l=t&&i!==void 0?this._getNewPixelOrigin(t,i):this.getPixelOrigin();return l.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(t,i){var l=this.getSize()._divideBy(2);return this.project(t,i)._subtract(l)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(t,i,l){var d=this._getNewPixelOrigin(l,i);return this.project(t,i)._subtract(d)},_latLngBoundsToNewLayerBounds:function(t,i,l){var d=this._getNewPixelOrigin(l,i);return Z([this.project(t.getSouthWest(),i)._subtract(d),this.project(t.getNorthWest(),i)._subtract(d),this.project(t.getSouthEast(),i)._subtract(d),this.project(t.getNorthEast(),i)._subtract(d)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitCenter:function(t,i,l){if(!l)return t;var d=this.project(t,i),v=this.getSize().divideBy(2),b=new C(d.subtract(v),d.add(v)),T=this._getBoundsOffset(b,l,i);return Math.abs(T.x)<=1&&Math.abs(T.y)<=1?t:this.unproject(d.add(T),i)},_limitOffset:function(t,i){if(!i)return t;var l=this.getPixelBounds(),d=new C(l.min.add(t),l.max.add(t));return t.add(this._getBoundsOffset(d,i))},_getBoundsOffset:function(t,i,l){var d=Z(this.project(i.getNorthEast(),l),this.project(i.getSouthWest(),l)),v=d.min.subtract(t.min),b=d.max.subtract(t.max),T=this._rebound(v.x,-b.x),z=this._rebound(v.y,-b.y);return new I(T,z)},_rebound:function(t,i){return t+i>0?Math.round(t-i)/2:Math.max(0,Math.ceil(t))-Math.max(0,Math.floor(i))},_limitZoom:function(t){var i=this.getMinZoom(),l=this.getMaxZoom(),d=_e.any3d?this.options.zoomSnap:1;return d&&(t=Math.round(t/d)*d),Math.max(i,Math.min(l,t))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){qe(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(t,i){var l=this._getCenterOffset(t)._trunc();return(i&&i.animate)!==!0&&!this.getSize().contains(l)?!1:(this.panBy(l,i),!0)},_createAnimProxy:function(){var t=this._proxy=Le("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(t),this.on("zoomanim",function(i){var l=fo,d=this._proxy.style[l];Kt(this._proxy,this.project(i.center,i.zoom),this.getZoomScale(i.zoom,1)),d===this._proxy.style[l]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Qe(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var t=this.getCenter(),i=this.getZoom();Kt(this._proxy,this.project(t,i),this.getZoomScale(i,1))},_catchTransitionEnd:function(t){this._animatingZoom&&t.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(t,i,l){if(this._animatingZoom)return!0;if(l=l||{},!this._zoomAnimated||l.animate===!1||this._nothingToAnimate()||Math.abs(i-this._zoom)>this.options.zoomAnimationThreshold)return!1;var d=this.getZoomScale(i),v=this._getCenterOffset(t)._divideBy(1-1/d);return l.animate!==!0&&!this.getSize().contains(v)?!1:(Fe(function(){this._moveStart(!0,l.noMoveStart||!1)._animateZoom(t,i,!0)},this),!0)},_animateZoom:function(t,i,l,d){this._mapPane&&(l&&(this._animatingZoom=!0,this._animateToCenter=t,this._animateToZoom=i,Oe(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:t,zoom:i,noUpdate:d}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(m(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&qe(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function In(t,i){return new ze(t,i)}var Rt=K.extend({options:{position:"topright"},initialize:function(t){j(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var i=this._map;return i&&i.removeControl(this),this.options.position=t,i&&i.addControl(this),this},getContainer:function(){return this._container},addTo:function(t){this.remove(),this._map=t;var i=this._container=this.onAdd(t),l=this.getPosition(),d=t._controlCorners[l];return Oe(i,"leaflet-control"),l.indexOf("bottom")!==-1?d.insertBefore(i,d.firstChild):d.appendChild(i),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Qe(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(t){this._map&&t&&t.screenX>0&&t.screenY>0&&this._map.getContainer().focus()}}),Mn=function(t){return new Rt(t)};ze.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.remove(),this},_initControlPos:function(){var t=this._controlCorners={},i="leaflet-",l=this._controlContainer=Le("div",i+"control-container",this._container);function d(v,b){var T=i+v+" "+i+b;t[v+b]=Le("div",T,l)}d("top","left"),d("top","right"),d("bottom","left"),d("bottom","right")},_clearControlPos:function(){for(var t in this._controlCorners)Qe(this._controlCorners[t]);Qe(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var vo=Rt.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(t,i,l,d){return l<d?-1:d<l?1:0}},initialize:function(t,i,l){j(this,l),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var d in t)this._addLayer(t[d],d);for(d in i)this._addLayer(i[d],d,!0)},onAdd:function(t){this._initLayout(),this._update(),this._map=t,t.on("zoomend",this._checkDisabledLayers,this);for(var i=0;i<this._layers.length;i++)this._layers[i].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(t){return Rt.prototype.addTo.call(this,t),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(t,i){return this._addLayer(t,i),this._map?this._update():this},addOverlay:function(t,i){return this._addLayer(t,i,!0),this._map?this._update():this},removeLayer:function(t){t.off("add remove",this._onLayerChange,this);var i=this._getLayer(y(t));return i&&this._layers.splice(this._layers.indexOf(i),1),this._map?this._update():this},expand:function(){Oe(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var t=this._map.getSize().y-(this._container.offsetTop+50);return t<this._section.clientHeight?(Oe(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=t+"px"):qe(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return qe(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var t="leaflet-control-layers",i=this._container=Le("div",t),l=this.options.collapsed;i.setAttribute("aria-haspopup",!0),_i(i),as(i);var d=this._section=Le("section",t+"-list");l&&(this._map.on("click",this.collapse,this),Te(i,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var v=this._layersLink=Le("a",t+"-toggle",i);v.href="#",v.title="Layers",v.setAttribute("role","button"),Te(v,{keydown:function(b){b.keyCode===13&&this._expandSafely()},click:function(b){nt(b),this._expandSafely()}},this),l||this.expand(),this._baseLayersList=Le("div",t+"-base",d),this._separator=Le("div",t+"-separator",d),this._overlaysList=Le("div",t+"-overlays",d),i.appendChild(d)},_getLayer:function(t){for(var i=0;i<this._layers.length;i++)if(this._layers[i]&&y(this._layers[i].layer)===t)return this._layers[i]},_addLayer:function(t,i,l){this._map&&t.on("add remove",this._onLayerChange,this),this._layers.push({layer:t,name:i,overlay:l}),this.options.sortLayers&&this._layers.sort(m(function(d,v){return this.options.sortFunction(d.layer,v.layer,d.name,v.name)},this)),this.options.autoZIndex&&t.setZIndex&&(this._lastZIndex++,t.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;ts(this._baseLayersList),ts(this._overlaysList),this._layerControlInputs=[];var t,i,l,d,v=0;for(l=0;l<this._layers.length;l++)d=this._layers[l],this._addItem(d),i=i||d.overlay,t=t||!d.overlay,v+=d.overlay?0:1;return this.options.hideSingleBase&&(t=t&&v>1,this._baseLayersList.style.display=t?"":"none"),this._separator.style.display=i&&t?"":"none",this},_onLayerChange:function(t){this._handlingClick||this._update();var i=this._getLayer(y(t.target)),l=i.overlay?t.type==="add"?"overlayadd":"overlayremove":t.type==="add"?"baselayerchange":null;l&&this._map.fire(l,i)},_createRadioElement:function(t,i){var l='<input type="radio" class="leaflet-control-layers-selector" name="'+t+'"'+(i?' checked="checked"':"")+"/>",d=document.createElement("div");return d.innerHTML=l,d.firstChild},_addItem:function(t){var i=document.createElement("label"),l=this._map.hasLayer(t.layer),d;t.overlay?(d=document.createElement("input"),d.type="checkbox",d.className="leaflet-control-layers-selector",d.defaultChecked=l):d=this._createRadioElement("leaflet-base-layers_"+y(this),l),this._layerControlInputs.push(d),d.layerId=y(t.layer),Te(d,"click",this._onInputClick,this);var v=document.createElement("span");v.innerHTML=" "+t.name;var b=document.createElement("span");i.appendChild(b),b.appendChild(d),b.appendChild(v);var T=t.overlay?this._overlaysList:this._baseLayersList;return T.appendChild(i),this._checkDisabledLayers(),i},_onInputClick:function(){if(!this._preventClick){var t=this._layerControlInputs,i,l,d=[],v=[];this._handlingClick=!0;for(var b=t.length-1;b>=0;b--)i=t[b],l=this._getLayer(i.layerId).layer,i.checked?d.push(l):i.checked||v.push(l);for(b=0;b<v.length;b++)this._map.hasLayer(v[b])&&this._map.removeLayer(v[b]);for(b=0;b<d.length;b++)this._map.hasLayer(d[b])||this._map.addLayer(d[b]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var t=this._layerControlInputs,i,l,d=this._map.getZoom(),v=t.length-1;v>=0;v--)i=t[v],l=this._getLayer(i.layerId).layer,i.disabled=l.options.minZoom!==void 0&&d<l.options.minZoom||l.options.maxZoom!==void 0&&d>l.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var t=this._section;this._preventClick=!0,Te(t,"click",nt),this.expand();var i=this;setTimeout(function(){We(t,"click",nt),i._preventClick=!1})}}),cs=function(t,i,l){return new vo(t,i,l)},Lr=Rt.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(t){var i="leaflet-control-zoom",l=Le("div",i+" leaflet-bar"),d=this.options;return this._zoomInButton=this._createButton(d.zoomInText,d.zoomInTitle,i+"-in",l,this._zoomIn),this._zoomOutButton=this._createButton(d.zoomOutText,d.zoomOutTitle,i+"-out",l,this._zoomOut),this._updateDisabled(),t.on("zoomend zoomlevelschange",this._updateDisabled,this),l},onRemove:function(t){t.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(t){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(t.shiftKey?3:1))},_zoomOut:function(t){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(t.shiftKey?3:1))},_createButton:function(t,i,l,d,v){var b=Le("a",l,d);return b.innerHTML=t,b.href="#",b.title=i,b.setAttribute("role","button"),b.setAttribute("aria-label",i),_i(b),Te(b,"click",Qt),Te(b,"click",v,this),Te(b,"click",this._refocusOnMap,this),b},_updateDisabled:function(){var t=this._map,i="leaflet-disabled";qe(this._zoomInButton,i),qe(this._zoomOutButton,i),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||t._zoom===t.getMinZoom())&&(Oe(this._zoomOutButton,i),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||t._zoom===t.getMaxZoom())&&(Oe(this._zoomInButton,i),this._zoomInButton.setAttribute("aria-disabled","true"))}});ze.mergeOptions({zoomControl:!0}),ze.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Lr,this.addControl(this.zoomControl))});var La=function(t){return new Lr(t)},Ct=Rt.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(t){var i="leaflet-control-scale",l=Le("div",i),d=this.options;return this._addScales(d,i+"-line",l),t.on(d.updateWhenIdle?"moveend":"move",this._update,this),t.whenReady(this._update,this),l},onRemove:function(t){t.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(t,i,l){t.metric&&(this._mScale=Le("div",i,l)),t.imperial&&(this._iScale=Le("div",i,l))},_update:function(){var t=this._map,i=t.getSize().y/2,l=t.distance(t.containerPointToLatLng([0,i]),t.containerPointToLatLng([this.options.maxWidth,i]));this._updateScales(l)},_updateScales:function(t){this.options.metric&&t&&this._updateMetric(t),this.options.imperial&&t&&this._updateImperial(t)},_updateMetric:function(t){var i=this._getRoundNum(t),l=i<1e3?i+" m":i/1e3+" km";this._updateScale(this._mScale,l,i/t)},_updateImperial:function(t){var i=t*3.2808399,l,d,v;i>5280?(l=i/5280,d=this._getRoundNum(l),this._updateScale(this._iScale,d+" mi",d/l)):(v=this._getRoundNum(i),this._updateScale(this._iScale,v+" ft",v/i))},_updateScale:function(t,i,l){t.style.width=Math.round(this.options.maxWidth*l)+"px",t.innerHTML=i},_getRoundNum:function(t){var i=Math.pow(10,(Math.floor(t)+"").length-1),l=t/i;return l=l>=10?10:l>=5?5:l>=3?3:l>=2?2:1,i*l}}),Ar=function(t){return new Ct(t)},_o='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Xn=Rt.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(_e.inlineSvg?_o+" ":"")+"Leaflet</a>"},initialize:function(t){j(this,t),this._attributions={}},onAdd:function(t){t.attributionControl=this,this._container=Le("div","leaflet-control-attribution"),_i(this._container);for(var i in t._layers)t._layers[i].getAttribution&&this.addAttribution(t._layers[i].getAttribution());return this._update(),t.on("layeradd",this._addAttribution,this),this._container},onRemove:function(t){t.off("layeradd",this._addAttribution,this)},_addAttribution:function(t){t.layer.getAttribution&&(this.addAttribution(t.layer.getAttribution()),t.layer.once("remove",function(){this.removeAttribution(t.layer.getAttribution())},this))},setPrefix:function(t){return this.options.prefix=t,this._update(),this},addAttribution:function(t){return t?(this._attributions[t]||(this._attributions[t]=0),this._attributions[t]++,this._update(),this):this},removeAttribution:function(t){return t?(this._attributions[t]&&(this._attributions[t]--,this._update()),this):this},_update:function(){if(this._map){var t=[];for(var i in this._attributions)this._attributions[i]&&t.push(i);var l=[];this.options.prefix&&l.push(this.options.prefix),t.length&&l.push(t.join(", ")),this._container.innerHTML=l.join(' <span aria-hidden="true">|</span> ')}}});ze.mergeOptions({attributionControl:!0}),ze.addInitHook(function(){this.options.attributionControl&&new Xn().addTo(this)});var su=function(t){return new Xn(t)};Rt.Layers=vo,Rt.Zoom=Lr,Rt.Scale=Ct,Rt.Attribution=Xn,Mn.layers=cs,Mn.zoom=La,Mn.scale=Ar,Mn.attribution=su;var Ut=K.extend({initialize:function(t){this._map=t},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Ut.addTo=function(t,i){return t.addHandler(i,this),this};var yo={Events:M},Nr=_e.touch?"touchstart mousedown":"mousedown",Yt=q.extend({options:{clickTolerance:3},initialize:function(t,i,l,d){j(this,d),this._element=t,this._dragStartTarget=i||t,this._preventOutline=l},enable:function(){this._enabled||(Te(this._dragStartTarget,Nr,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Yt._dragging===this&&this.finishDrag(!0),We(this._dragStartTarget,Nr,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(t){if(this._enabled&&(this._moved=!1,!Er(this._element,"leaflet-zoom-anim"))){if(t.touches&&t.touches.length!==1){Yt._dragging===this&&this.finishDrag();return}if(!(Yt._dragging||t.shiftKey||t.which!==1&&t.button!==1&&!t.touches)&&(Yt._dragging=this,this._preventOutline&&Or(this._element),is(),De(),!this._moving)){this.fire("down");var i=t.touches?t.touches[0]:t,l=bn(this._element);this._startPoint=new I(i.clientX,i.clientY),this._startPos=xn(this._element),this._parentScale=an(l);var d=t.type==="mousedown";Te(document,d?"mousemove":"touchmove",this._onMove,this),Te(document,d?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(t){if(this._enabled){if(t.touches&&t.touches.length>1){this._moved=!0;return}var i=t.touches&&t.touches.length===1?t.touches[0]:t,l=new I(i.clientX,i.clientY)._subtract(this._startPoint);!l.x&&!l.y||Math.abs(l.x)+Math.abs(l.y)<this.options.clickTolerance||(l.x/=this._parentScale.x,l.y/=this._parentScale.y,nt(t),this._moved||(this.fire("dragstart"),this._moved=!0,Oe(document.body,"leaflet-dragging"),this._lastTarget=t.target||t.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Oe(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(l),this._moving=!0,this._lastEvent=t,this._updatePosition())}},_updatePosition:function(){var t={originalEvent:this._lastEvent};this.fire("predrag",t),st(this._element,this._newPos),this.fire("drag",t)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(t){qe(document.body,"leaflet-dragging"),this._lastTarget&&(qe(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),We(document,"mousemove touchmove",this._onMove,this),We(document,"mouseup touchend touchcancel",this._onUp,this),ss(),Cr();var i=this._moved&&this._moving;this._moving=!1,Yt._dragging=!1,i&&this.fire("dragend",{noInertia:t,distance:this._newPos.distanceTo(this._startPos)})}});function wo(t,i,l){var d,v=[1,4,2,8],b,T,z,$,Y,ae,be,Ne;for(b=0,ae=t.length;b<ae;b++)t[b]._code=er(t[b],i);for(z=0;z<4;z++){for(be=v[z],d=[],b=0,ae=t.length,T=ae-1;b<ae;T=b++)$=t[b],Y=t[T],$._code&be?Y._code&be||(Ne=ds(Y,$,be,i,l),Ne._code=er(Ne,i),d.push(Ne)):(Y._code&be&&(Ne=ds(Y,$,be,i,l),Ne._code=er(Ne,i),d.push(Ne)),d.push($));t=d}return t}function Aa(t,i){var l,d,v,b,T,z,$,Y,ae;if(!t||t.length===0)throw new Error("latlngs not passed");Ft(t)||(console.warn("latlngs are not flat! Only the first ring will be used"),t=t[0]);var be=he([0,0]),Ne=oe(t),pt=Ne.getNorthWest().distanceTo(Ne.getSouthWest())*Ne.getNorthEast().distanceTo(Ne.getNorthWest());pt<1700&&(be=xo(t));var ut=t.length,Mt=[];for(l=0;l<ut;l++){var Ot=he(t[l]);Mt.push(i.project(he([Ot.lat-be.lat,Ot.lng-be.lng])))}for(z=$=Y=0,l=0,d=ut-1;l<ut;d=l++)v=Mt[l],b=Mt[d],T=v.y*b.x-b.y*v.x,$+=(v.x+b.x)*T,Y+=(v.y+b.y)*T,z+=T*3;z===0?ae=Mt[0]:ae=[$/z,Y/z];var $r=i.unproject(V(ae));return he([$r.lat+be.lat,$r.lng+be.lng])}function xo(t){for(var i=0,l=0,d=0,v=0;v<t.length;v++){var b=he(t[v]);i+=b.lat,l+=b.lng,d++}return he([i/d,l/d])}var ou={__proto__:null,clipPolygon:wo,polygonCenter:Aa,centroid:xo};function hs(t,i){if(!i||!t.length)return t.slice();var l=i*i;return t=uu(t,l),t=lu(t,l),t}function Na(t,i,l){return Math.sqrt(tr(t,i,l,!0))}function au(t,i,l){return tr(t,i,l)}function lu(t,i){var l=t.length,d=typeof Uint8Array<"u"?Uint8Array:Array,v=new d(l);v[0]=v[l-1]=1,bo(t,v,i,0,l-1);var b,T=[];for(b=0;b<l;b++)v[b]&&T.push(t[b]);return T}function bo(t,i,l,d,v){var b=0,T,z,$;for(z=d+1;z<=v-1;z++)$=tr(t[z],t[d],t[v],!0),$>b&&(T=z,b=$);b>l&&(i[T]=1,bo(t,i,l,d,T),bo(t,i,l,T,v))}function uu(t,i){for(var l=[t[0]],d=1,v=0,b=t.length;d<b;d++)cu(t[d],t[v])>i&&(l.push(t[d]),v=d);return v<b-1&&l.push(t[b-1]),l}var So;function ja(t,i,l,d,v){var b=d?So:er(t,l),T=er(i,l),z,$,Y;for(So=T;;){if(!(b|T))return[t,i];if(b&T)return!1;z=b||T,$=ds(t,i,z,l,v),Y=er($,l),z===b?(t=$,b=Y):(i=$,T=Y)}}function ds(t,i,l,d,v){var b=i.x-t.x,T=i.y-t.y,z=d.min,$=d.max,Y,ae;return l&8?(Y=t.x+b*($.y-t.y)/T,ae=$.y):l&4?(Y=t.x+b*(z.y-t.y)/T,ae=z.y):l&2?(Y=$.x,ae=t.y+T*($.x-t.x)/b):l&1&&(Y=z.x,ae=t.y+T*(z.x-t.x)/b),new I(Y,ae,v)}function er(t,i){var l=0;return t.x<i.min.x?l|=1:t.x>i.max.x&&(l|=2),t.y<i.min.y?l|=4:t.y>i.max.y&&(l|=8),l}function cu(t,i){var l=i.x-t.x,d=i.y-t.y;return l*l+d*d}function tr(t,i,l,d){var v=i.x,b=i.y,T=l.x-v,z=l.y-b,$=T*T+z*z,Y;return $>0&&(Y=((t.x-v)*T+(t.y-b)*z)/$,Y>1?(v=l.x,b=l.y):Y>0&&(v+=T*Y,b+=z*Y)),T=t.x-v,z=t.y-b,d?T*T+z*z:new I(v,b)}function Ft(t){return!J(t[0])||typeof t[0][0]!="object"&&typeof t[0][0]<"u"}function Ra(t){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Ft(t)}function Ia(t,i){var l,d,v,b,T,z,$,Y;if(!t||t.length===0)throw new Error("latlngs not passed");Ft(t)||(console.warn("latlngs are not flat! Only the first ring will be used"),t=t[0]);var ae=he([0,0]),be=oe(t),Ne=be.getNorthWest().distanceTo(be.getSouthWest())*be.getNorthEast().distanceTo(be.getNorthWest());Ne<1700&&(ae=xo(t));var pt=t.length,ut=[];for(l=0;l<pt;l++){var Mt=he(t[l]);ut.push(i.project(he([Mt.lat-ae.lat,Mt.lng-ae.lng])))}for(l=0,d=0;l<pt-1;l++)d+=ut[l].distanceTo(ut[l+1])/2;if(d===0)Y=ut[0];else for(l=0,b=0;l<pt-1;l++)if(T=ut[l],z=ut[l+1],v=T.distanceTo(z),b+=v,b>d){$=(b-d)/v,Y=[z.x-$*(z.x-T.x),z.y-$*(z.y-T.y)];break}var Ot=i.unproject(V(Y));return he([Ot.lat+ae.lat,Ot.lng+ae.lng])}var Ma={__proto__:null,simplify:hs,pointToSegmentDistance:Na,closestPointOnSegment:au,clipSegment:ja,_getEdgeIntersection:ds,_getBitCode:er,_sqClosestPointOnSegment:tr,isFlat:Ft,_flat:Ra,polylineCenter:Ia},ko={project:function(t){return new I(t.lng,t.lat)},unproject:function(t){return new me(t.y,t.x)},bounds:new C([-180,-90],[180,90])},Po={R:6378137,R_MINOR:6356752314245179e-9,bounds:new C([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(t){var i=Math.PI/180,l=this.R,d=t.lat*i,v=this.R_MINOR/l,b=Math.sqrt(1-v*v),T=b*Math.sin(d),z=Math.tan(Math.PI/4-d/2)/Math.pow((1-T)/(1+T),b/2);return d=-l*Math.log(Math.max(z,1e-10)),new I(t.lng*i*l,d)},unproject:function(t){for(var i=180/Math.PI,l=this.R,d=this.R_MINOR/l,v=Math.sqrt(1-d*d),b=Math.exp(-t.y/l),T=Math.PI/2-2*Math.atan(b),z=0,$=.1,Y;z<15&&Math.abs($)>1e-7;z++)Y=v*Math.sin(T),Y=Math.pow((1-Y)/(1+Y),v/2),$=Math.PI/2-2*Math.atan(b*Y)-T,T+=$;return new me(T*i,t.x*i/l)}},hu={__proto__:null,LonLat:ko,Mercator:Po,SphericalMercator:xt},du=h({},Re,{code:"EPSG:3395",projection:Po,transformation:(function(){var t=.5/(Math.PI*Po.R);return yr(t,.5,-t,.5)})()}),za=h({},Re,{code:"EPSG:4326",projection:ko,transformation:yr(1/180,1,-1/180,.5)}),fu=h({},je,{projection:ko,transformation:yr(1,0,-1,0),scale:function(t){return Math.pow(2,t)},zoom:function(t){return Math.log(t)/Math.LN2},distance:function(t,i){var l=i.lng-t.lng,d=i.lat-t.lat;return Math.sqrt(l*l+d*d)},infinite:!0});je.Earth=Re,je.EPSG3395=du,je.EPSG3857=wr,je.EPSG900913=Qs,je.EPSG4326=za,je.Simple=fu;var Xt=q.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(t){return t.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(t){return t&&t.removeLayer(this),this},getPane:function(t){return this._map.getPane(t?this.options[t]||t:this.options.pane)},addInteractiveTarget:function(t){return this._map._targets[y(t)]=this,this},removeInteractiveTarget:function(t){return delete this._map._targets[y(t)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(t){var i=t.target;if(i.hasLayer(this)){if(this._map=i,this._zoomAnimated=i._zoomAnimated,this.getEvents){var l=this.getEvents();i.on(l,this),this.once("remove",function(){i.off(l,this)},this)}this.onAdd(i),this.fire("add"),i.fire("layeradd",{layer:this})}}});ze.include({addLayer:function(t){if(!t._layerAdd)throw new Error("The provided object is not a Layer.");var i=y(t);return this._layers[i]?this:(this._layers[i]=t,t._mapToAdd=this,t.beforeAdd&&t.beforeAdd(this),this.whenReady(t._layerAdd,t),this)},removeLayer:function(t){var i=y(t);return this._layers[i]?(this._loaded&&t.onRemove(this),delete this._layers[i],this._loaded&&(this.fire("layerremove",{layer:t}),t.fire("remove")),t._map=t._mapToAdd=null,this):this},hasLayer:function(t){return y(t)in this._layers},eachLayer:function(t,i){for(var l in this._layers)t.call(i,this._layers[l]);return this},_addLayers:function(t){t=t?J(t)?t:[t]:[];for(var i=0,l=t.length;i<l;i++)this.addLayer(t[i])},_addZoomLimit:function(t){(!isNaN(t.options.maxZoom)||!isNaN(t.options.minZoom))&&(this._zoomBoundLayers[y(t)]=t,this._updateZoomLevels())},_removeZoomLimit:function(t){var i=y(t);this._zoomBoundLayers[i]&&(delete this._zoomBoundLayers[i],this._updateZoomLevels())},_updateZoomLevels:function(){var t=1/0,i=-1/0,l=this._getZoomSpan();for(var d in this._zoomBoundLayers){var v=this._zoomBoundLayers[d].options;t=v.minZoom===void 0?t:Math.min(t,v.minZoom),i=v.maxZoom===void 0?i:Math.max(i,v.maxZoom)}this._layersMaxZoom=i===-1/0?void 0:i,this._layersMinZoom=t===1/0?void 0:t,l!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var zn=Xt.extend({initialize:function(t,i){j(this,i),this._layers={};var l,d;if(t)for(l=0,d=t.length;l<d;l++)this.addLayer(t[l])},addLayer:function(t){var i=this.getLayerId(t);return this._layers[i]=t,this._map&&this._map.addLayer(t),this},removeLayer:function(t){var i=t in this._layers?t:this.getLayerId(t);return this._map&&this._layers[i]&&this._map.removeLayer(this._layers[i]),delete this._layers[i],this},hasLayer:function(t){var i=typeof t=="number"?t:this.getLayerId(t);return i in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(t){var i=Array.prototype.slice.call(arguments,1),l,d;for(l in this._layers)d=this._layers[l],d[t]&&d[t].apply(d,i);return this},onAdd:function(t){this.eachLayer(t.addLayer,t)},onRemove:function(t){this.eachLayer(t.removeLayer,t)},eachLayer:function(t,i){for(var l in this._layers)t.call(i,this._layers[l]);return this},getLayer:function(t){return this._layers[t]},getLayers:function(){var t=[];return this.eachLayer(t.push,t),t},setZIndex:function(t){return this.invoke("setZIndex",t)},getLayerId:function(t){return y(t)}}),xi=function(t,i){return new zn(t,i)},Sn=zn.extend({addLayer:function(t){return this.hasLayer(t)?this:(t.addEventParent(this),zn.prototype.addLayer.call(this,t),this.fire("layeradd",{layer:t}))},removeLayer:function(t){return this.hasLayer(t)?(t in this._layers&&(t=this._layers[t]),t.removeEventParent(this),zn.prototype.removeLayer.call(this,t),this.fire("layerremove",{layer:t})):this},setStyle:function(t){return this.invoke("setStyle",t)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var t=new ce;for(var i in this._layers){var l=this._layers[i];t.extend(l.getBounds?l.getBounds():l.getLatLng())}return t}}),Da=function(t,i){return new Sn(t,i)},nr=K.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(t){j(this,t)},createIcon:function(t){return this._createIcon("icon",t)},createShadow:function(t){return this._createIcon("shadow",t)},_createIcon:function(t,i){var l=this._getIconUrl(t);if(!l){if(t==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var d=this._createImg(l,i&&i.tagName==="IMG"?i:null);return this._setIconStyles(d,t),(this.options.crossOrigin||this.options.crossOrigin==="")&&(d.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),d},_setIconStyles:function(t,i){var l=this.options,d=l[i+"Size"];typeof d=="number"&&(d=[d,d]);var v=V(d),b=V(i==="shadow"&&l.shadowAnchor||l.iconAnchor||v&&v.divideBy(2,!0));t.className="leaflet-marker-"+i+" "+(l.className||""),b&&(t.style.marginLeft=-b.x+"px",t.style.marginTop=-b.y+"px"),v&&(t.style.width=v.x+"px",t.style.height=v.y+"px")},_createImg:function(t,i){return i=i||document.createElement("img"),i.src=t,i},_getIconUrl:function(t){return _e.retina&&this.options[t+"RetinaUrl"]||this.options[t+"Url"]}});function Ba(t){return new nr(t)}var jr=nr.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(t){return typeof jr.imagePath!="string"&&(jr.imagePath=this._detectIconPath()),(this.options.imagePath||jr.imagePath)+nr.prototype._getIconUrl.call(this,t)},_stripUrl:function(t){var i=function(l,d,v){var b=d.exec(l);return b&&b[v]};return t=i(t,/^url\((['"])?(.+)\1\)$/,2),t&&i(t,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var t=Le("div","leaflet-default-icon-path",document.body),i=pi(t,"background-image")||pi(t,"backgroundImage");if(document.body.removeChild(t),i=this._stripUrl(i),i)return i;var l=document.querySelector('link[href$="leaflet.css"]');return l?l.href.substring(0,l.href.length-11-1):""}}),Eo=Ut.extend({initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;this._draggable||(this._draggable=new Yt(t,t,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Oe(t,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&qe(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(t){var i=this._marker,l=i._map,d=this._marker.options.autoPanSpeed,v=this._marker.options.autoPanPadding,b=xn(i._icon),T=l.getPixelBounds(),z=l.getPixelOrigin(),$=Z(T.min._subtract(z).add(v),T.max._subtract(z).subtract(v));if(!$.contains(b)){var Y=V((Math.max($.max.x,b.x)-$.max.x)/(T.max.x-$.max.x)-(Math.min($.min.x,b.x)-$.min.x)/(T.min.x-$.min.x),(Math.max($.max.y,b.y)-$.max.y)/(T.max.y-$.max.y)-(Math.min($.min.y,b.y)-$.min.y)/(T.min.y-$.min.y)).multiplyBy(d);l.panBy(Y,{animate:!1}),this._draggable._newPos._add(Y),this._draggable._startPos._add(Y),st(i._icon,this._draggable._newPos),this._onDrag(t),this._panRequest=Fe(this._adjustPan.bind(this,t))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(t){this._marker.options.autoPan&&(He(this._panRequest),this._panRequest=Fe(this._adjustPan.bind(this,t)))},_onDrag:function(t){var i=this._marker,l=i._shadow,d=xn(i._icon),v=i._map.layerPointToLatLng(d);l&&st(l,d),i._latlng=v,t.latlng=v,t.oldLatLng=this._oldLatLng,i.fire("move",t).fire("drag",t)},_onDragEnd:function(t){He(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",t)}}),kn=Xt.extend({options:{icon:new jr,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(t,i){j(this,i),this._latlng=he(t)},onAdd:function(t){this._zoomAnimated=this._zoomAnimated&&t.options.markerZoomAnimation,this._zoomAnimated&&t.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(t){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&t.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(t){var i=this._latlng;return this._latlng=he(t),this.update(),this.fire("move",{oldLatLng:i,latlng:this._latlng})},setZIndexOffset:function(t){return this.options.zIndexOffset=t,this.update()},getIcon:function(){return this.options.icon},setIcon:function(t){return this.options.icon=t,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var t=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(t)}return this},_initIcon:function(){var t=this.options,i="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),l=t.icon.createIcon(this._icon),d=!1;l!==this._icon&&(this._icon&&this._removeIcon(),d=!0,t.title&&(l.title=t.title),l.tagName==="IMG"&&(l.alt=t.alt||"")),Oe(l,i),t.keyboard&&(l.tabIndex="0",l.setAttribute("role","button")),this._icon=l,t.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Te(l,"focus",this._panOnFocus,this);var v=t.icon.createShadow(this._shadow),b=!1;v!==this._shadow&&(this._removeShadow(),b=!0),v&&(Oe(v,i),v.alt=""),this._shadow=v,t.opacity<1&&this._updateOpacity(),d&&this.getPane().appendChild(this._icon),this._initInteraction(),v&&b&&this.getPane(t.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&We(this._icon,"focus",this._panOnFocus,this),Qe(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Qe(this._shadow),this._shadow=null},_setPos:function(t){this._icon&&st(this._icon,t),this._shadow&&st(this._shadow,t),this._zIndex=t.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(t){this._icon&&(this._icon.style.zIndex=this._zIndex+t)},_animateZoom:function(t){var i=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center).round();this._setPos(i)},_initInteraction:function(){if(this.options.interactive&&(Oe(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Eo)){var t=this.options.draggable;this.dragging&&(t=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Eo(this),t&&this.dragging.enable()}},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var t=this.options.opacity;this._icon&&Tt(this._icon,t),this._shadow&&Tt(this._shadow,t)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var t=this._map;if(t){var i=this.options.icon.options,l=i.iconSize?V(i.iconSize):V(0,0),d=i.iconAnchor?V(i.iconAnchor):V(0,0);t.panInside(this._latlng,{paddingTopLeft:d,paddingBottomRight:l.subtract(d)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function pu(t,i){return new kn(t,i)}var Dn=Xt.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(t){this._renderer=t.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(t){return j(this,t),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&t&&Object.prototype.hasOwnProperty.call(t,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),fs=Dn.extend({options:{fill:!0,radius:10},initialize:function(t,i){j(this,i),this._latlng=he(t),this._radius=this.options.radius},setLatLng:function(t){var i=this._latlng;return this._latlng=he(t),this.redraw(),this.fire("move",{oldLatLng:i,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(t){return this.options.radius=this._radius=t,this.redraw()},getRadius:function(){return this._radius},setStyle:function(t){var i=t&&t.radius||this._radius;return Dn.prototype.setStyle.call(this,t),this.setRadius(i),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var t=this._radius,i=this._radiusY||t,l=this._clickTolerance(),d=[t+l,i+l];this._pxBounds=new C(this._point.subtract(d),this._point.add(d))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(t){return t.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Ua(t,i){return new fs(t,i)}var ps=fs.extend({initialize:function(t,i,l){if(typeof i=="number"&&(i=h({},l,{radius:i})),j(this,i),this._latlng=he(t),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(t){return this._mRadius=t,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var t=[this._radius,this._radiusY||this._radius];return new ce(this._map.layerPointToLatLng(this._point.subtract(t)),this._map.layerPointToLatLng(this._point.add(t)))},setStyle:Dn.prototype.setStyle,_project:function(){var t=this._latlng.lng,i=this._latlng.lat,l=this._map,d=l.options.crs;if(d.distance===Re.distance){var v=Math.PI/180,b=this._mRadius/Re.R/v,T=l.project([i+b,t]),z=l.project([i-b,t]),$=T.add(z).divideBy(2),Y=l.unproject($).lat,ae=Math.acos((Math.cos(b*v)-Math.sin(i*v)*Math.sin(Y*v))/(Math.cos(i*v)*Math.cos(Y*v)))/v;(isNaN(ae)||ae===0)&&(ae=b/Math.cos(Math.PI/180*i)),this._point=$.subtract(l.getPixelOrigin()),this._radius=isNaN(ae)?0:$.x-l.project([Y,t-ae]).x,this._radiusY=$.y-T.y}else{var be=d.unproject(d.project(this._latlng).subtract([this._mRadius,0]));this._point=l.latLngToLayerPoint(this._latlng),this._radius=this._point.x-l.latLngToLayerPoint(be).x}this._updateBounds()}});function bi(t,i,l){return new ps(t,i,l)}var It=Dn.extend({options:{smoothFactor:1,noClip:!1},initialize:function(t,i){j(this,i),this._setLatLngs(t)},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){return this._setLatLngs(t),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(t){for(var i=1/0,l=null,d=tr,v,b,T=0,z=this._parts.length;T<z;T++)for(var $=this._parts[T],Y=1,ae=$.length;Y<ae;Y++){v=$[Y-1],b=$[Y];var be=d(t,v,b,!0);be<i&&(i=be,l=d(t,v,b))}return l&&(l.distance=Math.sqrt(i)),l},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Ia(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(t,i){return i=i||this._defaultShape(),t=he(t),i.push(t),this._bounds.extend(t),this.redraw()},_setLatLngs:function(t){this._bounds=new ce,this._latlngs=this._convertLatLngs(t)},_defaultShape:function(){return Ft(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(t){for(var i=[],l=Ft(t),d=0,v=t.length;d<v;d++)l?(i[d]=he(t[d]),this._bounds.extend(i[d])):i[d]=this._convertLatLngs(t[d]);return i},_project:function(){var t=new C;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,t),this._bounds.isValid()&&t.isValid()&&(this._rawPxBounds=t,this._updateBounds())},_updateBounds:function(){var t=this._clickTolerance(),i=new I(t,t);this._rawPxBounds&&(this._pxBounds=new C([this._rawPxBounds.min.subtract(i),this._rawPxBounds.max.add(i)]))},_projectLatlngs:function(t,i,l){var d=t[0]instanceof me,v=t.length,b,T;if(d){for(T=[],b=0;b<v;b++)T[b]=this._map.latLngToLayerPoint(t[b]),l.extend(T[b]);i.push(T)}else for(b=0;b<v;b++)this._projectLatlngs(t[b],i,l)},_clipPoints:function(){var t=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(t))){if(this.options.noClip){this._parts=this._rings;return}var i=this._parts,l,d,v,b,T,z,$;for(l=0,v=0,b=this._rings.length;l<b;l++)for($=this._rings[l],d=0,T=$.length;d<T-1;d++)z=ja($[d],$[d+1],t,d,!0),z&&(i[v]=i[v]||[],i[v].push(z[0]),(z[1]!==$[d+1]||d===T-2)&&(i[v].push(z[1]),v++))}},_simplifyPoints:function(){for(var t=this._parts,i=this.options.smoothFactor,l=0,d=t.length;l<d;l++)t[l]=hs(t[l],i)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(t,i){var l,d,v,b,T,z,$=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(l=0,b=this._parts.length;l<b;l++)for(z=this._parts[l],d=0,T=z.length,v=T-1;d<T;v=d++)if(!(!i&&d===0)&&Na(t,z[v],z[d])<=$)return!0;return!1}});function mu(t,i){return new It(t,i)}It._flat=Ra;var Pn=It.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Aa(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(t){var i=It.prototype._convertLatLngs.call(this,t),l=i.length;return l>=2&&i[0]instanceof me&&i[0].equals(i[l-1])&&i.pop(),i},_setLatLngs:function(t){It.prototype._setLatLngs.call(this,t),Ft(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Ft(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var t=this._renderer._bounds,i=this.options.weight,l=new I(i,i);if(t=new C(t.min.subtract(l),t.max.add(l)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(t))){if(this.options.noClip){this._parts=this._rings;return}for(var d=0,v=this._rings.length,b;d<v;d++)b=wo(this._rings[d],t,!0),b.length&&this._parts.push(b)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(t){var i=!1,l,d,v,b,T,z,$,Y;if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(b=0,$=this._parts.length;b<$;b++)for(l=this._parts[b],T=0,Y=l.length,z=Y-1;T<Y;z=T++)d=l[T],v=l[z],d.y>t.y!=v.y>t.y&&t.x<(v.x-d.x)*(t.y-d.y)/(v.y-d.y)+d.x&&(i=!i);return i||It.prototype._containsPoint.call(this,t,!0)}});function gu(t,i){return new Pn(t,i)}var un=Sn.extend({initialize:function(t,i){j(this,i),this._layers={},t&&this.addData(t)},addData:function(t){var i=J(t)?t:t.features,l,d,v;if(i){for(l=0,d=i.length;l<d;l++)v=i[l],(v.geometries||v.geometry||v.features||v.coordinates)&&this.addData(v);return this}var b=this.options;if(b.filter&&!b.filter(t))return this;var T=Rr(t,b);return T?(T.feature=ys(t),T.defaultOptions=T.options,this.resetStyle(T),b.onEachFeature&&b.onEachFeature(t,T),this.addLayer(T)):this},resetStyle:function(t){return t===void 0?this.eachLayer(this.resetStyle,this):(t.options=h({},t.defaultOptions),this._setLayerStyle(t,this.options.style),this)},setStyle:function(t){return this.eachLayer(function(i){this._setLayerStyle(i,t)},this)},_setLayerStyle:function(t,i){t.setStyle&&(typeof i=="function"&&(i=i(t.feature)),t.setStyle(i))}});function Rr(t,i){var l=t.type==="Feature"?t.geometry:t,d=l?l.coordinates:null,v=[],b=i&&i.pointToLayer,T=i&&i.coordsToLatLng||gs,z,$,Y,ae;if(!d&&!l)return null;switch(l.type){case"Point":return z=T(d),ms(b,t,z,i);case"MultiPoint":for(Y=0,ae=d.length;Y<ae;Y++)z=T(d[Y]),v.push(ms(b,t,z,i));return new Sn(v);case"LineString":case"MultiLineString":return $=Si(d,l.type==="LineString"?0:1,T),new It($,i);case"Polygon":case"MultiPolygon":return $=Si(d,l.type==="Polygon"?1:2,T),new Pn($,i);case"GeometryCollection":for(Y=0,ae=l.geometries.length;Y<ae;Y++){var be=Rr({geometry:l.geometries[Y],type:"Feature",properties:t.properties},i);be&&v.push(be)}return new Sn(v);case"FeatureCollection":for(Y=0,ae=l.features.length;Y<ae;Y++){var Ne=Rr(l.features[Y],i);Ne&&v.push(Ne)}return new Sn(v);default:throw new Error("Invalid GeoJSON object.")}}function ms(t,i,l,d){return t?t(i,l):new kn(l,d&&d.markersInheritOptions&&d)}function gs(t){return new me(t[1],t[0],t[2])}function Si(t,i,l){for(var d=[],v=0,b=t.length,T;v<b;v++)T=i?Si(t[v],i-1,l):(l||gs)(t[v]),d.push(T);return d}function vs(t,i){return t=he(t),t.alt!==void 0?[E(t.lng,i),E(t.lat,i),E(t.alt,i)]:[E(t.lng,i),E(t.lat,i)]}function _s(t,i,l,d){for(var v=[],b=0,T=t.length;b<T;b++)v.push(i?_s(t[b],Ft(t[b])?0:i-1,l,d):vs(t[b],d));return!i&&l&&v.length>0&&v.push(v[0].slice()),v}function Ir(t,i){return t.feature?h({},t.feature,{geometry:i}):ys(i)}function ys(t){return t.type==="Feature"||t.type==="FeatureCollection"?t:{type:"Feature",properties:{},geometry:t}}var To={toGeoJSON:function(t){return Ir(this,{type:"Point",coordinates:vs(this.getLatLng(),t)})}};kn.include(To),ps.include(To),fs.include(To),It.include({toGeoJSON:function(t){var i=!Ft(this._latlngs),l=_s(this._latlngs,i?1:0,!1,t);return Ir(this,{type:(i?"Multi":"")+"LineString",coordinates:l})}}),Pn.include({toGeoJSON:function(t){var i=!Ft(this._latlngs),l=i&&!Ft(this._latlngs[0]),d=_s(this._latlngs,l?2:i?1:0,!0,t);return i||(d=[d]),Ir(this,{type:(l?"Multi":"")+"Polygon",coordinates:d})}}),zn.include({toMultiPoint:function(t){var i=[];return this.eachLayer(function(l){i.push(l.toGeoJSON(t).geometry.coordinates)}),Ir(this,{type:"MultiPoint",coordinates:i})},toGeoJSON:function(t){var i=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(i==="MultiPoint")return this.toMultiPoint(t);var l=i==="GeometryCollection",d=[];return this.eachLayer(function(v){if(v.toGeoJSON){var b=v.toGeoJSON(t);if(l)d.push(b.geometry);else{var T=ys(b);T.type==="FeatureCollection"?d.push.apply(d,T.features):d.push(T)}}}),l?Ir(this,{geometries:d,type:"GeometryCollection"}):{type:"FeatureCollection",features:d}}});function Fa(t,i){return new un(t,i)}var en=Fa,Bn=Xt.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(t,i,l){this._url=t,this._bounds=oe(i),j(this,l)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Oe(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Qe(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(t){return this.options.opacity=t,this._image&&this._updateOpacity(),this},setStyle:function(t){return t.opacity&&this.setOpacity(t.opacity),this},bringToFront:function(){return this._map&&Pr(this._image),this},bringToBack:function(){return this._map&&wn(this._image),this},setUrl:function(t){return this._url=t,this._image&&(this._image.src=t),this},setBounds:function(t){return this._bounds=oe(t),this._map&&this._reset(),this},getEvents:function(){var t={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var t=this._url.tagName==="IMG",i=this._image=t?this._url:Le("img");if(Oe(i,"leaflet-image-layer"),this._zoomAnimated&&Oe(i,"leaflet-zoom-animated"),this.options.className&&Oe(i,this.options.className),i.onselectstart=O,i.onmousemove=O,i.onload=m(this.fire,this,"load"),i.onerror=m(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(i.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),t){this._url=i.src;return}i.src=this._url,i.alt=this.options.alt},_animateZoom:function(t){var i=this._map.getZoomScale(t.zoom),l=this._map._latLngBoundsToNewLayerBounds(this._bounds,t.zoom,t.center).min;Kt(this._image,l,i)},_reset:function(){var t=this._image,i=new C(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),l=i.getSize();st(t,i.min),t.style.width=l.x+"px",t.style.height=l.y+"px"},_updateOpacity:function(){Tt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var t=this.options.errorOverlayUrl;t&&this._url!==t&&(this._url=t,this._image.src=t)},getCenter:function(){return this._bounds.getCenter()}}),$a=function(t,i,l){return new Bn(t,i,l)},Co=Bn.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var t=this._url.tagName==="VIDEO",i=this._image=t?this._url:Le("video");if(Oe(i,"leaflet-image-layer"),this._zoomAnimated&&Oe(i,"leaflet-zoom-animated"),this.options.className&&Oe(i,this.options.className),i.onselectstart=O,i.onmousemove=O,i.onloadeddata=m(this.fire,this,"load"),t){for(var l=i.getElementsByTagName("source"),d=[],v=0;v<l.length;v++)d.push(l[v].src);this._url=l.length>0?d:[i.src];return}J(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(i.style,"objectFit")&&(i.style.objectFit="fill"),i.autoplay=!!this.options.autoplay,i.loop=!!this.options.loop,i.muted=!!this.options.muted,i.playsInline=!!this.options.playsInline;for(var b=0;b<this._url.length;b++){var T=Le("source");T.src=this._url[b],i.appendChild(T)}}});function Ha(t,i,l){return new Co(t,i,l)}var Oo=Bn.extend({_initImage:function(){var t=this._image=this._url;Oe(t,"leaflet-image-layer"),this._zoomAnimated&&Oe(t,"leaflet-zoom-animated"),this.options.className&&Oe(t,this.options.className),t.onselectstart=O,t.onmousemove=O}});function Lo(t,i,l){return new Oo(t,i,l)}var cn=Xt.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(t,i){t&&(t instanceof me||J(t))?(this._latlng=he(t),j(this,i)):(j(this,t),this._source=i),this.options.content&&(this._content=this.options.content)},openOn:function(t){return t=arguments.length?t:this._source._map,t.hasLayer(this)||t.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(t){return this._map?this.close():(arguments.length?this._source=t:t=this._source,this._prepareOpen(),this.openOn(t._map)),this},onAdd:function(t){this._zoomAnimated=t._zoomAnimated,this._container||this._initLayout(),t._fadeAnimated&&Tt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),t._fadeAnimated&&Tt(this._container,1),this.bringToFront(),this.options.interactive&&(Oe(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(t){t._fadeAnimated?(Tt(this._container,0),this._removeTimeout=setTimeout(m(Qe,void 0,this._container),200)):Qe(this._container),this.options.interactive&&(qe(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=he(t),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(t){return this._content=t,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var t={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Pr(this._container),this},bringToBack:function(){return this._map&&wn(this._container),this},_prepareOpen:function(t){var i=this._source;if(!i._map)return!1;if(i instanceof Sn){i=null;var l=this._source._layers;for(var d in l)if(l[d]._map){i=l[d];break}if(!i)return!1;this._source=i}if(!t)if(i.getCenter)t=i.getCenter();else if(i.getLatLng)t=i.getLatLng();else if(i.getBounds)t=i.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(t),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var t=this._contentNode,i=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof i=="string")t.innerHTML=i;else{for(;t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(i)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var t=this._map.latLngToLayerPoint(this._latlng),i=V(this.options.offset),l=this._getAnchor();this._zoomAnimated?st(this._container,t.add(l)):i=i.add(t).add(l);var d=this._containerBottom=-i.y,v=this._containerLeft=-Math.round(this._containerWidth/2)+i.x;this._container.style.bottom=d+"px",this._container.style.left=v+"px"}},_getAnchor:function(){return[0,0]}});ze.include({_initOverlay:function(t,i,l,d){var v=i;return v instanceof t||(v=new t(d).setContent(i)),l&&v.setLatLng(l),v}}),Xt.include({_initOverlay:function(t,i,l,d){var v=l;return v instanceof t?(j(v,d),v._source=this):(v=i&&!d?i:new t(d,this),v.setContent(l)),v}});var ws=cn.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(t){return t=arguments.length?t:this._source._map,!t.hasLayer(this)&&t._popup&&t._popup.options.autoClose&&t.removeLayer(t._popup),t._popup=this,cn.prototype.openOn.call(this,t)},onAdd:function(t){cn.prototype.onAdd.call(this,t),t.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Dn||this._source.on("preclick",ln))},onRemove:function(t){cn.prototype.onRemove.call(this,t),t.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Dn||this._source.off("preclick",ln))},getEvents:function(){var t=cn.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(t.preclick=this.close),this.options.keepInView&&(t.moveend=this._adjustPan),t},_initLayout:function(){var t="leaflet-popup",i=this._container=Le("div",t+" "+(this.options.className||"")+" leaflet-zoom-animated"),l=this._wrapper=Le("div",t+"-content-wrapper",i);if(this._contentNode=Le("div",t+"-content",l),_i(i),as(this._contentNode),Te(i,"contextmenu",ln),this._tipContainer=Le("div",t+"-tip-container",i),this._tip=Le("div",t+"-tip",this._tipContainer),this.options.closeButton){var d=this._closeButton=Le("a",t+"-close-button",i);d.setAttribute("role","button"),d.setAttribute("aria-label","Close popup"),d.href="#close",d.innerHTML='<span aria-hidden="true">&#215;</span>',Te(d,"click",function(v){nt(v),this.close()},this)}},_updateLayout:function(){var t=this._contentNode,i=t.style;i.width="",i.whiteSpace="nowrap";var l=t.offsetWidth;l=Math.min(l,this.options.maxWidth),l=Math.max(l,this.options.minWidth),i.width=l+1+"px",i.whiteSpace="",i.height="";var d=t.offsetHeight,v=this.options.maxHeight,b="leaflet-popup-scrolled";v&&d>v?(i.height=v+"px",Oe(t,b)):qe(t,b),this._containerWidth=this._container.offsetWidth},_animateZoom:function(t){var i=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center),l=this._getAnchor();st(this._container,i.add(l))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var t=this._map,i=parseInt(pi(this._container,"marginBottom"),10)||0,l=this._container.offsetHeight+i,d=this._containerWidth,v=new I(this._containerLeft,-l-this._containerBottom);v._add(xn(this._container));var b=t.layerPointToContainerPoint(v),T=V(this.options.autoPanPadding),z=V(this.options.autoPanPaddingTopLeft||T),$=V(this.options.autoPanPaddingBottomRight||T),Y=t.getSize(),ae=0,be=0;b.x+d+$.x>Y.x&&(ae=b.x+d-Y.x+$.x),b.x-ae-z.x<0&&(ae=b.x-z.x),b.y+l+$.y>Y.y&&(be=b.y+l-Y.y+$.y),b.y-be-z.y<0&&(be=b.y-z.y),(ae||be)&&(this.options.keepInView&&(this._autopanning=!0),t.fire("autopanstart").panBy([ae,be]))}},_getAnchor:function(){return V(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Mr=function(t,i){return new ws(t,i)};ze.mergeOptions({closePopupOnClick:!0}),ze.include({openPopup:function(t,i,l){return this._initOverlay(ws,t,i,l).openOn(this),this},closePopup:function(t){return t=arguments.length?t:this._popup,t&&t.close(),this}}),Xt.include({bindPopup:function(t,i){return this._popup=this._initOverlay(ws,this._popup,t,i),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(t){return this._popup&&(this instanceof Sn||(this._popup._source=this),this._popup._prepareOpen(t||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(t){return this._popup&&this._popup.setContent(t),this},getPopup:function(){return this._popup},_openPopup:function(t){if(!(!this._popup||!this._map)){Qt(t);var i=t.layer||t.target;if(this._popup._source===i&&!(i instanceof Dn)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(t.latlng);return}this._popup._source=i,this.openPopup(t.latlng)}},_movePopup:function(t){this._popup.setLatLng(t.latlng)},_onKeyPress:function(t){t.originalEvent.keyCode===13&&this._openPopup(t)}});var zr=cn.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(t){cn.prototype.onAdd.call(this,t),this.setOpacity(this.options.opacity),t.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(t){cn.prototype.onRemove.call(this,t),t.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var t=cn.prototype.getEvents.call(this);return this.options.permanent||(t.preclick=this.close),t},_initLayout:function(){var t="leaflet-tooltip",i=t+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Le("div",i),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+y(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(t){var i,l,d=this._map,v=this._container,b=d.latLngToContainerPoint(d.getCenter()),T=d.layerPointToContainerPoint(t),z=this.options.direction,$=v.offsetWidth,Y=v.offsetHeight,ae=V(this.options.offset),be=this._getAnchor();z==="top"?(i=$/2,l=Y):z==="bottom"?(i=$/2,l=0):z==="center"?(i=$/2,l=Y/2):z==="right"?(i=0,l=Y/2):z==="left"?(i=$,l=Y/2):T.x<b.x?(z="right",i=0,l=Y/2):(z="left",i=$+(ae.x+be.x)*2,l=Y/2),t=t.subtract(V(i,l,!0)).add(ae).add(be),qe(v,"leaflet-tooltip-right"),qe(v,"leaflet-tooltip-left"),qe(v,"leaflet-tooltip-top"),qe(v,"leaflet-tooltip-bottom"),Oe(v,"leaflet-tooltip-"+z),st(v,t)},_updatePosition:function(){var t=this._map.latLngToLayerPoint(this._latlng);this._setPosition(t)},setOpacity:function(t){this.options.opacity=t,this._container&&Tt(this._container,t)},_animateZoom:function(t){var i=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);this._setPosition(i)},_getAnchor:function(){return V(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),ki=function(t,i){return new zr(t,i)};ze.include({openTooltip:function(t,i,l){return this._initOverlay(zr,t,i,l).openOn(this),this},closeTooltip:function(t){return t.close(),this}}),Xt.include({bindTooltip:function(t,i){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(zr,this._tooltip,t,i),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(t){if(!(!t&&this._tooltipHandlersAdded)){var i=t?"off":"on",l={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?l.add=this._openTooltip:(l.mouseover=this._openTooltip,l.mouseout=this.closeTooltip,l.click=this._openTooltip,this._map?this._addFocusListeners():l.add=this._addFocusListeners),this._tooltip.options.sticky&&(l.mousemove=this._moveTooltip),this[i](l),this._tooltipHandlersAdded=!t}},openTooltip:function(t){return this._tooltip&&(this instanceof Sn||(this._tooltip._source=this),this._tooltip._prepareOpen(t)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(t){return this._tooltip&&this._tooltip.setContent(t),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(t){var i=typeof t.getElement=="function"&&t.getElement();i&&(Te(i,"focus",function(){this._tooltip._source=t,this.openTooltip()},this),Te(i,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(t){var i=typeof t.getElement=="function"&&t.getElement();i&&i.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(t){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var i=this;this._map.once("moveend",function(){i._openOnceFlag=!1,i._openTooltip(t)});return}this._tooltip._source=t.layer||t.target,this.openTooltip(this._tooltip.options.sticky?t.latlng:void 0)}},_moveTooltip:function(t){var i=t.latlng,l,d;this._tooltip.options.sticky&&t.originalEvent&&(l=this._map.mouseEventToContainerPoint(t.originalEvent),d=this._map.containerPointToLayerPoint(l),i=this._map.layerPointToLatLng(d)),this._tooltip.setLatLng(i)}});var xs=nr.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(t){var i=t&&t.tagName==="DIV"?t:document.createElement("div"),l=this.options;if(l.html instanceof Element?(ts(i),i.appendChild(l.html)):i.innerHTML=l.html!==!1?l.html:"",l.bgPos){var d=V(l.bgPos);i.style.backgroundPosition=-d.x+"px "+-d.y+"px"}return this._setIconStyles(i,"icon"),i},createShadow:function(){return null}});function Wa(t){return new xs(t)}nr.Default=jr;var Un=Xt.extend({options:{tileSize:256,opacity:1,updateWhenIdle:_e.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(t){j(this,t)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(t){t._addZoomLimit(this)},onRemove:function(t){this._removeAllTiles(),Qe(this._container),t._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Pr(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(wn(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var t=this._clampZoom(this._map.getZoom());t!==this._tileZoom&&(this._tileZoom=t,this._updateLevels()),this._update()}return this},getEvents:function(){var t={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=S(this._onMoveEnd,this.options.updateInterval,this)),t.move=this._onMove),this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},createTile:function(){return document.createElement("div")},getTileSize:function(){var t=this.options.tileSize;return t instanceof I?t:new I(t,t)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(t){for(var i=this.getPane().children,l=-t(-1/0,1/0),d=0,v=i.length,b;d<v;d++)b=i[d].style.zIndex,i[d]!==this._container&&b&&(l=t(l,+b));isFinite(l)&&(this.options.zIndex=l+t(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!_e.ielt9){Tt(this._container,this.options.opacity);var t=+new Date,i=!1,l=!1;for(var d in this._tiles){var v=this._tiles[d];if(!(!v.current||!v.loaded)){var b=Math.min(1,(t-v.loaded)/200);Tt(v.el,b),b<1?i=!0:(v.active?l=!0:this._onOpaqueTile(v),v.active=!0)}}l&&!this._noPrune&&this._pruneTiles(),i&&(He(this._fadeFrame),this._fadeFrame=Fe(this._updateOpacity,this))}},_onOpaqueTile:O,_initContainer:function(){this._container||(this._container=Le("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var t=this._tileZoom,i=this.options.maxZoom;if(t!==void 0){for(var l in this._levels)l=Number(l),this._levels[l].el.children.length||l===t?(this._levels[l].el.style.zIndex=i-Math.abs(t-l),this._onUpdateLevel(l)):(Qe(this._levels[l].el),this._removeTilesAtZoom(l),this._onRemoveLevel(l),delete this._levels[l]);var d=this._levels[t],v=this._map;return d||(d=this._levels[t]={},d.el=Le("div","leaflet-tile-container leaflet-zoom-animated",this._container),d.el.style.zIndex=i,d.origin=v.project(v.unproject(v.getPixelOrigin()),t).round(),d.zoom=t,this._setZoomTransform(d,v.getCenter(),v.getZoom()),O(d.el.offsetWidth),this._onCreateLevel(d)),this._level=d,d}},_onUpdateLevel:O,_onRemoveLevel:O,_onCreateLevel:O,_pruneTiles:function(){if(this._map){var t,i,l=this._map.getZoom();if(l>this.options.maxZoom||l<this.options.minZoom){this._removeAllTiles();return}for(t in this._tiles)i=this._tiles[t],i.retain=i.current;for(t in this._tiles)if(i=this._tiles[t],i.current&&!i.active){var d=i.coords;this._retainParent(d.x,d.y,d.z,d.z-5)||this._retainChildren(d.x,d.y,d.z,d.z+2)}for(t in this._tiles)this._tiles[t].retain||this._removeTile(t)}},_removeTilesAtZoom:function(t){for(var i in this._tiles)this._tiles[i].coords.z===t&&this._removeTile(i)},_removeAllTiles:function(){for(var t in this._tiles)this._removeTile(t)},_invalidateAll:function(){for(var t in this._levels)Qe(this._levels[t].el),this._onRemoveLevel(Number(t)),delete this._levels[t];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(t,i,l,d){var v=Math.floor(t/2),b=Math.floor(i/2),T=l-1,z=new I(+v,+b);z.z=+T;var $=this._tileCoordsToKey(z),Y=this._tiles[$];return Y&&Y.active?(Y.retain=!0,!0):(Y&&Y.loaded&&(Y.retain=!0),T>d?this._retainParent(v,b,T,d):!1)},_retainChildren:function(t,i,l,d){for(var v=2*t;v<2*t+2;v++)for(var b=2*i;b<2*i+2;b++){var T=new I(v,b);T.z=l+1;var z=this._tileCoordsToKey(T),$=this._tiles[z];if($&&$.active){$.retain=!0;continue}else $&&$.loaded&&($.retain=!0);l+1<d&&this._retainChildren(v,b,l+1,d)}},_resetView:function(t){var i=t&&(t.pinch||t.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),i,i)},_animateZoom:function(t){this._setView(t.center,t.zoom,!0,t.noUpdate)},_clampZoom:function(t){var i=this.options;return i.minNativeZoom!==void 0&&t<i.minNativeZoom?i.minNativeZoom:i.maxNativeZoom!==void 0&&i.maxNativeZoom<t?i.maxNativeZoom:t},_setView:function(t,i,l,d){var v=Math.round(i);this.options.maxZoom!==void 0&&v>this.options.maxZoom||this.options.minZoom!==void 0&&v<this.options.minZoom?v=void 0:v=this._clampZoom(v);var b=this.options.updateWhenZooming&&v!==this._tileZoom;(!d||b)&&(this._tileZoom=v,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),v!==void 0&&this._update(t),l||this._pruneTiles(),this._noPrune=!!l),this._setZoomTransforms(t,i)},_setZoomTransforms:function(t,i){for(var l in this._levels)this._setZoomTransform(this._levels[l],t,i)},_setZoomTransform:function(t,i,l){var d=this._map.getZoomScale(l,t.zoom),v=t.origin.multiplyBy(d).subtract(this._map._getNewPixelOrigin(i,l)).round();_e.any3d?Kt(t.el,v,d):st(t.el,v)},_resetGrid:function(){var t=this._map,i=t.options.crs,l=this._tileSize=this.getTileSize(),d=this._tileZoom,v=this._map.getPixelWorldBounds(this._tileZoom);v&&(this._globalTileRange=this._pxBoundsToTileRange(v)),this._wrapX=i.wrapLng&&!this.options.noWrap&&[Math.floor(t.project([0,i.wrapLng[0]],d).x/l.x),Math.ceil(t.project([0,i.wrapLng[1]],d).x/l.y)],this._wrapY=i.wrapLat&&!this.options.noWrap&&[Math.floor(t.project([i.wrapLat[0],0],d).y/l.x),Math.ceil(t.project([i.wrapLat[1],0],d).y/l.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(t){var i=this._map,l=i._animatingZoom?Math.max(i._animateToZoom,i.getZoom()):i.getZoom(),d=i.getZoomScale(l,this._tileZoom),v=i.project(t,this._tileZoom).floor(),b=i.getSize().divideBy(d*2);return new C(v.subtract(b),v.add(b))},_update:function(t){var i=this._map;if(i){var l=this._clampZoom(i.getZoom());if(t===void 0&&(t=i.getCenter()),this._tileZoom!==void 0){var d=this._getTiledPixelBounds(t),v=this._pxBoundsToTileRange(d),b=v.getCenter(),T=[],z=this.options.keepBuffer,$=new C(v.getBottomLeft().subtract([z,-z]),v.getTopRight().add([z,-z]));if(!(isFinite(v.min.x)&&isFinite(v.min.y)&&isFinite(v.max.x)&&isFinite(v.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var Y in this._tiles){var ae=this._tiles[Y].coords;(ae.z!==this._tileZoom||!$.contains(new I(ae.x,ae.y)))&&(this._tiles[Y].current=!1)}if(Math.abs(l-this._tileZoom)>1){this._setView(t,l);return}for(var be=v.min.y;be<=v.max.y;be++)for(var Ne=v.min.x;Ne<=v.max.x;Ne++){var pt=new I(Ne,be);if(pt.z=this._tileZoom,!!this._isValidTile(pt)){var ut=this._tiles[this._tileCoordsToKey(pt)];ut?ut.current=!0:T.push(pt)}}if(T.sort(function(Ot,$r){return Ot.distanceTo(b)-$r.distanceTo(b)}),T.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Mt=document.createDocumentFragment();for(Ne=0;Ne<T.length;Ne++)this._addTile(T[Ne],Mt);this._level.el.appendChild(Mt)}}}},_isValidTile:function(t){var i=this._map.options.crs;if(!i.infinite){var l=this._globalTileRange;if(!i.wrapLng&&(t.x<l.min.x||t.x>l.max.x)||!i.wrapLat&&(t.y<l.min.y||t.y>l.max.y))return!1}if(!this.options.bounds)return!0;var d=this._tileCoordsToBounds(t);return oe(this.options.bounds).overlaps(d)},_keyToBounds:function(t){return this._tileCoordsToBounds(this._keyToTileCoords(t))},_tileCoordsToNwSe:function(t){var i=this._map,l=this.getTileSize(),d=t.scaleBy(l),v=d.add(l),b=i.unproject(d,t.z),T=i.unproject(v,t.z);return[b,T]},_tileCoordsToBounds:function(t){var i=this._tileCoordsToNwSe(t),l=new ce(i[0],i[1]);return this.options.noWrap||(l=this._map.wrapLatLngBounds(l)),l},_tileCoordsToKey:function(t){return t.x+":"+t.y+":"+t.z},_keyToTileCoords:function(t){var i=t.split(":"),l=new I(+i[0],+i[1]);return l.z=+i[2],l},_removeTile:function(t){var i=this._tiles[t];i&&(Qe(i.el),delete this._tiles[t],this.fire("tileunload",{tile:i.el,coords:this._keyToTileCoords(t)}))},_initTile:function(t){Oe(t,"leaflet-tile");var i=this.getTileSize();t.style.width=i.x+"px",t.style.height=i.y+"px",t.onselectstart=O,t.onmousemove=O,_e.ielt9&&this.options.opacity<1&&Tt(t,this.options.opacity)},_addTile:function(t,i){var l=this._getTilePos(t),d=this._tileCoordsToKey(t),v=this.createTile(this._wrapCoords(t),m(this._tileReady,this,t));this._initTile(v),this.createTile.length<2&&Fe(m(this._tileReady,this,t,null,v)),st(v,l),this._tiles[d]={el:v,coords:t,current:!0},i.appendChild(v),this.fire("tileloadstart",{tile:v,coords:t})},_tileReady:function(t,i,l){i&&this.fire("tileerror",{error:i,tile:l,coords:t});var d=this._tileCoordsToKey(t);l=this._tiles[d],l&&(l.loaded=+new Date,this._map._fadeAnimated?(Tt(l.el,0),He(this._fadeFrame),this._fadeFrame=Fe(this._updateOpacity,this)):(l.active=!0,this._pruneTiles()),i||(Oe(l.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:l.el,coords:t})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),_e.ielt9||!this._map._fadeAnimated?Fe(this._pruneTiles,this):setTimeout(m(this._pruneTiles,this),250)))},_getTilePos:function(t){return t.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(t){var i=new I(this._wrapX?P(t.x,this._wrapX):t.x,this._wrapY?P(t.y,this._wrapY):t.y);return i.z=t.z,i},_pxBoundsToTileRange:function(t){var i=this.getTileSize();return new C(t.min.unscaleBy(i).floor(),t.max.unscaleBy(i).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var t in this._tiles)if(!this._tiles[t].loaded)return!1;return!0}});function Dr(t){return new Un(t)}var Fn=Un.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(t,i){this._url=t,i=j(this,i),i.detectRetina&&_e.retina&&i.maxZoom>0?(i.tileSize=Math.floor(i.tileSize/2),i.zoomReverse?(i.zoomOffset--,i.minZoom=Math.min(i.maxZoom,i.minZoom+1)):(i.zoomOffset++,i.maxZoom=Math.max(i.minZoom,i.maxZoom-1)),i.minZoom=Math.max(0,i.minZoom)):i.zoomReverse?i.minZoom=Math.min(i.maxZoom,i.minZoom):i.maxZoom=Math.max(i.minZoom,i.maxZoom),typeof i.subdomains=="string"&&(i.subdomains=i.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(t,i){return this._url===t&&i===void 0&&(i=!0),this._url=t,i||this.redraw(),this},createTile:function(t,i){var l=document.createElement("img");return Te(l,"load",m(this._tileOnLoad,this,i,l)),Te(l,"error",m(this._tileOnError,this,i,l)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(l.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(l.referrerPolicy=this.options.referrerPolicy),l.alt="",l.src=this.getTileUrl(t),l},getTileUrl:function(t){var i={r:_e.retina?"@2x":"",s:this._getSubdomain(t),x:t.x,y:t.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var l=this._globalTileRange.max.y-t.y;this.options.tms&&(i.y=l),i["-y"]=l}return te(this._url,h(i,this.options))},_tileOnLoad:function(t,i){_e.ielt9?setTimeout(m(t,this,null,i),0):t(null,i)},_tileOnError:function(t,i,l){var d=this.options.errorTileUrl;d&&i.getAttribute("src")!==d&&(i.src=d),t(l,i)},_onTileRemove:function(t){t.tile.onload=null},_getZoomForUrl:function(){var t=this._tileZoom,i=this.options.maxZoom,l=this.options.zoomReverse,d=this.options.zoomOffset;return l&&(t=i-t),t+d},_getSubdomain:function(t){var i=Math.abs(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[i]},_abortLoading:function(){var t,i;for(t in this._tiles)if(this._tiles[t].coords.z!==this._tileZoom&&(i=this._tiles[t].el,i.onload=O,i.onerror=O,!i.complete)){i.src=le;var l=this._tiles[t].coords;Qe(i),delete this._tiles[t],this.fire("tileabort",{tile:i,coords:l})}},_removeTile:function(t){var i=this._tiles[t];if(i)return i.el.setAttribute("src",le),Un.prototype._removeTile.call(this,t)},_tileReady:function(t,i,l){if(!(!this._map||l&&l.getAttribute("src")===le))return Un.prototype._tileReady.call(this,t,i,l)}});function Ao(t,i){return new Fn(t,i)}var Pi=Fn.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(t,i){this._url=t;var l=h({},this.defaultWmsParams);for(var d in i)d in this.options||(l[d]=i[d]);i=j(this,i);var v=i.detectRetina&&_e.retina?2:1,b=this.getTileSize();l.width=b.x*v,l.height=b.y*v,this.wmsParams=l},onAdd:function(t){this._crs=this.options.crs||t.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var i=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[i]=this._crs.code,Fn.prototype.onAdd.call(this,t)},getTileUrl:function(t){var i=this._tileCoordsToNwSe(t),l=this._crs,d=Z(l.project(i[0]),l.project(i[1])),v=d.min,b=d.max,T=(this._wmsVersion>=1.3&&this._crs===za?[v.y,v.x,b.y,b.x]:[v.x,v.y,b.x,b.y]).join(","),z=Fn.prototype.getTileUrl.call(this,t);return z+D(this.wmsParams,z,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+T},setParams:function(t,i){return h(this.wmsParams,t),i||this.redraw(),this}});function Va(t,i){return new Pi(t,i)}Fn.WMS=Pi,Ao.wms=Va;var hn=Xt.extend({options:{padding:.1},initialize:function(t){j(this,t),y(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Oe(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var t={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(t.zoomanim=this._onAnimZoom),t},_onAnimZoom:function(t){this._updateTransform(t.center,t.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(t,i){var l=this._map.getZoomScale(i,this._zoom),d=this._map.getSize().multiplyBy(.5+this.options.padding),v=this._map.project(this._center,i),b=d.multiplyBy(-l).add(v).subtract(this._map._getNewPixelOrigin(t,i));_e.any3d?Kt(this._container,b,l):st(this._container,b)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var t in this._layers)this._layers[t]._reset()},_onZoomEnd:function(){for(var t in this._layers)this._layers[t]._project()},_updatePaths:function(){for(var t in this._layers)this._layers[t]._update()},_update:function(){var t=this.options.padding,i=this._map.getSize(),l=this._map.containerPointToLayerPoint(i.multiplyBy(-t)).round();this._bounds=new C(l,l.add(i.multiplyBy(1+t*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),No=hn.extend({options:{tolerance:0},getEvents:function(){var t=hn.prototype.getEvents.call(this);return t.viewprereset=this._onViewPreReset,t},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){hn.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var t=this._container=document.createElement("canvas");Te(t,"mousemove",this._onMouseMove,this),Te(t,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Te(t,"mouseout",this._handleMouseOut,this),t._leaflet_disable_events=!0,this._ctx=t.getContext("2d")},_destroyContainer:function(){He(this._redrawRequest),delete this._ctx,Qe(this._container),We(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var t;this._redrawBounds=null;for(var i in this._layers)t=this._layers[i],t._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){hn.prototype._update.call(this);var t=this._bounds,i=this._container,l=t.getSize(),d=_e.retina?2:1;st(i,t.min),i.width=d*l.x,i.height=d*l.y,i.style.width=l.x+"px",i.style.height=l.y+"px",_e.retina&&this._ctx.scale(2,2),this._ctx.translate(-t.min.x,-t.min.y),this.fire("update")}},_reset:function(){hn.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(t){this._updateDashArray(t),this._layers[y(t)]=t;var i=t._order={layer:t,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=i),this._drawLast=i,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(t){this._requestRedraw(t)},_removePath:function(t){var i=t._order,l=i.next,d=i.prev;l?l.prev=d:this._drawLast=d,d?d.next=l:this._drawFirst=l,delete t._order,delete this._layers[y(t)],this._requestRedraw(t)},_updatePath:function(t){this._extendRedrawBounds(t),t._project(),t._update(),this._requestRedraw(t)},_updateStyle:function(t){this._updateDashArray(t),this._requestRedraw(t)},_updateDashArray:function(t){if(typeof t.options.dashArray=="string"){var i=t.options.dashArray.split(/[, ]+/),l=[],d,v;for(v=0;v<i.length;v++){if(d=Number(i[v]),isNaN(d))return;l.push(d)}t.options._dashArray=l}else t.options._dashArray=t.options.dashArray},_requestRedraw:function(t){this._map&&(this._extendRedrawBounds(t),this._redrawRequest=this._redrawRequest||Fe(this._redraw,this))},_extendRedrawBounds:function(t){if(t._pxBounds){var i=(t.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new C,this._redrawBounds.extend(t._pxBounds.min.subtract([i,i])),this._redrawBounds.extend(t._pxBounds.max.add([i,i]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var t=this._redrawBounds;if(t){var i=t.getSize();this._ctx.clearRect(t.min.x,t.min.y,i.x,i.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var t,i=this._redrawBounds;if(this._ctx.save(),i){var l=i.getSize();this._ctx.beginPath(),this._ctx.rect(i.min.x,i.min.y,l.x,l.y),this._ctx.clip()}this._drawing=!0;for(var d=this._drawFirst;d;d=d.next)t=d.layer,(!i||t._pxBounds&&t._pxBounds.intersects(i))&&t._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(t,i){if(this._drawing){var l,d,v,b,T=t._parts,z=T.length,$=this._ctx;if(z){for($.beginPath(),l=0;l<z;l++){for(d=0,v=T[l].length;d<v;d++)b=T[l][d],$[d?"lineTo":"moveTo"](b.x,b.y);i&&$.closePath()}this._fillStroke($,t)}}},_updateCircle:function(t){if(!(!this._drawing||t._empty())){var i=t._point,l=this._ctx,d=Math.max(Math.round(t._radius),1),v=(Math.max(Math.round(t._radiusY),1)||d)/d;v!==1&&(l.save(),l.scale(1,v)),l.beginPath(),l.arc(i.x,i.y/v,d,0,Math.PI*2,!1),v!==1&&l.restore(),this._fillStroke(l,t)}},_fillStroke:function(t,i){var l=i.options;l.fill&&(t.globalAlpha=l.fillOpacity,t.fillStyle=l.fillColor||l.color,t.fill(l.fillRule||"evenodd")),l.stroke&&l.weight!==0&&(t.setLineDash&&t.setLineDash(i.options&&i.options._dashArray||[]),t.globalAlpha=l.opacity,t.lineWidth=l.weight,t.strokeStyle=l.color,t.lineCap=l.lineCap,t.lineJoin=l.lineJoin,t.stroke())},_onClick:function(t){for(var i=this._map.mouseEventToLayerPoint(t),l,d,v=this._drawFirst;v;v=v.next)l=v.layer,l.options.interactive&&l._containsPoint(i)&&(!(t.type==="click"||t.type==="preclick")||!this._map._draggableMoved(l))&&(d=l);this._fireEvent(d?[d]:!1,t)},_onMouseMove:function(t){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var i=this._map.mouseEventToLayerPoint(t);this._handleMouseHover(t,i)}},_handleMouseOut:function(t){var i=this._hoveredLayer;i&&(qe(this._container,"leaflet-interactive"),this._fireEvent([i],t,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(t,i){if(!this._mouseHoverThrottled){for(var l,d,v=this._drawFirst;v;v=v.next)l=v.layer,l.options.interactive&&l._containsPoint(i)&&(d=l);d!==this._hoveredLayer&&(this._handleMouseOut(t),d&&(Oe(this._container,"leaflet-interactive"),this._fireEvent([d],t,"mouseover"),this._hoveredLayer=d)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,t),this._mouseHoverThrottled=!0,setTimeout(m(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(t,i,l){this._map._fireDOMEvent(i,l||i.type,t)},_bringToFront:function(t){var i=t._order;if(i){var l=i.next,d=i.prev;if(l)l.prev=d;else return;d?d.next=l:l&&(this._drawFirst=l),i.prev=this._drawLast,this._drawLast.next=i,i.next=null,this._drawLast=i,this._requestRedraw(t)}},_bringToBack:function(t){var i=t._order;if(i){var l=i.next,d=i.prev;if(d)d.next=l;else return;l?l.prev=d:d&&(this._drawLast=d),i.prev=null,i.next=this._drawFirst,this._drawFirst.prev=i,this._drawFirst=i,this._requestRedraw(t)}}});function jo(t){return _e.canvas?new No(t):null}var Br=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(t){return document.createElement("<lvml:"+t+' class="lvml">')}}catch{}return function(t){return document.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),Za={_initContainer:function(){this._container=Le("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(hn.prototype._update.call(this),this.fire("update"))},_initPath:function(t){var i=t._container=Br("shape");Oe(i,"leaflet-vml-shape "+(this.options.className||"")),i.coordsize="1 1",t._path=Br("path"),i.appendChild(t._path),this._updateStyle(t),this._layers[y(t)]=t},_addPath:function(t){var i=t._container;this._container.appendChild(i),t.options.interactive&&t.addInteractiveTarget(i)},_removePath:function(t){var i=t._container;Qe(i),t.removeInteractiveTarget(i),delete this._layers[y(t)]},_updateStyle:function(t){var i=t._stroke,l=t._fill,d=t.options,v=t._container;v.stroked=!!d.stroke,v.filled=!!d.fill,d.stroke?(i||(i=t._stroke=Br("stroke")),v.appendChild(i),i.weight=d.weight+"px",i.color=d.color,i.opacity=d.opacity,d.dashArray?i.dashStyle=J(d.dashArray)?d.dashArray.join(" "):d.dashArray.replace(/( *, *)/g," "):i.dashStyle="",i.endcap=d.lineCap.replace("butt","flat"),i.joinstyle=d.lineJoin):i&&(v.removeChild(i),t._stroke=null),d.fill?(l||(l=t._fill=Br("fill")),v.appendChild(l),l.color=d.fillColor||d.color,l.opacity=d.fillOpacity):l&&(v.removeChild(l),t._fill=null)},_updateCircle:function(t){var i=t._point.round(),l=Math.round(t._radius),d=Math.round(t._radiusY||l);this._setPath(t,t._empty()?"M0 0":"AL "+i.x+","+i.y+" "+l+","+d+" 0,"+65535*360)},_setPath:function(t,i){t._path.v=i},_bringToFront:function(t){Pr(t._container)},_bringToBack:function(t){wn(t._container)}},tn=_e.vml?Br:Ys,rr=hn.extend({_initContainer:function(){this._container=tn("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=tn("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Qe(this._container),We(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){hn.prototype._update.call(this);var t=this._bounds,i=t.getSize(),l=this._container;(!this._svgSize||!this._svgSize.equals(i))&&(this._svgSize=i,l.setAttribute("width",i.x),l.setAttribute("height",i.y)),st(l,t.min),l.setAttribute("viewBox",[t.min.x,t.min.y,i.x,i.y].join(" ")),this.fire("update")}},_initPath:function(t){var i=t._path=tn("path");t.options.className&&Oe(i,t.options.className),t.options.interactive&&Oe(i,"leaflet-interactive"),this._updateStyle(t),this._layers[y(t)]=t},_addPath:function(t){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(t._path),t.addInteractiveTarget(t._path)},_removePath:function(t){Qe(t._path),t.removeInteractiveTarget(t._path),delete this._layers[y(t)]},_updatePath:function(t){t._project(),t._update()},_updateStyle:function(t){var i=t._path,l=t.options;i&&(l.stroke?(i.setAttribute("stroke",l.color),i.setAttribute("stroke-opacity",l.opacity),i.setAttribute("stroke-width",l.weight),i.setAttribute("stroke-linecap",l.lineCap),i.setAttribute("stroke-linejoin",l.lineJoin),l.dashArray?i.setAttribute("stroke-dasharray",l.dashArray):i.removeAttribute("stroke-dasharray"),l.dashOffset?i.setAttribute("stroke-dashoffset",l.dashOffset):i.removeAttribute("stroke-dashoffset")):i.setAttribute("stroke","none"),l.fill?(i.setAttribute("fill",l.fillColor||l.color),i.setAttribute("fill-opacity",l.fillOpacity),i.setAttribute("fill-rule",l.fillRule||"evenodd")):i.setAttribute("fill","none"))},_updatePoly:function(t,i){this._setPath(t,Xs(t._parts,i))},_updateCircle:function(t){var i=t._point,l=Math.max(Math.round(t._radius),1),d=Math.max(Math.round(t._radiusY),1)||l,v="a"+l+","+d+" 0 1,0 ",b=t._empty()?"M0 0":"M"+(i.x-l)+","+i.y+v+l*2+",0 "+v+-l*2+",0 ";this._setPath(t,b)},_setPath:function(t,i){t._path.setAttribute("d",i)},_bringToFront:function(t){Pr(t._path)},_bringToBack:function(t){wn(t._path)}});_e.vml&&rr.include(Za);function bs(t){return _e.svg||_e.vml?new rr(t):null}ze.include({getRenderer:function(t){var i=t.options.renderer||this._getPaneRenderer(t.options.pane)||this.options.renderer||this._renderer;return i||(i=this._renderer=this._createRenderer()),this.hasLayer(i)||this.addLayer(i),i},_getPaneRenderer:function(t){if(t==="overlayPane"||t===void 0)return!1;var i=this._paneRenderers[t];return i===void 0&&(i=this._createRenderer({pane:t}),this._paneRenderers[t]=i),i},_createRenderer:function(t){return this.options.preferCanvas&&jo(t)||bs(t)}});var qa=Pn.extend({initialize:function(t,i){Pn.prototype.initialize.call(this,this._boundsToLatLngs(t),i)},setBounds:function(t){return this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(t){return t=oe(t),[t.getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast()]}});function vu(t,i){return new qa(t,i)}rr.create=tn,rr.pointsToPath=Xs,un.geometryToLayer=Rr,un.coordsToLatLng=gs,un.coordsToLatLngs=Si,un.latLngToCoords=vs,un.latLngsToCoords=_s,un.getFeature=Ir,un.asFeature=ys,ze.mergeOptions({boxZoom:!0});var Ur=Ut.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane,this._resetStateTimeout=0,t.on("unload",this._destroy,this)},addHooks:function(){Te(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){We(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Qe(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(t){if(!t.shiftKey||t.which!==1&&t.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),De(),is(),this._startPoint=this._map.mouseEventToContainerPoint(t),Te(document,{contextmenu:Qt,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(t){this._moved||(this._moved=!0,this._box=Le("div","leaflet-zoom-box",this._container),Oe(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(t);var i=new C(this._point,this._startPoint),l=i.getSize();st(this._box,i.min),this._box.style.width=l.x+"px",this._box.style.height=l.y+"px"},_finish:function(){this._moved&&(Qe(this._box),qe(this._container,"leaflet-crosshair")),Cr(),ss(),We(document,{contextmenu:Qt,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(t){if(!(t.which!==1&&t.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(m(this._resetState,this),0);var i=new ce(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(i).fire("boxzoomend",{boxZoomBounds:i})}},_onKeyDown:function(t){t.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});ze.addInitHook("addHandler","boxZoom",Ur),ze.mergeOptions({doubleClickZoom:!0});var Ga=Ut.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(t){var i=this._map,l=i.getZoom(),d=i.options.zoomDelta,v=t.originalEvent.shiftKey?l-d:l+d;i.options.doubleClickZoom==="center"?i.setZoom(v):i.setZoomAround(t.containerPoint,v)}});ze.addInitHook("addHandler","doubleClickZoom",Ga),ze.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Ro=Ut.extend({addHooks:function(){if(!this._draggable){var t=this._map;this._draggable=new Yt(t._mapPane,t._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),t.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),t.on("zoomend",this._onZoomEnd,this),t.whenReady(this._onZoomEnd,this))}Oe(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){qe(this._map._container,"leaflet-grab"),qe(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var t=this._map;if(t._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var i=oe(this._map.options.maxBounds);this._offsetLimit=Z(this._map.latLngToContainerPoint(i.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(i.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;t.fire("movestart").fire("dragstart"),t.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(t){if(this._map.options.inertia){var i=this._lastTime=+new Date,l=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(l),this._times.push(i),this._prunePositions(i)}this._map.fire("move",t).fire("drag",t)},_prunePositions:function(t){for(;this._positions.length>1&&t-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var t=this._map.getSize().divideBy(2),i=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=i.subtract(t).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(t,i){return t-(t-i)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var t=this._draggable._newPos.subtract(this._draggable._startPos),i=this._offsetLimit;t.x<i.min.x&&(t.x=this._viscousLimit(t.x,i.min.x)),t.y<i.min.y&&(t.y=this._viscousLimit(t.y,i.min.y)),t.x>i.max.x&&(t.x=this._viscousLimit(t.x,i.max.x)),t.y>i.max.y&&(t.y=this._viscousLimit(t.y,i.max.y)),this._draggable._newPos=this._draggable._startPos.add(t)}},_onPreDragWrap:function(){var t=this._worldWidth,i=Math.round(t/2),l=this._initialWorldOffset,d=this._draggable._newPos.x,v=(d-i+l)%t+i-l,b=(d+i+l)%t-i-l,T=Math.abs(v+l)<Math.abs(b+l)?v:b;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=T},_onDragEnd:function(t){var i=this._map,l=i.options,d=!l.inertia||t.noInertia||this._times.length<2;if(i.fire("dragend",t),d)i.fire("moveend");else{this._prunePositions(+new Date);var v=this._lastPos.subtract(this._positions[0]),b=(this._lastTime-this._times[0])/1e3,T=l.easeLinearity,z=v.multiplyBy(T/b),$=z.distanceTo([0,0]),Y=Math.min(l.inertiaMaxSpeed,$),ae=z.multiplyBy(Y/$),be=Y/(l.inertiaDeceleration*T),Ne=ae.multiplyBy(-be/2).round();!Ne.x&&!Ne.y?i.fire("moveend"):(Ne=i._limitOffset(Ne,i.options.maxBounds),Fe(function(){i.panBy(Ne,{duration:be,easeLinearity:T,noMoveStart:!0,animate:!0})}))}}});ze.addInitHook("addHandler","dragging",Ro),ze.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Io=Ut.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(t){this._map=t,this._setPanDelta(t.options.keyboardPanDelta),this._setZoomDelta(t.options.zoomDelta)},addHooks:function(){var t=this._map._container;t.tabIndex<=0&&(t.tabIndex="0"),Te(t,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),We(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var t=document.body,i=document.documentElement,l=t.scrollTop||i.scrollTop,d=t.scrollLeft||i.scrollLeft;this._map._container.focus(),window.scrollTo(d,l)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(t){var i=this._panKeys={},l=this.keyCodes,d,v;for(d=0,v=l.left.length;d<v;d++)i[l.left[d]]=[-1*t,0];for(d=0,v=l.right.length;d<v;d++)i[l.right[d]]=[t,0];for(d=0,v=l.down.length;d<v;d++)i[l.down[d]]=[0,t];for(d=0,v=l.up.length;d<v;d++)i[l.up[d]]=[0,-1*t]},_setZoomDelta:function(t){var i=this._zoomKeys={},l=this.keyCodes,d,v;for(d=0,v=l.zoomIn.length;d<v;d++)i[l.zoomIn[d]]=t;for(d=0,v=l.zoomOut.length;d<v;d++)i[l.zoomOut[d]]=-t},_addHooks:function(){Te(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){We(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var i=t.keyCode,l=this._map,d;if(i in this._panKeys){if(!l._panAnim||!l._panAnim._inProgress)if(d=this._panKeys[i],t.shiftKey&&(d=V(d).multiplyBy(3)),l.options.maxBounds&&(d=l._limitOffset(V(d),l.options.maxBounds)),l.options.worldCopyJump){var v=l.wrapLatLng(l.unproject(l.project(l.getCenter()).add(d)));l.panTo(v)}else l.panBy(d)}else if(i in this._zoomKeys)l.setZoom(l.getZoom()+(t.shiftKey?3:1)*this._zoomKeys[i]);else if(i===27&&l._popup&&l._popup.options.closeOnEscapeKey)l.closePopup();else return;Qt(t)}}});ze.addInitHook("addHandler","keyboard",Io),ze.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Ve=Ut.extend({addHooks:function(){Te(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){We(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(t){var i=Oa(t),l=this._map.options.wheelDebounceTime;this._delta+=i,this._lastMousePos=this._map.mouseEventToContainerPoint(t),this._startTime||(this._startTime=+new Date);var d=Math.max(l-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(m(this._performZoom,this),d),Qt(t)},_performZoom:function(){var t=this._map,i=t.getZoom(),l=this._map.options.zoomSnap||0;t._stop();var d=this._delta/(this._map.options.wheelPxPerZoomLevel*4),v=4*Math.log(2/(1+Math.exp(-Math.abs(d))))/Math.LN2,b=l?Math.ceil(v/l)*l:v,T=t._limitZoom(i+(this._delta>0?b:-b))-i;this._delta=0,this._startTime=null,T&&(t.options.scrollWheelZoom==="center"?t.setZoom(i+T):t.setZoomAround(this._lastMousePos,i+T))}});ze.addInitHook("addHandler","scrollWheelZoom",Ve);var Mo=600;ze.mergeOptions({tapHold:_e.touchNative&&_e.safari&&_e.mobile,tapTolerance:15});var Ei=Ut.extend({addHooks:function(){Te(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){We(this._map._container,"touchstart",this._onDown,this)},_onDown:function(t){if(clearTimeout(this._holdTimeout),t.touches.length===1){var i=t.touches[0];this._startPos=this._newPos=new I(i.clientX,i.clientY),this._holdTimeout=setTimeout(m(function(){this._cancel(),this._isTapValid()&&(Te(document,"touchend",nt),Te(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",i))},this),Mo),Te(document,"touchend touchcancel contextmenu",this._cancel,this),Te(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function t(){We(document,"touchend",nt),We(document,"touchend touchcancel",t)},_cancel:function(){clearTimeout(this._holdTimeout),We(document,"touchend touchcancel contextmenu",this._cancel,this),We(document,"touchmove",this._onMove,this)},_onMove:function(t){var i=t.touches[0];this._newPos=new I(i.clientX,i.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(t,i){var l=new MouseEvent(t,{bubbles:!0,cancelable:!0,view:window,screenX:i.screenX,screenY:i.screenY,clientX:i.clientX,clientY:i.clientY});l._simulated=!0,i.target.dispatchEvent(l)}});ze.addInitHook("addHandler","tapHold",Ei),ze.mergeOptions({touchZoom:_e.touch,bounceAtZoomLimits:!0});var Fr=Ut.extend({addHooks:function(){Oe(this._map._container,"leaflet-touch-zoom"),Te(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){qe(this._map._container,"leaflet-touch-zoom"),We(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(t){var i=this._map;if(!(!t.touches||t.touches.length!==2||i._animatingZoom||this._zooming)){var l=i.mouseEventToContainerPoint(t.touches[0]),d=i.mouseEventToContainerPoint(t.touches[1]);this._centerPoint=i.getSize()._divideBy(2),this._startLatLng=i.containerPointToLatLng(this._centerPoint),i.options.touchZoom!=="center"&&(this._pinchStartLatLng=i.containerPointToLatLng(l.add(d)._divideBy(2))),this._startDist=l.distanceTo(d),this._startZoom=i.getZoom(),this._moved=!1,this._zooming=!0,i._stop(),Te(document,"touchmove",this._onTouchMove,this),Te(document,"touchend touchcancel",this._onTouchEnd,this),nt(t)}},_onTouchMove:function(t){if(!(!t.touches||t.touches.length!==2||!this._zooming)){var i=this._map,l=i.mouseEventToContainerPoint(t.touches[0]),d=i.mouseEventToContainerPoint(t.touches[1]),v=l.distanceTo(d)/this._startDist;if(this._zoom=i.getScaleZoom(v,this._startZoom),!i.options.bounceAtZoomLimits&&(this._zoom<i.getMinZoom()&&v<1||this._zoom>i.getMaxZoom()&&v>1)&&(this._zoom=i._limitZoom(this._zoom)),i.options.touchZoom==="center"){if(this._center=this._startLatLng,v===1)return}else{var b=l._add(d)._divideBy(2)._subtract(this._centerPoint);if(v===1&&b.x===0&&b.y===0)return;this._center=i.unproject(i.project(this._pinchStartLatLng,this._zoom).subtract(b),this._zoom)}this._moved||(i._moveStart(!0,!1),this._moved=!0),He(this._animRequest);var T=m(i._move,i,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=Fe(T,this,!0),nt(t)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,He(this._animRequest),We(document,"touchmove",this._onTouchMove,this),We(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});ze.addInitHook("addHandler","touchZoom",Fr),ze.BoxZoom=Ur,ze.DoubleClickZoom=Ga,ze.Drag=Ro,ze.Keyboard=Io,ze.ScrollWheelZoom=Ve,ze.TapHold=Ei,ze.TouchZoom=Fr,s.Bounds=C,s.Browser=_e,s.CRS=je,s.Canvas=No,s.Circle=ps,s.CircleMarker=fs,s.Class=K,s.Control=Rt,s.DivIcon=xs,s.DivOverlay=cn,s.DomEvent=ls,s.DomUtil=vi,s.Draggable=Yt,s.Evented=q,s.FeatureGroup=Sn,s.GeoJSON=un,s.GridLayer=Un,s.Handler=Ut,s.Icon=nr,s.ImageOverlay=Bn,s.LatLng=me,s.LatLngBounds=ce,s.Layer=Xt,s.LayerGroup=zn,s.LineUtil=Ma,s.Map=ze,s.Marker=kn,s.Mixin=yo,s.Path=Dn,s.Point=I,s.PolyUtil=ou,s.Polygon=Pn,s.Polyline=It,s.Popup=ws,s.PosAnimation=us,s.Projection=hu,s.Rectangle=qa,s.Renderer=hn,s.SVG=rr,s.SVGOverlay=Oo,s.TileLayer=Fn,s.Tooltip=zr,s.Transformation=_r,s.Util=dt,s.VideoOverlay=Co,s.bind=m,s.bounds=Z,s.canvas=jo,s.circle=bi,s.circleMarker=Ua,s.control=Mn,s.divIcon=Wa,s.extend=h,s.featureGroup=Da,s.geoJSON=Fa,s.geoJson=en,s.gridLayer=Dr,s.icon=Ba,s.imageOverlay=$a,s.latLng=he,s.latLngBounds=oe,s.layerGroup=xi,s.map=In,s.marker=pu,s.point=V,s.polygon=gu,s.polyline=mu,s.popup=Mr,s.rectangle=vu,s.setOptions=j,s.stamp=y,s.svg=bs,s.svgOverlay=Lo,s.tileLayer=Ao,s.tooltip=ki,s.transformation=yr,s.version=u,s.videoOverlay=Ha;var Ka=window.L;s.noConflict=function(){return window.L=Ka,this},window.L=s}))})(ta,ta.exports)),ta.exports}var da=K_();const J_=ql(da);function lh(o,r,s){return Object.freeze({instance:o,context:r,container:s})}function uh(o,r){return r==null?function(u,h){const p=G.useRef();return p.current||(p.current=o(u,h)),p}:function(u,h){const p=G.useRef();p.current||(p.current=o(u,h));const m=G.useRef(u),{instance:_}=p.current;return G.useEffect(function(){m.current!==u&&(r(_,u,m.current),m.current=u)},[_,u,h]),p}}function Q_(o,r){G.useEffect(function(){return(r.layerContainer??r.map).addLayer(o.instance),function(){r.layerContainer?.removeLayer(o.instance),r.map.removeLayer(o.instance)}},[r,o])}function mp(o){return function(s){const u=oh(),h=o(ah(s,u),u);return hp(u.map,s.attribution),pp(h.current,s.eventHandlers),Q_(h.current,u),h}}function Y_(o,r){const s=uh(o,r),u=mp(s);return W_(u)}function X_(o,r){const s=uh(o),u=q_(s,r);return V_(u)}function e0(o,r){const s=uh(o,r),u=mp(s);return Z_(u)}function t0(o,r,s){const{opacity:u,zIndex:h}=r;u!=null&&u!==s.opacity&&o.setOpacity(u),h!=null&&h!==s.zIndex&&o.setZIndex(h)}function gp(){return oh().map}function n0(o){const r=gp();return G.useEffect(function(){return r.on(o),function(){r.off(o)}},[r,o]),r}function th(){return th=Object.assign||function(o){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var u in s)Object.prototype.hasOwnProperty.call(s,u)&&(o[u]=s[u])}return o},th.apply(this,arguments)}function r0({bounds:o,boundsOptions:r,center:s,children:u,className:h,id:p,placeholder:m,style:_,whenReady:y,zoom:S,...P},O){const[E]=G.useState({className:h,id:p,style:_}),[R,U]=G.useState(null);G.useImperativeHandle(O,()=>R?.map??null,[R]);const j=G.useCallback(X=>{if(X!==null&&R===null){const te=new da.Map(X,P);s!=null&&S!=null?te.setView(s,S):o!=null&&te.fitBounds(o,r),y!=null&&te.whenReady(y),U($_(te))}},[]);G.useEffect(()=>()=>{R?.map.remove()},[R]);const D=R?yn.createElement(fp,{value:R},u):m??null;return yn.createElement("div",th({},E,{ref:j}),D)}const i0=G.forwardRef(r0),s0=Y_(function({position:r,...s},u){const h=new da.Marker(r,s);return lh(h,H_(u,{overlayContainer:h}))},function(r,s,u){s.position!==u.position&&r.setLatLng(s.position),s.icon!=null&&s.icon!==u.icon&&r.setIcon(s.icon),s.zIndexOffset!=null&&s.zIndexOffset!==u.zIndexOffset&&r.setZIndexOffset(s.zIndexOffset),s.opacity!=null&&s.opacity!==u.opacity&&r.setOpacity(s.opacity),r.dragging!=null&&s.draggable!==u.draggable&&(s.draggable===!0?r.dragging.enable():r.dragging.disable())}),o0=X_(function(r,s){const u=new da.Popup(r,s.overlayContainer);return lh(u,s)},function(r,s,{position:u},h){G.useEffect(function(){const{instance:m}=r;function _(S){S.popup===m&&(m.update(),h(!0))}function y(S){S.popup===m&&h(!1)}return s.map.on({popupopen:_,popupclose:y}),s.overlayContainer==null?(u!=null&&m.setLatLng(u),m.openOn(s.map)):s.overlayContainer.bindPopup(m),function(){s.map.off({popupopen:_,popupclose:y}),s.overlayContainer?.unbindPopup(),s.map.removeLayer(m)}},[r,s,h,u])}),a0=e0(function({url:r,...s},u){const h=new da.TileLayer(r,ah(s,u));return lh(h,u)},function(r,s,u){t0(r,s,u);const{url:h}=s;h!=null&&h!==u.url&&r.setUrl(h)}),l0=()=>{const o=G.useContext(sh);if(!o)throw new Error("useAuth must be used within an AuthProvider");return o},vp=()=>{const[o,r]=G.useState([]),[s,u]=G.useState(!0),[h,p]=G.useState(null),{user:m}=l0(),_=G.useCallback(async()=>{try{u(!0);const{data:O,error:E}=await Bt.from("poi").select("*").eq("is_approved",!0).order("name");if(E)throw E;r(O||[]),p(null)}catch(O){console.error("Error fetching POIs:",O),p(O.message),r([])}finally{u(!1)}},[]),y=G.useCallback(async O=>{if(!m)throw new Error("You must be logged in to save POIs");try{const{error:E}=await Bt.from("saved_poi").insert({user_id:m.id,poi_id:O});if(E)throw E;return{success:!0}}catch(E){return console.error("Error saving POI:",E),{success:!1,error:E.message}}},[m]),S=G.useCallback(async O=>{if(!m)throw new Error("You must be logged in to unsave POIs");try{const{error:E}=await Bt.from("saved_poi").delete().eq("user_id",m.id).eq("poi_id",O);if(E)throw E;return{success:!0}}catch(E){return console.error("Error unsaving POI:",E),{success:!1,error:E.message}}},[m]),P=G.useCallback(async O=>{if(!m)throw new Error("You must be logged in to submit POI requests");try{const{error:E}=await Bt.from("poi").insert({...O,submitted_by:m.id,is_approved:!1});if(E)throw E;return{success:!0}}catch(E){return console.error("Error submitting POI request:",E),{success:!1,error:E.message}}},[m]);return G.useEffect(()=>{_()},[_]),{pois:o,loading:s,error:h,fetchPOIs:_,savePOI:y,unsavePOI:S,requestNewPOI:P}},u0=(o,r)=>J_.divIcon({html:`<div class="w-10 h-10 rounded-full ${r} flex items-center justify-center text-white shadow-lg border-2 border-white">
             <i class="text-lg">${String.fromCodePoint(9829)}</i>
           </div>`,className:"custom-marker",iconSize:[40,40],iconAnchor:[20,40],popupAnchor:[0,-40]}),c0=()=>{const{pois:o,loading:r}=vp(),{activeFilters:s,selectedPOI:u,flyToLocation:h}=Vi();if(r)return null;const p=o.filter(m=>s.includes(m.category));return x.jsx(x.Fragment,{children:p.map(m=>{const _=ii.find(S=>S.id===m.category),y=u0(m.category,_?.color||"bg-gray-600");return x.jsx(s0,{position:[m.latitude,m.longitude],icon:y,eventHandlers:{click:()=>h(m.latitude,m.longitude)},children:x.jsx(o0,{children:x.jsxs("div",{className:"p-2 min-w-[200px]",children:[x.jsx("h3",{className:"font-bold text-lg mb-1",children:m.name}),x.jsx("div",{className:"flex items-center mb-2",children:x.jsx("span",{className:`px-2 py-1 rounded text-xs font-semibold ${_?.color} text-white`,children:_?.name||m.category})}),m.description&&x.jsx("p",{className:"text-gray-600 mb-3",children:m.description}),x.jsx("div",{className:"space-y-2",children:x.jsx("a",{href:`https://www.google.com/maps/dir/?api=1&destination=${m.latitude},${m.longitude}`,target:"_blank",rel:"noopener noreferrer",className:"block w-full bg-blue-500 text-white text-center py-2 rounded hover:bg-blue-600 transition-colors",children:"Get Directions"})})]})})},m.id)})})},h0=()=>{const o=gp(),{openPOIRequestModal:r}=vr(),{searchQuery:s,setSearchQuery:u,getUserLocation:h,resetToDefault:p,northOrientation:m}=Vi(),[_,y]=G.useState(!1),S=U=>{U.preventDefault(),s.trim()&&console.log("Searching for:",s)},P=()=>o.zoomIn(),O=()=>o.zoomOut(),E=()=>o.setBearing(0),R=async()=>{const U=await h();U&&o.flyTo([U.lat,U.lng],16)};return x.jsx("div",{className:"leaflet-top leaflet-right",children:x.jsxs("div",{className:"leaflet-control leaflet-bar !bg-transparent !border-none space-y-2",children:[x.jsx("div",{className:"relative",children:x.jsx("div",{className:`bg-gray-800 bg-opacity-90 backdrop-blur-sm rounded-lg shadow-xl transition-all duration-300 ${_?"w-64":"w-12"}`,children:x.jsxs("form",{onSubmit:S,className:"flex items-center",children:[_&&x.jsx("input",{type:"text",value:s,onChange:U=>u(U.target.value),placeholder:"Search Dayton nightlife...",className:"flex-1 bg-transparent border-0 text-white px-4 py-2 focus:outline-none placeholder-gray-400",autoFocus:!0}),x.jsx("button",{type:"button",onClick:()=>y(!_),className:"p-3 text-white hover:bg-gray-700 rounded-lg transition-colors",children:x.jsx(C_,{})})]})})}),x.jsxs("div",{className:"bg-gray-800 bg-opacity-90 backdrop-blur-sm rounded-lg shadow-xl overflow-hidden",children:[x.jsx("button",{onClick:P,className:"block w-12 h-12 text-white hover:bg-gray-700 transition-colors border-b border-gray-700",title:"Zoom in",children:x.jsx(eh,{className:"mx-auto"})}),x.jsx("button",{onClick:O,className:"block w-12 h-12 text-white hover:bg-gray-700 transition-colors",title:"Zoom out",children:x.jsx(P_,{className:"mx-auto"})})]}),x.jsxs("div",{className:"bg-gray-800 bg-opacity-90 backdrop-blur-sm rounded-lg shadow-xl overflow-hidden",children:[x.jsx("button",{onClick:R,className:"block w-12 h-12 text-white hover:bg-gray-700 transition-colors border-b border-gray-700",title:"Go to my location",children:x.jsx(__,{className:"mx-auto"})}),x.jsx("button",{onClick:p,className:"block w-12 h-12 text-white hover:bg-gray-700 transition-colors border-b border-gray-700",title:"Reset to Dayton",children:x.jsx(cp,{className:"mx-auto"})}),m!==0&&x.jsx("button",{onClick:E,className:"block w-12 h-12 text-white hover:bg-gray-700 transition-colors",title:"Reset north orientation",children:x.jsx(lp,{className:"mx-auto"})})]}),x.jsx("button",{onClick:r,className:"w-12 h-12 bg-gradient-to-r from-green-500 to-emerald-600 text-white rounded-lg shadow-xl hover:opacity-90 transition-opacity flex items-center justify-center",title:"Submit new venue",children:x.jsx(eh,{})})]})})};function d0(){const{setMapCenter:o,setZoom:r}=Vi(),s=n0({moveend:()=>{const u=s.getCenter();o([u.lat,u.lng])},zoomend:()=>{r(s.getZoom())}});return null}const f0=()=>{const{mapCenter:o,zoom:r,getUserLocation:s}=Vi();return G.useEffect(()=>{s()},[s]),x.jsx("div",{className:"h-full w-full",children:x.jsxs(i0,{center:o,zoom:r,className:"h-full w-full",scrollWheelZoom:!0,minZoom:12,maxZoom:19,children:[x.jsx(a0,{attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),x.jsx(d0,{}),x.jsx(c0,{}),x.jsx(h0,{})]})})},p0={bar:Qc,club:E_,lounge:g_,sportsbar:A_,karaoke:k_,live_music:x_,dance:I_,rooftop:N_,wine_bar:z_,brewery:Qc},m0=()=>{const{activeFilters:o,toggleFilter:r,setActiveFilters:s}=Vi(),{isFilterMenuOpen:u,toggleFilterMenu:h}=vr(),[p,m]=G.useState(!1),_=()=>{s(ii.map(P=>P.id))},y=()=>{s([])},S=p?ii:ii.slice(0,5);return u?x.jsx("div",{className:"fixed left-4 top-20 z-40 bg-gray-800 bg-opacity-95 backdrop-blur-sm rounded-xl shadow-2xl border border-gray-700 w-72 animate-slide-down",children:x.jsxs("div",{className:"p-4",children:[x.jsxs("div",{className:"flex items-center justify-between mb-4",children:[x.jsxs("div",{className:"flex items-center",children:[x.jsx(Yc,{className:"text-blue-400 mr-2"}),x.jsx("h3",{className:"font-bold text-white",children:"Venue Types"})]}),x.jsx("button",{onClick:h,className:"text-gray-400 hover:text-white p-1",children:x.jsx(Yl,{})})]}),x.jsx("div",{className:"space-y-2 max-h-80 overflow-y-auto scrollbar-thin pr-2",children:S.map(P=>{const O=p0[P.id]||Qc,E=o.includes(P.id);return x.jsxs("button",{onClick:()=>r(P.id),className:`w-full flex items-center p-3 rounded-lg transition-all ${E?`${P.color} bg-opacity-20 border-l-4 ${P.color.replace("bg-","border-")}`:"hover:bg-gray-700"}`,children:[x.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center mr-3 ${E?P.color:"bg-gray-700"}`,children:x.jsx(O,{className:"text-white"})}),x.jsxs("div",{className:"flex-1 text-left",children:[x.jsx("div",{className:`font-medium ${E?"text-white":"text-gray-300"}`,children:P.name}),x.jsxs("div",{className:`text-xs ${E?"text-gray-300":"text-gray-500"}`,children:[E?"Showing":"Hidden"," on map"]})]}),x.jsx("div",{className:`w-3 h-3 rounded-full ${E?"bg-green-400":"bg-gray-600"}`})]},P.id)})}),x.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-700",children:[x.jsxs("div",{className:"flex space-x-2 mb-3",children:[x.jsx("button",{onClick:_,className:"flex-1 bg-gray-700 hover:bg-gray-600 text-white py-2 rounded-lg text-sm font-medium transition-colors",children:"Select All"}),x.jsx("button",{onClick:y,className:"flex-1 bg-gray-700 hover:bg-gray-600 text-white py-2 rounded-lg text-sm font-medium transition-colors",children:"Clear All"})]}),!p&&ii.length>5&&x.jsxs("button",{onClick:()=>m(!0),className:"w-full text-center text-blue-400 hover:text-blue-300 text-sm py-2",children:["Show all ",ii.length," categories"]}),p&&x.jsx("button",{onClick:()=>m(!1),className:"w-full text-center text-blue-400 hover:text-blue-300 text-sm py-2",children:"Show fewer"})]}),x.jsx("div",{className:"mt-4 p-3 bg-gray-900 rounded-lg",children:x.jsxs("div",{className:"text-xs text-gray-400",children:[x.jsx("span",{className:"text-green-400 font-semibold",children:o.length})," of"," ",x.jsx("span",{className:"font-semibold",children:ii.length})," categories active"]})})]})}):x.jsx("button",{onClick:h,className:"fixed left-4 top-20 z-40 bg-gray-800 bg-opacity-90 backdrop-blur-sm text-white p-3 rounded-xl shadow-xl hover:bg-gray-700 transition-colors",title:"Show filters",children:x.jsx(Yc,{size:20})})},g0=()=>{const{selectedPOI:o,userLocation:r}=Vi(),{user:s}=ha(),[u,h]=G.useState("driving"),[p,m]=G.useState(!1);if(G.useEffect(()=>{o&&m(!0)},[o]),!p||!o)return null;const _=()=>{const E=r?`${r.lat},${r.lng}`:"Dayton, OH",R=`${o.latitude},${o.longitude}`;switch(u){case"walking":return`https://www.google.com/maps/dir/?api=1&origin=${E}&destination=${R}&travelmode=walking`;case"bicycling":return`https://www.google.com/maps/dir/?api=1&origin=${E}&destination=${R}&travelmode=bicycling`;case"transit":return`https://www.google.com/maps/dir/?api=1&origin=${E}&destination=${R}&travelmode=transit`;default:return`https://www.google.com/maps/dir/?api=1&origin=${E}&destination=${R}`}},y=()=>{const E=_();window.open(E,"_blank","noopener,noreferrer")},S=E=>E<1e3?`${Math.round(E)}m`:`${(E/1e3).toFixed(1)}km`,O=(()=>{if(!r||!o)return null;const E=6371e3,R=r.lat*Math.PI/180,U=o.latitude*Math.PI/180,j=(o.latitude-r.lat)*Math.PI/180,D=(o.longitude-r.lng)*Math.PI/180,X=Math.sin(j/2)*Math.sin(j/2)+Math.cos(R)*Math.cos(U)*Math.sin(D/2)*Math.sin(D/2),te=2*Math.atan2(Math.sqrt(X),Math.sqrt(1-X));return E*te})();return x.jsx("div",{className:"leaflet-bottom leaflet-right",children:x.jsx("div",{className:"leaflet-control leaflet-bar !bg-transparent !border-none mr-4 mb-20",children:x.jsxs("div",{className:"bg-gray-800 bg-opacity-95 backdrop-blur-sm rounded-xl shadow-2xl border border-gray-700 w-80 p-4",children:[x.jsxs("div",{className:"flex items-center justify-between mb-4",children:[x.jsxs("div",{className:"flex items-center",children:[x.jsx(Cf,{className:"text-blue-400 mr-2"}),x.jsx("h3",{className:"font-bold text-white",children:"Get Directions"})]}),x.jsx("button",{onClick:()=>m(!1),className:"text-gray-400 hover:text-white",children:""})]}),r&&O&&x.jsxs("div",{className:"mb-4 p-3 bg-gray-700 rounded-lg",children:[x.jsx("div",{className:"text-sm text-gray-300",children:"Distance from you:"}),x.jsx("div",{className:"text-xl font-bold text-white",children:S(O)})]}),x.jsxs("div",{className:"mb-4",children:[x.jsx("div",{className:"text-sm text-gray-300 mb-2",children:"Travel Mode:"}),x.jsx("div",{className:"flex space-x-2",children:["driving","walking","bicycling","transit"].map(E=>x.jsxs("button",{onClick:()=>h(E),className:`flex-1 py-2 rounded-lg flex items-center justify-center space-x-2 transition-colors ${u===E?"bg-blue-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:[E==="driving"&&x.jsx(m_,{}),E==="walking"&&x.jsx(M_,{}),E==="bicycling"&&x.jsx(d_,{}),E==="transit"&&x.jsx(Cf,{}),x.jsx("span",{className:"capitalize",children:E})]},E))})]}),x.jsxs("div",{className:"space-y-3",children:[!s&&x.jsx("div",{className:"text-amber-400 text-sm p-2 bg-amber-900 bg-opacity-20 rounded",children:"Sign in to save favorite routes"}),x.jsxs("button",{onClick:y,className:"w-full bg-gradient-to-r from-blue-500 to-purple-600 text-white py-3 rounded-lg font-semibold hover:opacity-90 transition-opacity flex items-center justify-center",children:[x.jsx(w_,{className:"mr-2"}),"Open in Google Maps"]}),x.jsx("p",{className:"text-xs text-gray-400 text-center",children:"Directions will open in a new window"})]})]})})})},v0=()=>{const[o,r]=G.useState(!0),[s,u]=G.useState(""),[h,p]=G.useState(""),[m,_]=G.useState(""),[y,S]=G.useState(""),[P,O]=G.useState(""),[E,R]=G.useState(!1),{signIn:U,signUp:j}=ha(),{closeLoginModal:D}=vr(),X=()=>{if(!s||!h)return O("Please fill in all fields"),!1;if(!o){if(!m)return O("Username is required"),!1;if(h!==y)return O("Passwords do not match"),!1;if(h.length<6)return O("Password must be at least 6 characters"),!1;if(!m.match(/^[a-zA-Z0-9_]+$/))return O("Username can only contain letters, numbers, and underscores"),!1}return!0},te=async se=>{if(se.preventDefault(),O(""),!!X()){R(!0);try{if(o){const{error:le}=await U(s,h);if(le)throw le;D()}else{const{error:le}=await j(s,h,m);if(le)throw le;r(!0),O("Account created! Please check your email to confirm.")}}catch(le){O(le.message||"An error occurred")}finally{R(!1)}}},J=async se=>{try{const{error:le}=await Bt.auth.signInWithOAuth({provider:se,options:{redirectTo:`${window.location.origin}/auth/callback`}});if(le)throw le}catch(le){O(le.message)}};return x.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:x.jsx("div",{className:"bg-gray-800 rounded-2xl shadow-2xl w-full max-w-md border border-gray-700",children:x.jsxs("div",{className:"p-6",children:[x.jsxs("div",{className:"flex items-center justify-between mb-6",children:[x.jsx("h2",{className:"text-2xl font-bold text-white",children:o?"Welcome Back":"Create Account"}),x.jsx("button",{onClick:D,className:"text-gray-400 hover:text-white p-1",children:x.jsx(Yl,{size:20})})]}),P&&x.jsx("div",{className:`mb-4 p-3 rounded-lg ${P.includes("created")?"bg-green-900 bg-opacity-20 text-green-400":"bg-red-900 bg-opacity-20 text-red-400"}`,children:P}),x.jsxs("div",{className:"flex space-x-2 mb-6",children:[x.jsxs("button",{onClick:()=>J("google"),className:"flex-1 bg-red-600 hover:bg-red-700 text-white py-3 rounded-lg font-medium flex items-center justify-center space-x-2 transition-colors",children:[x.jsx(c_,{}),x.jsx("span",{children:"Google"})]}),x.jsxs("button",{onClick:()=>J("github"),className:"flex-1 bg-gray-700 hover:bg-gray-600 text-white py-3 rounded-lg font-medium flex items-center justify-center space-x-2 transition-colors",children:[x.jsx(ap,{}),x.jsx("span",{children:"GitHub"})]})]}),x.jsxs("div",{className:"relative mb-6",children:[x.jsx("div",{className:"absolute inset-0 flex items-center",children:x.jsx("div",{className:"w-full border-t border-gray-700"})}),x.jsx("div",{className:"relative flex justify-center text-sm",children:x.jsx("span",{className:"px-4 bg-gray-800 text-gray-400",children:"Or continue with"})})]}),x.jsxs("form",{onSubmit:te,className:"space-y-4",children:[!o&&x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Username"}),x.jsxs("div",{className:"relative",children:[x.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:x.jsx(Zl,{className:"text-gray-500"})}),x.jsx("input",{type:"text",value:m,onChange:se=>_(se.target.value.toLowerCase()),className:"input-field pl-10 w-full",placeholder:"Choose a unique username",maxLength:20})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Email"}),x.jsxs("div",{className:"relative",children:[x.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:x.jsx(up,{className:"text-gray-500"})}),x.jsx("input",{type:"email",value:s,onChange:se=>u(se.target.value),className:"input-field pl-10 w-full",placeholder:"your@email.com"})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Password"}),x.jsxs("div",{className:"relative",children:[x.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:x.jsx(Of,{className:"text-gray-500"})}),x.jsx("input",{type:"password",value:h,onChange:se=>p(se.target.value),className:"input-field pl-10 w-full",placeholder:""})]})]}),!o&&x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Confirm Password"}),x.jsxs("div",{className:"relative",children:[x.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:x.jsx(Of,{className:"text-gray-500"})}),x.jsx("input",{type:"password",value:y,onChange:se=>S(se.target.value),className:"input-field pl-10 w-full",placeholder:""})]})]}),x.jsx("button",{type:"submit",disabled:E,className:"w-full bg-gradient-to-r from-blue-500 to-purple-600 text-white py-3 rounded-lg font-semibold hover:opacity-90 transition-opacity disabled:opacity-50",children:E?"Processing...":o?"Sign In":"Create Account"})]}),x.jsx("div",{className:"mt-6 text-center",children:x.jsx("button",{onClick:()=>{r(!o),O("")},className:"text-blue-400 hover:text-blue-300 font-medium",children:o?"Don't have an account? Sign up":"Already have an account? Sign in"})}),x.jsx("div",{className:"mt-6 pt-6 border-t border-gray-700",children:x.jsx("p",{className:"text-xs text-gray-400 text-center",children:"By continuing, you agree to our Terms of Service and Privacy Policy. Accounts allow you to save favorites and submit new venues."})})]})})})},_0=()=>{const[o,r]=G.useState(""),[s,u]=G.useState("bar"),[h,p]=G.useState(""),[m,_]=G.useState(""),[y,S]=G.useState(""),[P,O]=G.useState(""),[E,R]=G.useState(""),[U,j]=G.useState(""),[D,X]=G.useState(""),[te,J]=G.useState("$$"),[se,le]=G.useState(""),[ue,fe]=G.useState(""),[Ae,xe]=G.useState(!1),{user:Je}=ha(),{closePOIRequestModal:Fe}=vr(),{requestNewPOI:He}=vp();G.useEffect(()=>{navigator.geolocation&&navigator.geolocation.getCurrentPosition(M=>{S(M.coords.latitude.toFixed(6)),O(M.coords.longitude.toFixed(6))},()=>{S("39.7589"),O("-84.1916")})},[]);const dt=()=>o.trim()?s?!y||!P?(le("Please provide location coordinates"),!1):h.length>500?(le("Description must be less than 500 characters"),!1):!0:(le("Please select a category"),!1):(le("Venue name is required"),!1),K=async M=>{if(M.preventDefault(),le(""),fe(""),!Je){le("You must be logged in to submit venues");return}if(dt()){xe(!0);try{const q={name:o.trim(),category:s,description:h.trim(),latitude:parseFloat(y),longitude:parseFloat(P),address:m.trim(),website:E.trim(),phone:U.trim(),hours:D.trim(),price_level:te},{success:I,error:Q}=await He(q);if(Q)throw new Error(Q);I&&(fe("Venue submitted successfully! It will appear on the map after admin approval."),setTimeout(()=>{Fe()},3e3))}catch(q){le(q.message||"Failed to submit venue")}finally{xe(!1)}}},W=()=>{navigator.geolocation&&navigator.geolocation.getCurrentPosition(M=>{S(M.coords.latitude.toFixed(6)),O(M.coords.longitude.toFixed(6))},M=>{le("Unable to get current location")})};return x.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 backdrop-blur-sm z-50 flex items-center justify-center p-4 overflow-y-auto",children:x.jsx("div",{className:"bg-gray-800 rounded-2xl shadow-2xl w-full max-w-2xl border border-gray-700 my-8",children:x.jsxs("div",{className:"p-6",children:[x.jsxs("div",{className:"flex items-center justify-between mb-6",children:[x.jsxs("div",{children:[x.jsx("h2",{className:"text-2xl font-bold text-white",children:"Submit New Venue"}),x.jsx("p",{className:"text-gray-400 mt-1",children:"Suggest a nightlife spot for Dayton"})]}),x.jsx("button",{onClick:Fe,className:"text-gray-400 hover:text-white p-1",children:x.jsx(Yl,{size:20})})]}),se&&x.jsx("div",{className:"mb-4 p-3 bg-red-900 bg-opacity-20 text-red-400 rounded-lg",children:se}),ue&&x.jsx("div",{className:"mb-4 p-3 bg-green-900 bg-opacity-20 text-green-400 rounded-lg",children:ue}),x.jsxs("form",{onSubmit:K,className:"space-y-6",children:[x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Venue Name *"}),x.jsx("input",{type:"text",value:o,onChange:M=>r(M.target.value),className:"input-field w-full",placeholder:"e.g., The Neon Moon Bar",maxLength:100})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Category *"}),x.jsx("select",{value:s,onChange:M=>u(M.target.value),className:"input-field w-full",children:ii.map(M=>x.jsx("option",{value:M.id,children:M.name},M.id))})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Description"}),x.jsx("textarea",{value:h,onChange:M=>p(M.target.value),className:"input-field w-full h-32 resize-none",placeholder:"Tell us about this venue... What makes it special?",maxLength:500}),x.jsxs("div",{className:"text-xs text-gray-400 mt-1 text-right",children:[h.length,"/500 characters"]})]}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Street Address"}),x.jsx("input",{type:"text",value:m,onChange:M=>_(M.target.value),className:"input-field w-full",placeholder:"e.g., 123 Main St, Dayton, OH"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Price Level"}),x.jsx("div",{className:"flex space-x-2",children:["$","$$","$$$","$$$$"].map(M=>x.jsx("button",{type:"button",onClick:()=>J(M),className:`flex-1 py-2 rounded-lg ${te===M?"bg-blue-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:M},M))})]})]}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Latitude *"}),x.jsx("input",{type:"number",step:"any",value:y,onChange:M=>S(M.target.value),className:"input-field w-full",placeholder:"e.g., 39.7589"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Longitude *"}),x.jsx("input",{type:"number",step:"any",value:P,onChange:M=>O(M.target.value),className:"input-field w-full",placeholder:"e.g., -84.1916"})]}),x.jsx("div",{className:"flex items-end",children:x.jsxs("button",{type:"button",onClick:W,className:"w-full bg-gray-700 hover:bg-gray-600 text-white py-2 px-4 rounded-lg flex items-center justify-center space-x-2",children:[x.jsx(Xc,{}),x.jsx("span",{children:"Use My Location"})]})})]}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Website"}),x.jsx("input",{type:"url",value:E,onChange:M=>R(M.target.value),className:"input-field w-full",placeholder:"https://example.com"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Phone Number"}),x.jsx("input",{type:"tel",value:U,onChange:M=>j(M.target.value),className:"input-field w-full",placeholder:"(937) 555-0123"})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Hours of Operation"}),x.jsx("input",{type:"text",value:D,onChange:M=>X(M.target.value),className:"input-field w-full",placeholder:"e.g., Mon-Thu: 4pm-2am, Fri-Sat: 4pm-2:30am, Sun: 12pm-12am"})]}),x.jsxs("div",{className:"pt-4 border-t border-gray-700",children:[x.jsxs("div",{className:"flex items-center text-gray-400 mb-4",children:[x.jsx(S_,{className:"mr-2"}),x.jsx("span",{className:"text-sm",children:"All submissions require admin approval. Please provide accurate information."})]}),x.jsxs("div",{className:"flex space-x-3",children:[x.jsx("button",{type:"submit",disabled:Ae||!Je,className:"flex-1 bg-gradient-to-r from-green-500 to-emerald-600 text-white py-3 rounded-lg font-semibold hover:opacity-90 transition-opacity disabled:opacity-50 flex items-center justify-center space-x-2",children:Ae?x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),x.jsx("span",{children:"Submitting..."})]}):x.jsxs(x.Fragment,{children:[x.jsx(j_,{}),x.jsx("span",{children:"Submit for Approval"})]})}),x.jsx("button",{type:"button",onClick:Fe,className:"px-6 bg-gray-700 hover:bg-gray-600 text-white py-3 rounded-lg font-medium transition-colors",children:"Cancel"})]})]})]})]})})})},y0=()=>{const[o,r]=G.useState(""),[s,u]=G.useState(""),[h,p]=G.useState(""),[m,_]=G.useState(""),[y,S]=G.useState(!1),[P,O]=G.useState(""),[E,R]=G.useState(""),[U,j]=G.useState(null),{profile:D,updateProfile:X}=ha(),{closeProfileModal:te}=vr();G.useEffect(()=>{D&&(r(D.display_name||""),u(D.username||""),p(D.email||""),_(D.avatar_url||""))},[D]);const J=async ue=>{if(ue)try{S(!0);const fe=ue.name.split(".").pop(),xe=`avatars/${`${Math.random()}.${fe}`}`,{error:Je}=await Bt.storage.from("avatars").upload(xe,ue);if(Je)throw Je;const{data:{publicUrl:Fe}}=Bt.storage.from("avatars").getPublicUrl(xe);return _(Fe),Fe}catch(fe){return O("Failed to upload avatar"),console.error(fe),null}finally{S(!1)}},se=async ue=>{if(ue.preventDefault(),O(""),R(""),!o.trim()){O("Display name is required");return}if(!s.trim()){O("Username is required");return}if(!s.match(/^[a-zA-Z0-9_]+$/)){O("Username can only contain letters, numbers, and underscores");return}S(!0);try{const fe={display_name:o.trim(),username:s.trim().toLowerCase()};if(U){const xe=await J(U);xe&&(fe.avatar_url=xe)}const{error:Ae}=await X(fe);if(Ae)throw Ae;R("Profile updated successfully!"),setTimeout(()=>{te()},2e3)}catch(fe){O(fe.message||"Failed to update profile")}finally{S(!1)}},le=ue=>{const fe=ue.target.files?.[0];if(!fe)return;if(!fe.type.startsWith("image/")){O("Please select an image file");return}if(fe.size>2*1024*1024){O("Image must be less than 2MB");return}j(fe);const Ae=new FileReader;Ae.onload=xe=>{_(xe.target.result)},Ae.readAsDataURL(fe)};return x.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:x.jsx("div",{className:"bg-gray-800 rounded-2xl shadow-2xl w-full max-w-md border border-gray-700",children:x.jsxs("div",{className:"p-6",children:[x.jsxs("div",{className:"flex items-center justify-between mb-6",children:[x.jsx("h2",{className:"text-2xl font-bold text-white",children:"Edit Profile"}),x.jsx("button",{onClick:te,className:"text-gray-400 hover:text-white p-1",children:x.jsx(Yl,{size:20})})]}),P&&x.jsx("div",{className:"mb-4 p-3 bg-red-900 bg-opacity-20 text-red-400 rounded-lg",children:P}),E&&x.jsx("div",{className:"mb-4 p-3 bg-green-900 bg-opacity-20 text-green-400 rounded-lg",children:E}),x.jsxs("form",{onSubmit:se,className:"space-y-6",children:[x.jsxs("div",{className:"flex flex-col items-center",children:[x.jsxs("div",{className:"relative mb-4",children:[x.jsx("div",{className:"w-32 h-32 rounded-full overflow-hidden border-4 border-gray-700",children:m?x.jsx("img",{src:m,alt:"Profile",className:"w-full h-full object-cover"}):x.jsx("div",{className:"w-full h-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-white text-4xl font-bold",children:o?.charAt(0)?.toUpperCase()||"U"})}),x.jsxs("label",{className:"absolute bottom-0 right-0 bg-blue-600 text-white p-2 rounded-full cursor-pointer hover:bg-blue-700 transition-colors",children:[x.jsx(p_,{}),x.jsx("input",{type:"file",accept:"image/*",onChange:le,className:"hidden"})]})]}),x.jsx("p",{className:"text-sm text-gray-400",children:"Click camera icon to upload new avatar (max 2MB)"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Display Name *"}),x.jsxs("div",{className:"relative",children:[x.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:x.jsx(Zl,{className:"text-gray-500"})}),x.jsx("input",{type:"text",value:o,onChange:ue=>r(ue.target.value),className:"input-field pl-10 w-full",placeholder:"Your name as shown to others",maxLength:50})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Username *"}),x.jsxs("div",{className:"relative",children:[x.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:x.jsx(Zl,{className:"text-gray-500"})}),x.jsx("input",{type:"text",value:s,onChange:ue=>u(ue.target.value),className:"input-field pl-10 w-full",placeholder:"unique_username",maxLength:20})]}),x.jsxs("div",{className:"text-xs text-gray-400 mt-1",children:["This will be used in your profile URL: nightlifemap.app/user/",s||"username"]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Email Address"}),x.jsxs("div",{className:"relative",children:[x.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:x.jsx(up,{className:"text-gray-500"})}),x.jsx("input",{type:"email",value:h,readOnly:!0,className:"input-field pl-10 w-full bg-gray-900 cursor-not-allowed"})]}),x.jsx("div",{className:"text-xs text-gray-400 mt-1",children:"Contact support to change email address"})]}),D?.created_at&&x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Member Since"}),x.jsxs("div",{className:"relative",children:[x.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:x.jsx(f_,{className:"text-gray-500"})}),x.jsx("input",{type:"text",value:new Date(D.created_at).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),readOnly:!0,className:"input-field pl-10 w-full bg-gray-900 cursor-not-allowed"})]})]}),x.jsx("div",{className:"pt-4 border-t border-gray-700",children:x.jsxs("div",{className:"flex space-x-3",children:[x.jsx("button",{type:"submit",disabled:y,className:"flex-1 bg-gradient-to-r from-blue-500 to-purple-600 text-white py-3 rounded-lg font-semibold hover:opacity-90 transition-opacity disabled:opacity-50 flex items-center justify-center space-x-2",children:y?x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),x.jsx("span",{children:"Saving..."})]}):x.jsxs(x.Fragment,{children:[x.jsx(T_,{}),x.jsx("span",{children:"Save Changes"})]})}),x.jsx("button",{type:"button",onClick:te,className:"px-6 bg-gray-700 hover:bg-gray-600 text-white py-3 rounded-lg font-medium transition-colors",children:"Cancel"})]})})]})]})})})},w0=()=>{const o=new Date().getFullYear();return x.jsxs("footer",{className:"fixed bottom-0 left-0 right-0 z-30 bg-gray-900 bg-opacity-80 backdrop-blur-sm border-t border-gray-800 py-3 px-4",children:[x.jsxs("div",{className:"container mx-auto flex flex-col md:flex-row items-center justify-between",children:[x.jsxs("div",{className:"text-gray-400 text-sm mb-2 md:mb-0",children:[x.jsxs("span",{className:"hidden sm:inline",children:["Dayton Nightlife Map  ",o," "]}),x.jsxs("span",{className:"sm:ml-1",children:["Made with ",x.jsx(b_,{className:"inline text-red-400 mx-1"})," in Dayton, OH"]})]}),x.jsxs("div",{className:"flex items-center space-x-6",children:[x.jsx("a",{href:"/privacy",className:"text-gray-400 hover:text-white text-sm transition-colors",children:"Privacy Policy"}),x.jsx("a",{href:"/terms",className:"text-gray-400 hover:text-white text-sm transition-colors",children:"Terms of Service"}),x.jsxs("a",{href:"https://github.com/yourusername/dayton-nightlife-map",target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-white text-sm transition-colors flex items-center",children:[x.jsx(ap,{className:"mr-1"}),x.jsx("span",{children:"Open Source"})]}),x.jsx("a",{href:"/contact",className:"text-gray-400 hover:text-white text-sm transition-colors",children:"Contact"})]})]}),x.jsxs("div",{className:"text-center mt-2",children:[x.jsx("div",{className:"text-xs text-gray-500",children:"This project is open source. Contributions welcome! Data from OpenStreetMap & user submissions."}),x.jsx("div",{className:"text-xs text-gray-600 mt-1",children:"Version 1.0.0  Not affiliated with Yelp, Google, or TripAdvisor"})]})]})};function x0(){const{isLoginModalOpen:o,isPOIRequestModalOpen:r,isProfileModalOpen:s}=vr();return x.jsxs("div",{className:"h-screen w-screen flex flex-col bg-gray-900",children:[x.jsx(U_,{}),x.jsxs("main",{className:"flex-1 relative",children:[x.jsx(f0,{}),x.jsx(m0,{}),x.jsx(g0,{})]}),x.jsx(w0,{}),o&&x.jsx(v0,{}),r&&x.jsx(_0,{}),s&&x.jsx(y0,{})]})}function b0(){return x.jsx(Sm,{children:x.jsx(s_,{children:x.jsx(a_,{children:x.jsx(o_,{children:x.jsx(x0,{})})})})})}var Ic={},Mc={},zc={},Nf;function S0(){return Nf||(Nf=1,(function(o){Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var r=function(){for(var h=arguments.length,p=new Array(h),m=0;m<h;m++)p[m]=arguments[m];if(typeof window<"u"){var _;typeof window.gtag>"u"&&(window.dataLayer=window.dataLayer||[],window.gtag=function(){window.dataLayer.push(arguments)}),(_=window).gtag.apply(_,p)}},s=r;o.default=s})(zc)),zc}var Dc={},jf;function k0(){return jf||(jf=1,(function(o){Object.defineProperty(o,"__esModule",{value:!0}),o.default=m;var r=/^(a|an|and|as|at|but|by|en|for|if|in|nor|of|on|or|per|the|to|vs?\.?|via)$/i;function s(_){return _.toString().trim().replace(/[A-Za-z0-9\u00C0-\u00FF]+[^\s-]*/g,function(y,S,P){return S>0&&S+y.length!==P.length&&y.search(r)>-1&&P.charAt(S-2)!==":"&&(P.charAt(S+y.length)!=="-"||P.charAt(S-1)==="-")&&P.charAt(S-1).search(/[^\s-]/)<0?y.toLowerCase():y.substr(1).search(/[A-Z]|\../)>-1?y:y.charAt(0).toUpperCase()+y.substr(1)})}function u(_){return typeof _=="string"&&_.indexOf("@")!==-1}var h="REDACTED (Potential Email Address)";function p(_){return u(_)?(console.warn("This arg looks like an email address, redacting."),h):_}function m(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,P=_||"";return y&&(P=s(_)),S&&(P=p(P)),P}})(Dc)),Dc}var Rf;function P0(){return Rf||(Rf=1,(function(o){Object.defineProperty(o,"__esModule",{value:!0}),o.default=o.GA4=void 0;var r=m(S0()),s=m(k0()),u=["eventCategory","eventAction","eventLabel","eventValue","hitType"],h=["title","location"],p=["page","hitType"];function m(K){return K&&K.__esModule?K:{default:K}}function _(K,W){if(K==null)return{};var M=y(K,W),q,I;if(Object.getOwnPropertySymbols){var Q=Object.getOwnPropertySymbols(K);for(I=0;I<Q.length;I++)q=Q[I],!(W.indexOf(q)>=0)&&Object.prototype.propertyIsEnumerable.call(K,q)&&(M[q]=K[q])}return M}function y(K,W){if(K==null)return{};var M={},q=Object.keys(K),I,Q;for(Q=0;Q<q.length;Q++)I=q[Q],!(W.indexOf(I)>=0)&&(M[I]=K[I]);return M}function S(K){"@babel/helpers - typeof";return S=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(W){return typeof W}:function(W){return W&&typeof Symbol=="function"&&W.constructor===Symbol&&W!==Symbol.prototype?"symbol":typeof W},S(K)}function P(K){return R(K)||E(K)||te(K)||O()}function O(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function E(K){if(typeof Symbol<"u"&&K[Symbol.iterator]!=null||K["@@iterator"]!=null)return Array.from(K)}function R(K){if(Array.isArray(K))return J(K)}function U(K,W){var M=Object.keys(K);if(Object.getOwnPropertySymbols){var q=Object.getOwnPropertySymbols(K);W&&(q=q.filter(function(I){return Object.getOwnPropertyDescriptor(K,I).enumerable})),M.push.apply(M,q)}return M}function j(K){for(var W=1;W<arguments.length;W++){var M=arguments[W]!=null?arguments[W]:{};W%2?U(Object(M),!0).forEach(function(q){xe(K,q,M[q])}):Object.getOwnPropertyDescriptors?Object.defineProperties(K,Object.getOwnPropertyDescriptors(M)):U(Object(M)).forEach(function(q){Object.defineProperty(K,q,Object.getOwnPropertyDescriptor(M,q))})}return K}function D(K,W){return le(K)||se(K,W)||te(K,W)||X()}function X(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function te(K,W){if(K){if(typeof K=="string")return J(K,W);var M=Object.prototype.toString.call(K).slice(8,-1);if(M==="Object"&&K.constructor&&(M=K.constructor.name),M==="Map"||M==="Set")return Array.from(K);if(M==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(M))return J(K,W)}}function J(K,W){(W==null||W>K.length)&&(W=K.length);for(var M=0,q=new Array(W);M<W;M++)q[M]=K[M];return q}function se(K,W){var M=K==null?null:typeof Symbol<"u"&&K[Symbol.iterator]||K["@@iterator"];if(M!=null){var q,I,Q,V,C=[],Z=!0,ce=!1;try{if(Q=(M=M.call(K)).next,W!==0)for(;!(Z=(q=Q.call(M)).done)&&(C.push(q.value),C.length!==W);Z=!0);}catch(oe){ce=!0,I=oe}finally{try{if(!Z&&M.return!=null&&(V=M.return(),Object(V)!==V))return}finally{if(ce)throw I}}return C}}function le(K){if(Array.isArray(K))return K}function ue(K,W){if(!(K instanceof W))throw new TypeError("Cannot call a class as a function")}function fe(K,W){for(var M=0;M<W.length;M++){var q=W[M];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(K,Je(q.key),q)}}function Ae(K,W,M){return W&&fe(K.prototype,W),Object.defineProperty(K,"prototype",{writable:!1}),K}function xe(K,W,M){return W=Je(W),W in K?Object.defineProperty(K,W,{value:M,enumerable:!0,configurable:!0,writable:!0}):K[W]=M,K}function Je(K){var W=Fe(K,"string");return S(W)==="symbol"?W:String(W)}function Fe(K,W){if(S(K)!=="object"||K===null)return K;var M=K[Symbol.toPrimitive];if(M!==void 0){var q=M.call(K,W);if(S(q)!=="object")return q;throw new TypeError("@@toPrimitive must return a primitive value.")}return(W==="string"?String:Number)(K)}var He=(function(){function K(){var W=this;ue(this,K),xe(this,"reset",function(){W.isInitialized=!1,W._testMode=!1,W._currentMeasurementId,W._hasLoadedGA=!1,W._isQueuing=!1,W._queueGtag=[]}),xe(this,"_gtag",function(){for(var M=arguments.length,q=new Array(M),I=0;I<M;I++)q[I]=arguments[I];W._testMode||W._isQueuing?W._queueGtag.push(q):r.default.apply(void 0,q)}),xe(this,"_loadGA",function(M,q){var I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"https://www.googletagmanager.com/gtag/js";if(!(typeof window>"u"||typeof document>"u")&&!W._hasLoadedGA){var Q=document.createElement("script");Q.async=!0,Q.src="".concat(I,"?id=").concat(M),q&&Q.setAttribute("nonce",q),document.body.appendChild(Q),window.dataLayer=window.dataLayer||[],window.gtag=function(){window.dataLayer.push(arguments)},W._hasLoadedGA=!0}}),xe(this,"_toGtagOptions",function(M){if(M){var q={cookieUpdate:"cookie_update",cookieExpires:"cookie_expires",cookieDomain:"cookie_domain",cookieFlags:"cookie_flags",userId:"user_id",clientId:"client_id",anonymizeIp:"anonymize_ip",contentGroup1:"content_group1",contentGroup2:"content_group2",contentGroup3:"content_group3",contentGroup4:"content_group4",contentGroup5:"content_group5",allowAdFeatures:"allow_google_signals",allowAdPersonalizationSignals:"allow_ad_personalization_signals",nonInteraction:"non_interaction",page:"page_path",hitCallback:"event_callback"},I=Object.entries(M).reduce(function(Q,V){var C=D(V,2),Z=C[0],ce=C[1];return q[Z]?Q[q[Z]]=ce:Q[Z]=ce,Q},{});return I}}),xe(this,"initialize",function(M){var q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!M)throw new Error("Require GA_MEASUREMENT_ID");var I=typeof M=="string"?[{trackingId:M}]:M;W._currentMeasurementId=I[0].trackingId;var Q=q.gaOptions,V=q.gtagOptions,C=q.nonce,Z=q.testMode,ce=Z===void 0?!1:Z,oe=q.gtagUrl;if(W._testMode=ce,ce||W._loadGA(W._currentMeasurementId,C,oe),W.isInitialized||(W._gtag("js",new Date),I.forEach(function(je){var Re=j(j(j({},W._toGtagOptions(j(j({},Q),je.gaOptions))),V),je.gtagOptions);Object.keys(Re).length?W._gtag("config",je.trackingId,Re):W._gtag("config",je.trackingId)})),W.isInitialized=!0,!ce){var me=P(W._queueGtag);for(W._queueGtag=[],W._isQueuing=!1;me.length;){var he=me.shift();W._gtag.apply(W,P(he)),he[0]==="get"&&(W._isQueuing=!0)}}}),xe(this,"set",function(M){if(!M){console.warn("`fieldsObject` is required in .set()");return}if(S(M)!=="object"){console.warn("Expected `fieldsObject` arg to be an Object");return}Object.keys(M).length===0&&console.warn("empty `fieldsObject` given to .set()"),W._gaCommand("set",M)}),xe(this,"_gaCommandSendEvent",function(M,q,I,Q,V){W._gtag("event",q,j(j({event_category:M,event_label:I,value:Q},V&&{non_interaction:V.nonInteraction}),W._toGtagOptions(V)))}),xe(this,"_gaCommandSendEventParameters",function(){for(var M=arguments.length,q=new Array(M),I=0;I<M;I++)q[I]=arguments[I];if(typeof q[0]=="string")W._gaCommandSendEvent.apply(W,P(q.slice(1)));else{var Q=q[0],V=Q.eventCategory,C=Q.eventAction,Z=Q.eventLabel,ce=Q.eventValue;Q.hitType;var oe=_(Q,u);W._gaCommandSendEvent(V,C,Z,ce,oe)}}),xe(this,"_gaCommandSendTiming",function(M,q,I,Q){W._gtag("event","timing_complete",{name:q,value:I,event_category:M,event_label:Q})}),xe(this,"_gaCommandSendPageview",function(M,q){if(q&&Object.keys(q).length){var I=W._toGtagOptions(q),Q=I.title,V=I.location,C=_(I,h);W._gtag("event","page_view",j(j(j(j({},M&&{page_path:M}),Q&&{page_title:Q}),V&&{page_location:V}),C))}else M?W._gtag("event","page_view",{page_path:M}):W._gtag("event","page_view")}),xe(this,"_gaCommandSendPageviewParameters",function(){for(var M=arguments.length,q=new Array(M),I=0;I<M;I++)q[I]=arguments[I];if(typeof q[0]=="string")W._gaCommandSendPageview.apply(W,P(q.slice(1)));else{var Q=q[0],V=Q.page;Q.hitType;var C=_(Q,p);W._gaCommandSendPageview(V,C)}}),xe(this,"_gaCommandSend",function(){for(var M=arguments.length,q=new Array(M),I=0;I<M;I++)q[I]=arguments[I];var Q=typeof q[0]=="string"?q[0]:q[0].hitType;switch(Q){case"event":W._gaCommandSendEventParameters.apply(W,q);break;case"pageview":W._gaCommandSendPageviewParameters.apply(W,q);break;case"timing":W._gaCommandSendTiming.apply(W,P(q.slice(1)));break;case"screenview":case"transaction":case"item":case"social":case"exception":console.warn("Unsupported send command: ".concat(Q));break;default:console.warn("Send command doesn't exist: ".concat(Q))}}),xe(this,"_gaCommandSet",function(){for(var M=arguments.length,q=new Array(M),I=0;I<M;I++)q[I]=arguments[I];typeof q[0]=="string"&&(q[0]=xe({},q[0],q[1])),W._gtag("set",W._toGtagOptions(q[0]))}),xe(this,"_gaCommand",function(M){for(var q=arguments.length,I=new Array(q>1?q-1:0),Q=1;Q<q;Q++)I[Q-1]=arguments[Q];switch(M){case"send":W._gaCommandSend.apply(W,I);break;case"set":W._gaCommandSet.apply(W,I);break;default:console.warn("Command doesn't exist: ".concat(M))}}),xe(this,"ga",function(){for(var M=arguments.length,q=new Array(M),I=0;I<M;I++)q[I]=arguments[I];if(typeof q[0]=="string")W._gaCommand.apply(W,q);else{var Q=q[0];W._gtag("get",W._currentMeasurementId,"client_id",function(V){W._isQueuing=!1;var C=W._queueGtag;for(Q({get:function(oe){return oe==="clientId"?V:oe==="trackingId"?W._currentMeasurementId:oe==="apiVersion"?"1":void 0}});C.length;){var Z=C.shift();W._gtag.apply(W,P(Z))}}),W._isQueuing=!0}return W.ga}),xe(this,"event",function(M,q){if(typeof M=="string")W._gtag("event",M,W._toGtagOptions(q));else{var I=M.action,Q=M.category,V=M.label,C=M.value,Z=M.nonInteraction,ce=M.transport;if(!Q||!I){console.warn("args.category AND args.action are required in event()");return}var oe={hitType:"event",eventCategory:(0,s.default)(Q),eventAction:(0,s.default)(I)};V&&(oe.eventLabel=(0,s.default)(V)),typeof C<"u"&&(typeof C!="number"?console.warn("Expected `args.value` arg to be a Number."):oe.eventValue=C),typeof Z<"u"&&(typeof Z!="boolean"?console.warn("`args.nonInteraction` must be a boolean."):oe.nonInteraction=Z),typeof ce<"u"&&(typeof ce!="string"?console.warn("`args.transport` must be a string."):(["beacon","xhr","image"].indexOf(ce)===-1&&console.warn("`args.transport` must be either one of these values: `beacon`, `xhr` or `image`"),oe.transport=ce)),W._gaCommand("send",oe)}}),xe(this,"send",function(M){W._gaCommand("send",M)}),this.reset()}return Ae(K,[{key:"gtag",value:function(){this._gtag.apply(this,arguments)}}]),K})();o.GA4=He;var dt=new He;o.default=dt})(Mc)),Mc}var If;function E0(){return If||(If=1,(function(o){function r(_){"@babel/helpers - typeof";return r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y},r(_)}Object.defineProperty(o,"__esModule",{value:!0}),o.default=o.ReactGAImplementation=void 0;var s=h(P0());function u(_){if(typeof WeakMap!="function")return null;var y=new WeakMap,S=new WeakMap;return(u=function(O){return O?S:y})(_)}function h(_,y){if(_&&_.__esModule)return _;if(_===null||r(_)!=="object"&&typeof _!="function")return{default:_};var S=u(y);if(S&&S.has(_))return S.get(_);var P={},O=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var E in _)if(E!=="default"&&Object.prototype.hasOwnProperty.call(_,E)){var R=O?Object.getOwnPropertyDescriptor(_,E):null;R&&(R.get||R.set)?Object.defineProperty(P,E,R):P[E]=_[E]}return P.default=_,S&&S.set(_,P),P}var p=s.GA4;o.ReactGAImplementation=p;var m=s.default;o.default=m})(Ic)),Ic}var T0=E0();const _p=ql(T0);class C0 extends G.Component{constructor(r){super(r),this.handleReset=()=>{this.setState({hasError:!1,error:null,errorInfo:null})},this.handleGoHome=()=>{window.location.href="/"},this.handleReload=()=>{window.location.reload()},this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(r){return{hasError:!0,error:r,errorInfo:null}}componentDidCatch(r,s){this.setState({error:r,errorInfo:s}),_p.event({category:"error",action:"error_boundary_caught",label:r.message,value:0})}render(){return this.state.hasError?x.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center p-4",children:x.jsxs("div",{className:"max-w-md w-full bg-gray-800 rounded-2xl shadow-2xl border border-gray-700 p-8 text-center",children:[x.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-red-900 bg-opacity-20 rounded-full mb-6",children:x.jsx(y_,{className:"text-red-400 text-4xl"})}),x.jsx("h1",{className:"text-2xl font-bold text-white mb-3",children:"Something went wrong"}),x.jsx("p",{className:"text-gray-400 mb-6",children:"We apologize for the inconvenience. An error has occurred in the application."}),!1,x.jsxs("div",{className:"space-y-3",children:[x.jsxs("button",{onClick:this.handleReset,className:"w-full bg-blue-600 hover:bg-blue-700 text-white py-3 px-4 rounded-lg font-semibold flex items-center justify-center space-x-2 transition-colors",children:[x.jsx(Lf,{}),x.jsx("span",{children:"Try Again"})]}),x.jsxs("button",{onClick:this.handleReload,className:"w-full bg-gray-700 hover:bg-gray-600 text-white py-3 px-4 rounded-lg font-medium flex items-center justify-center space-x-2 transition-colors",children:[x.jsx(Lf,{}),x.jsx("span",{children:"Reload Page"})]}),x.jsxs("button",{onClick:this.handleGoHome,className:"w-full bg-gray-800 hover:bg-gray-700 text-white py-3 px-4 rounded-lg font-medium flex items-center justify-center space-x-2 transition-colors border border-gray-700",children:[x.jsx(cp,{}),x.jsx("span",{children:"Go to Homepage"})]})]}),x.jsxs("div",{className:"mt-8 pt-6 border-t border-gray-700",children:[x.jsx("p",{className:"text-sm text-gray-500",children:"If the problem persists, please contact support."}),x.jsx("button",{onClick:()=>window.location.href="mailto:support@example.com",className:"text-blue-400 hover:text-blue-300 text-sm mt-2",children:"Contact Support"})]})]})}):this.props.children}}_p.initialize("G-SW4D8H4XD6");cm.createRoot(document.getElementById("root")).render(x.jsx(yn.StrictMode,{children:x.jsx(C0,{children:x.jsx(b0,{})})}));
